
# The Battle of Neighborhoods (Week 1)

## Part 1 : Introduction and Data Sections


```python
import numpy as np # library to handle data in a vectorized manner
import time
import pandas as pd # library for data analsysis
pd.set_option('display.max_columns', None)
pd.set_option('display.max_rows', None)
import json # library to handle JSON files
import requests # library to handle requests
from pandas.io.json import json_normalize # tranform JSON file into a pandas dataframe


```


```python
from geopy.geocoders import Nominatim # convert an address into latitude and longitude values
!conda install -c conda-forge folium=0.5.0 --yes # uncomment this line if you haven't completed the Foursquare API lab
import folium # map rendering library

print('Libraries imported.')
```


# 1. Introduction Section :
### Discussion of the business problem and the audience who would be interested in this project.
### Description of the Problem and Background
### Scenario:

I am a student living Singapore. I want to use this opportunity to practice my learnings in Coursera in order to answer relevant questions arisen. The key question is : How can I find a convenient and enjoyable place similar to mine now in Singapore? Certainly, I can use available real estate apps and Google but the idea is to use and apply myself the learned tools during the course. In order to make a comparison and evaluation of the rental options in Manhattan NY, I must set some basis, therefore the apartment in Manhattan must meet the following demands:

    apartment must be 2 or 3 bedrooms
    desired location is near a metro station in the Manhattan area and within 1.0 mile (1.6 km) radius
    price of rent not exceed $7,000 per month
    top ammenities in the selected neighborhood shall be similar to current residence
    desirable to have venues such as coffee shops, restaurants Asian Thai, wine stores, gym and food shops
    as a reference, I have included a map of venues near current residence in Singapore.

Business Problem:

The challenge is to find a suitable apartment for rent in Manhattan NY that complies with the demands on location, price and venues. The data required to resolve this challenge is described in the following section 2, below.
Interested Audience

I believe this is a relevant challenge with valid questions for anyone moving to other large city in US, EU or Asia. The same methodology can be applied in accordance to demands as applicable. This case is also applicable for anyone interested in exploring starting or locating a new business in any city. Lastly, it can also serve as a good practical exercise to develop Data Science skills.



# 2. Data Section:¶
### Description of the data and its sources that will be used to solve the problem
### Description of the Data:¶

The following data is required to answer the issues of the problem:

    List of Boroughs and neighborhoods of Manhattan with their geodata (latitud and longitud)
    List of Subway metro stations in Manhattan with their address location
    List of apartments for rent in Manhattan area with their addresses and price
    Preferably, a list of apartment for rent with additional information, such as price, address, area, # of beds, etc
    Venues for each Manhattan neighborhood ( than can be clustered)
    Venues for subway metro stations, as needed

### How the data will be used to solve the problem

The data will be used as follows:

    Use Foursquare and geopy data to map top 10 venues for all Manhattan neighborhoods and clustered in groups ( as per Course LAB)
    Use foursquare and geopy data to map the location of subway metro stations , separately and on top of the above clustered map in order to be able to identify the venues and ammenities near each metro station, or explore each subway location separately
    Use Foursquare and geopy data to map the location of rental places, in some form, linked to the subway locations.
    create a map that depicts, for instance, the average rental price per square ft, around a radious of 1.0 mile (1.6 km) around each subway station - or a similar metrics. I will be able to quickly point to the popups to know the relative price per subway area.
    Addresses from rental locations will be converted to geodata( lat, long) using Geopy-distance and Nominatim.
    Data will be searched in open data sources if available, from real estate sites if open to reading, libraries or other government agencies such as Metro New York MTA, etc.

The procesing of these DATA will allow to answer the key questions to make a decision:

    what is the cost of rent (per square ft) around a mile radius from each subway metro station?
    what is the area of Manhattan with best rental pricing that meets criteria established?
    What is the distance from work place ( Park Ave and 53 rd St) and the tentative future home?
    What are the venues of the two best places to live? How the prices compare?
    How venues distribute among Manhattan neighborhoods and around metro stations?
    Are there tradeoffs between size and price and location?
    Any other interesting statistical data findings of the real estate and overall data.

Reference of venues around current residence in Singapore for comparison to Manhattan place



```python
# Shenton Way, District 01, Singapore
address = 'Mccallum Street, Singapore'

geolocator = Nominatim()
location = geolocator.geocode(address)
latitude = location.latitude
longitude = location.longitude
print('The geograpical coordinate of Singapore home are {}, {}.'.format(latitude, longitude))
```


```python
neighborhood_latitude=1.2792655
neighborhood_longitude=103.8480938
```


```python
CLIENT_ID = 'DVCTZDPDYXTS0BRJFPLMHM323APGXNWZI5PLRQ1VC0CFLF1T' # your Foursquare ID
CLIENT_SECRET = '5NWAGXRLXIXAV0L3DNYY1EPIHNMAAAIZFDFELYSYXL5LFWL1' # your Foursquare Secret
VERSION = '20180605' # Foursquare API version

print('Your credentails:')
print('CLIENT_ID: ' + CLIENT_ID)
print('CLIENT_SECRET:' + CLIENT_SECRET)

```

    Your credentails:
    CLIENT_ID: DVCTZDPDYXTS0BRJFPLMHM323APGXNWZI5PLRQ1VC0CFLF1T
    CLIENT_SECRET:5NWAGXRLXIXAV0L3DNYY1EPIHNMAAAIZFDFELYSYXL5LFWL1



```python
LIMIT = 100 # limit of number of venues returned by Foursquare API
radius = 500 # define radius

# create URL
url = 'https://api.foursquare.com/v2/venues/explore?&client_id={}&client_secret={}&v={}&ll={},{}&radius={}&limit={}'.format(
    CLIENT_ID, 
    CLIENT_SECRET, 
    VERSION, 
    neighborhood_latitude, 
    neighborhood_longitude, 
    radius, 
    LIMIT)
url # display URL
```




    'https://api.foursquare.com/v2/venues/explore?&client_id=DVCTZDPDYXTS0BRJFPLMHM323APGXNWZI5PLRQ1VC0CFLF1T&client_secret=5NWAGXRLXIXAV0L3DNYY1EPIHNMAAAIZFDFELYSYXL5LFWL1&v=20180605&ll=1.2792655,103.8480938&radius=500&limit=100'




```python
results = requests.get(url).json()
#results
```


```python
# function that extracts the category of the venue
def get_category_type(row):
    try:
        categories_list = row['categories']
    except:
        categories_list = row['venue.categories']
        
    if len(categories_list) == 0:
        return None
    else:
        return categories_list[0]['name']
```


```python
venues = results['response']['groups'][0]['items']
    
SGnearby_venues = json_normalize(venues) # flatten JSON

# filter columns
filtered_columns = ['venue.name', 'venue.categories', 'venue.location.lat', 'venue.location.lng']
SGnearby_venues =SGnearby_venues.loc[:, filtered_columns]

# filter the category for each row
SGnearby_venues['venue.categories'] = SGnearby_venues.apply(get_category_type, axis=1)

# clean columns
SGnearby_venues.columns = [col.split(".")[-1] for col in SGnearby_venues.columns]

SGnearby_venues.head(10)
```




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>name</th>
      <th>categories</th>
      <th>lat</th>
      <th>lng</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>Napoleon Food &amp; Wine Bar</td>
      <td>Wine Bar</td>
      <td>1.279925</td>
      <td>103.847333</td>
    </tr>
    <tr>
      <th>1</th>
      <td>Native</td>
      <td>Cocktail Bar</td>
      <td>1.280135</td>
      <td>103.846844</td>
    </tr>
    <tr>
      <th>2</th>
      <td>Pepper Bowl</td>
      <td>Asian Restaurant</td>
      <td>1.279371</td>
      <td>103.846710</td>
    </tr>
    <tr>
      <th>3</th>
      <td>Park Bench Deli</td>
      <td>Deli / Bodega</td>
      <td>1.279872</td>
      <td>103.847287</td>
    </tr>
    <tr>
      <th>4</th>
      <td>Muchachos</td>
      <td>Burrito Place</td>
      <td>1.279072</td>
      <td>103.847026</td>
    </tr>
    <tr>
      <th>5</th>
      <td>Mellower Coffee</td>
      <td>Café</td>
      <td>1.277814</td>
      <td>103.848188</td>
    </tr>
    <tr>
      <th>6</th>
      <td>Freehouse</td>
      <td>Beer Garden</td>
      <td>1.281254</td>
      <td>103.848513</td>
    </tr>
    <tr>
      <th>7</th>
      <td>Sofitel So Singapore</td>
      <td>Hotel</td>
      <td>1.280017</td>
      <td>103.849813</td>
    </tr>
    <tr>
      <th>8</th>
      <td>Dumpling Darlings</td>
      <td>Dumpling Restaurant</td>
      <td>1.280483</td>
      <td>103.846942</td>
    </tr>
    <tr>
      <th>9</th>
      <td>PS.Cafe</td>
      <td>Café</td>
      <td>1.280468</td>
      <td>103.846264</td>
    </tr>
  </tbody>
</table>
</div>




```python
# create map of Singapore place  using latitude and longitude values
map_sg = folium.Map(location=[latitude, longitude], zoom_start=20)

# add markers to map
for lat, lng, label in zip(SGnearby_venues['lat'], SGnearby_venues['lng'], SGnearby_venues['name']):
    label = folium.Popup(label, parse_html=True)
    folium.RegularPolygonMarker(
        [lat, lng],
        number_of_sides=4,
        radius=10,
        popup=label,
        color='blue',
        fill_color='#0f0f0f',
        fill_opacity=0.7,
    ).add_to(map_sg)  
    
map_sg
```




<div style="width:100%;"><div style="position:relative;width:100%;height:0;padding-bottom:60%;"><iframe src="about:blank" style="position:absolute;width:100%;height:100%;left:0;top:0;border:none !important;" data-html=PCFET0NUWVBFIGh0bWw+CjxoZWFkPiAgICAKICAgIDxtZXRhIGh0dHAtZXF1aXY9ImNvbnRlbnQtdHlwZSIgY29udGVudD0idGV4dC9odG1sOyBjaGFyc2V0PVVURi04IiAvPgogICAgPHNjcmlwdD5MX1BSRUZFUl9DQU5WQVMgPSBmYWxzZTsgTF9OT19UT1VDSCA9IGZhbHNlOyBMX0RJU0FCTEVfM0QgPSBmYWxzZTs8L3NjcmlwdD4KICAgIDxzY3JpcHQgc3JjPSJodHRwczovL2Nkbi5qc2RlbGl2ci5uZXQvbnBtL2xlYWZsZXRAMS4yLjAvZGlzdC9sZWFmbGV0LmpzIj48L3NjcmlwdD4KICAgIDxzY3JpcHQgc3JjPSJodHRwczovL2FqYXguZ29vZ2xlYXBpcy5jb20vYWpheC9saWJzL2pxdWVyeS8xLjExLjEvanF1ZXJ5Lm1pbi5qcyI+PC9zY3JpcHQ+CiAgICA8c2NyaXB0IHNyYz0iaHR0cHM6Ly9tYXhjZG4uYm9vdHN0cmFwY2RuLmNvbS9ib290c3RyYXAvMy4yLjAvanMvYm9vdHN0cmFwLm1pbi5qcyI+PC9zY3JpcHQ+CiAgICA8c2NyaXB0IHNyYz0iaHR0cHM6Ly9jZG5qcy5jbG91ZGZsYXJlLmNvbS9hamF4L2xpYnMvTGVhZmxldC5hd2Vzb21lLW1hcmtlcnMvMi4wLjIvbGVhZmxldC5hd2Vzb21lLW1hcmtlcnMuanMiPjwvc2NyaXB0PgogICAgPGxpbmsgcmVsPSJzdHlsZXNoZWV0IiBocmVmPSJodHRwczovL2Nkbi5qc2RlbGl2ci5uZXQvbnBtL2xlYWZsZXRAMS4yLjAvZGlzdC9sZWFmbGV0LmNzcyIvPgogICAgPGxpbmsgcmVsPSJzdHlsZXNoZWV0IiBocmVmPSJodHRwczovL21heGNkbi5ib290c3RyYXBjZG4uY29tL2Jvb3RzdHJhcC8zLjIuMC9jc3MvYm9vdHN0cmFwLm1pbi5jc3MiLz4KICAgIDxsaW5rIHJlbD0ic3R5bGVzaGVldCIgaHJlZj0iaHR0cHM6Ly9tYXhjZG4uYm9vdHN0cmFwY2RuLmNvbS9ib290c3RyYXAvMy4yLjAvY3NzL2Jvb3RzdHJhcC10aGVtZS5taW4uY3NzIi8+CiAgICA8bGluayByZWw9InN0eWxlc2hlZXQiIGhyZWY9Imh0dHBzOi8vbWF4Y2RuLmJvb3RzdHJhcGNkbi5jb20vZm9udC1hd2Vzb21lLzQuNi4zL2Nzcy9mb250LWF3ZXNvbWUubWluLmNzcyIvPgogICAgPGxpbmsgcmVsPSJzdHlsZXNoZWV0IiBocmVmPSJodHRwczovL2NkbmpzLmNsb3VkZmxhcmUuY29tL2FqYXgvbGlicy9MZWFmbGV0LmF3ZXNvbWUtbWFya2Vycy8yLjAuMi9sZWFmbGV0LmF3ZXNvbWUtbWFya2Vycy5jc3MiLz4KICAgIDxsaW5rIHJlbD0ic3R5bGVzaGVldCIgaHJlZj0iaHR0cHM6Ly9yYXdnaXQuY29tL3B5dGhvbi12aXN1YWxpemF0aW9uL2ZvbGl1bS9tYXN0ZXIvZm9saXVtL3RlbXBsYXRlcy9sZWFmbGV0LmF3ZXNvbWUucm90YXRlLmNzcyIvPgogICAgPHN0eWxlPmh0bWwsIGJvZHkge3dpZHRoOiAxMDAlO2hlaWdodDogMTAwJTttYXJnaW46IDA7cGFkZGluZzogMDt9PC9zdHlsZT4KICAgIDxzdHlsZT4jbWFwIHtwb3NpdGlvbjphYnNvbHV0ZTt0b3A6MDtib3R0b206MDtyaWdodDowO2xlZnQ6MDt9PC9zdHlsZT4KICAgIAogICAgICAgICAgICA8c3R5bGU+ICNtYXBfZjAxYjY3OTAwYjdjNDk3YThjNzZlNWNkMWM4NTk0NDYgewogICAgICAgICAgICAgICAgcG9zaXRpb24gOiByZWxhdGl2ZTsKICAgICAgICAgICAgICAgIHdpZHRoIDogMTAwLjAlOwogICAgICAgICAgICAgICAgaGVpZ2h0OiAxMDAuMCU7CiAgICAgICAgICAgICAgICBsZWZ0OiAwLjAlOwogICAgICAgICAgICAgICAgdG9wOiAwLjAlOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICA8L3N0eWxlPgogICAgICAgIAogICAgPHNjcmlwdCBzcmM9Imh0dHBzOi8vY2RuanMuY2xvdWRmbGFyZS5jb20vYWpheC9saWJzL2xlYWZsZXQtZHZmLzAuMy4wL2xlYWZsZXQtZHZmLm1hcmtlcnMubWluLmpzIj48L3NjcmlwdD4KPC9oZWFkPgo8Ym9keT4gICAgCiAgICAKICAgICAgICAgICAgPGRpdiBjbGFzcz0iZm9saXVtLW1hcCIgaWQ9Im1hcF9mMDFiNjc5MDBiN2M0OTdhOGM3NmU1Y2QxYzg1OTQ0NiIgPjwvZGl2PgogICAgICAgIAo8L2JvZHk+CjxzY3JpcHQ+ICAgIAogICAgCgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBib3VuZHMgPSBudWxsOwogICAgICAgICAgICAKCiAgICAgICAgICAgIHZhciBtYXBfZjAxYjY3OTAwYjdjNDk3YThjNzZlNWNkMWM4NTk0NDYgPSBMLm1hcCgKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdtYXBfZjAxYjY3OTAwYjdjNDk3YThjNzZlNWNkMWM4NTk0NDYnLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2NlbnRlcjogWzEuMjc4NDgwMSwxMDMuODQ5MzcxN10sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB6b29tOiAyMCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1heEJvdW5kczogYm91bmRzLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGF5ZXJzOiBbXSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdvcmxkQ29weUp1bXA6IGZhbHNlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3JzOiBMLkNSUy5FUFNHMzg1NwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHRpbGVfbGF5ZXJfMDFlMTUxMTI0YzJjNGYzMmEwM2YwMjNmYTk5MzIyZmMgPSBMLnRpbGVMYXllcigKICAgICAgICAgICAgICAgICdodHRwczovL3tzfS50aWxlLm9wZW5zdHJlZXRtYXAub3JnL3t6fS97eH0ve3l9LnBuZycsCiAgICAgICAgICAgICAgICB7CiAgImF0dHJpYnV0aW9uIjogbnVsbCwKICAiZGV0ZWN0UmV0aW5hIjogZmFsc2UsCiAgIm1heFpvb20iOiAxOCwKICAibWluWm9vbSI6IDEsCiAgIm5vV3JhcCI6IGZhbHNlLAogICJzdWJkb21haW5zIjogImFiYyIKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfZjAxYjY3OTAwYjdjNDk3YThjNzZlNWNkMWM4NTk0NDYpOwogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciByZWd1bGFyX3BvbHlnb25fbWFya2VyXzM4MDYyYTk2MDkwOTQyMmU4ZGM4NjU1MWE5MjBmYTE4ID0gbmV3IEwuUmVndWxhclBvbHlnb25NYXJrZXIoCiAgICAgICAgICAgICAgICBuZXcgTC5MYXRMbmcoMS4yNzk5MjQ5Mzg3NDM5MjA0LDEwMy44NDczMzMwMDU3NDI4OCksCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgaWNvbiA6IG5ldyBMLkljb24uRGVmYXVsdCgpLAogICAgICAgICAgICAgICAgICAgIGNvbG9yOiAnYmx1ZScsCiAgICAgICAgICAgICAgICAgICAgb3BhY2l0eTogMSwKICAgICAgICAgICAgICAgICAgICB3ZWlnaHQ6IDIsCiAgICAgICAgICAgICAgICAgICAgZmlsbENvbG9yOiAnIzBmMGYwZicsCiAgICAgICAgICAgICAgICAgICAgZmlsbE9wYWNpdHk6IDAuNywKICAgICAgICAgICAgICAgICAgICBudW1iZXJPZlNpZGVzOiA0LAogICAgICAgICAgICAgICAgICAgIHJvdGF0aW9uOiAwLAogICAgICAgICAgICAgICAgICAgIHJhZGl1czogMTAKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICAuYWRkVG8obWFwX2YwMWI2NzkwMGI3YzQ5N2E4Yzc2ZTVjZDFjODU5NDQ2KTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwX2M5ZWRiYjM1M2QxMzQzNjY5NWJiY2EyZTZmZmNlOTE3ID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sX2M4NmVkMGE3ZWQyMTRhMjA5NzY4ODBkMmI3MzA0MzRiID0gJCgnPGRpdiBpZD0iaHRtbF9jODZlZDBhN2VkMjE0YTIwOTc2ODgwZDJiNzMwNDM0YiIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+TmFwb2xlb24gRm9vZCAmYW1wOyBXaW5lIEJhcjwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfYzllZGJiMzUzZDEzNDM2Njk1YmJjYTJlNmZmY2U5MTcuc2V0Q29udGVudChodG1sX2M4NmVkMGE3ZWQyMTRhMjA5NzY4ODBkMmI3MzA0MzRiKTsKICAgICAgICAgICAgCgogICAgICAgICAgICByZWd1bGFyX3BvbHlnb25fbWFya2VyXzM4MDYyYTk2MDkwOTQyMmU4ZGM4NjU1MWE5MjBmYTE4LmJpbmRQb3B1cChwb3B1cF9jOWVkYmIzNTNkMTM0MzY2OTViYmNhMmU2ZmZjZTkxNyk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcmVndWxhcl9wb2x5Z29uX21hcmtlcl80OTdmNTJiMzg4ZjQ0NDcyODE5ZWQ3ZGNhNzExOWUzNSA9IG5ldyBMLlJlZ3VsYXJQb2x5Z29uTWFya2VyKAogICAgICAgICAgICAgICAgbmV3IEwuTGF0TG5nKDEuMjgwMTM1NDI0NDE0Njk1OSwxMDMuODQ2ODQ0MzA4MDI4MDUpLAogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgIGljb24gOiBuZXcgTC5JY29uLkRlZmF1bHQoKSwKICAgICAgICAgICAgICAgICAgICBjb2xvcjogJ2JsdWUnLAogICAgICAgICAgICAgICAgICAgIG9wYWNpdHk6IDEsCiAgICAgICAgICAgICAgICAgICAgd2VpZ2h0OiAyLAogICAgICAgICAgICAgICAgICAgIGZpbGxDb2xvcjogJyMwZjBmMGYnLAogICAgICAgICAgICAgICAgICAgIGZpbGxPcGFjaXR5OiAwLjcsCiAgICAgICAgICAgICAgICAgICAgbnVtYmVyT2ZTaWRlczogNCwKICAgICAgICAgICAgICAgICAgICByb3RhdGlvbjogMCwKICAgICAgICAgICAgICAgICAgICByYWRpdXM6IDEwCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgLmFkZFRvKG1hcF9mMDFiNjc5MDBiN2M0OTdhOGM3NmU1Y2QxYzg1OTQ0Nik7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF8yZDY5NDY0NzlkMzA0ZDUwYTY4ODg1OGNlNDVlZmIxYyA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF9kNGE5ZDkwNzhhYWI0ODgxYTBiODRmZGVlZGIxNjlkNCA9ICQoJzxkaXYgaWQ9Imh0bWxfZDRhOWQ5MDc4YWFiNDg4MWEwYjg0ZmRlZWRiMTY5ZDQiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPk5hdGl2ZTwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfMmQ2OTQ2NDc5ZDMwNGQ1MGE2ODg4NThjZTQ1ZWZiMWMuc2V0Q29udGVudChodG1sX2Q0YTlkOTA3OGFhYjQ4ODFhMGI4NGZkZWVkYjE2OWQ0KTsKICAgICAgICAgICAgCgogICAgICAgICAgICByZWd1bGFyX3BvbHlnb25fbWFya2VyXzQ5N2Y1MmIzODhmNDQ0NzI4MTllZDdkY2E3MTE5ZTM1LmJpbmRQb3B1cChwb3B1cF8yZDY5NDY0NzlkMzA0ZDUwYTY4ODg1OGNlNDVlZmIxYyk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcmVndWxhcl9wb2x5Z29uX21hcmtlcl9hM2YzNTY1MjM3MWE0Njk1OWE1ZTAxYWE4MTk2OTg4OCA9IG5ldyBMLlJlZ3VsYXJQb2x5Z29uTWFya2VyKAogICAgICAgICAgICAgICAgbmV3IEwuTGF0TG5nKDEuMjc5MzcxLDEwMy44NDY3MSksCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgaWNvbiA6IG5ldyBMLkljb24uRGVmYXVsdCgpLAogICAgICAgICAgICAgICAgICAgIGNvbG9yOiAnYmx1ZScsCiAgICAgICAgICAgICAgICAgICAgb3BhY2l0eTogMSwKICAgICAgICAgICAgICAgICAgICB3ZWlnaHQ6IDIsCiAgICAgICAgICAgICAgICAgICAgZmlsbENvbG9yOiAnIzBmMGYwZicsCiAgICAgICAgICAgICAgICAgICAgZmlsbE9wYWNpdHk6IDAuNywKICAgICAgICAgICAgICAgICAgICBudW1iZXJPZlNpZGVzOiA0LAogICAgICAgICAgICAgICAgICAgIHJvdGF0aW9uOiAwLAogICAgICAgICAgICAgICAgICAgIHJhZGl1czogMTAKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICAuYWRkVG8obWFwX2YwMWI2NzkwMGI3YzQ5N2E4Yzc2ZTVjZDFjODU5NDQ2KTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzAzNjU3MDczMTY3MzQ0NDBhYzNmYjNmMDY2M2Y0OTcxID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sX2Y5NmU4YTY2YjMzODQxYjA5YTUwM2M1NDJlN2FkOGE1ID0gJCgnPGRpdiBpZD0iaHRtbF9mOTZlOGE2NmIzMzg0MWIwOWE1MDNjNTQyZTdhZDhhNSIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+UGVwcGVyIEJvd2w8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzAzNjU3MDczMTY3MzQ0NDBhYzNmYjNmMDY2M2Y0OTcxLnNldENvbnRlbnQoaHRtbF9mOTZlOGE2NmIzMzg0MWIwOWE1MDNjNTQyZTdhZDhhNSk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgcmVndWxhcl9wb2x5Z29uX21hcmtlcl9hM2YzNTY1MjM3MWE0Njk1OWE1ZTAxYWE4MTk2OTg4OC5iaW5kUG9wdXAocG9wdXBfMDM2NTcwNzMxNjczNDQ0MGFjM2ZiM2YwNjYzZjQ5NzEpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHJlZ3VsYXJfcG9seWdvbl9tYXJrZXJfMDRiNDIzZmU1MDcwNDAwODhiYmEyNDA1MzE2YzY3MWQgPSBuZXcgTC5SZWd1bGFyUG9seWdvbk1hcmtlcigKICAgICAgICAgICAgICAgIG5ldyBMLkxhdExuZygxLjI3OTg3MjM2MDg3NTk0MzIsMTAzLjg0NzI4NzEwMTEyNzA1KSwKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICBpY29uIDogbmV3IEwuSWNvbi5EZWZhdWx0KCksCiAgICAgICAgICAgICAgICAgICAgY29sb3I6ICdibHVlJywKICAgICAgICAgICAgICAgICAgICBvcGFjaXR5OiAxLAogICAgICAgICAgICAgICAgICAgIHdlaWdodDogMiwKICAgICAgICAgICAgICAgICAgICBmaWxsQ29sb3I6ICcjMGYwZjBmJywKICAgICAgICAgICAgICAgICAgICBmaWxsT3BhY2l0eTogMC43LAogICAgICAgICAgICAgICAgICAgIG51bWJlck9mU2lkZXM6IDQsCiAgICAgICAgICAgICAgICAgICAgcm90YXRpb246IDAsCiAgICAgICAgICAgICAgICAgICAgcmFkaXVzOiAxMAogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgIC5hZGRUbyhtYXBfZjAxYjY3OTAwYjdjNDk3YThjNzZlNWNkMWM4NTk0NDYpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfYjU1NzVmNDllMzNiNDU5NWE1MDk1YWY3YzNiOWUzMjQgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfMDdiNWYxYmEyY2I4NGM4MmFkMjQ0NTEyNDk2OGFmYzUgPSAkKCc8ZGl2IGlkPSJodG1sXzA3YjVmMWJhMmNiODRjODJhZDI0NDUxMjQ5NjhhZmM1IiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5QYXJrIEJlbmNoIERlbGk8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwX2I1NTc1ZjQ5ZTMzYjQ1OTVhNTA5NWFmN2MzYjllMzI0LnNldENvbnRlbnQoaHRtbF8wN2I1ZjFiYTJjYjg0YzgyYWQyNDQ1MTI0OTY4YWZjNSk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgcmVndWxhcl9wb2x5Z29uX21hcmtlcl8wNGI0MjNmZTUwNzA0MDA4OGJiYTI0MDUzMTZjNjcxZC5iaW5kUG9wdXAocG9wdXBfYjU1NzVmNDllMzNiNDU5NWE1MDk1YWY3YzNiOWUzMjQpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHJlZ3VsYXJfcG9seWdvbl9tYXJrZXJfOGU0NDgxZWEzYmU5NDdkMjlkYzJhYWY3MGI5NDA0ZGMgPSBuZXcgTC5SZWd1bGFyUG9seWdvbk1hcmtlcigKICAgICAgICAgICAgICAgIG5ldyBMLkxhdExuZygxLjI3OTA3MjEzMzI4MjExMjQsMTAzLjg0NzAyNTU2NzQ5NTA0KSwKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICBpY29uIDogbmV3IEwuSWNvbi5EZWZhdWx0KCksCiAgICAgICAgICAgICAgICAgICAgY29sb3I6ICdibHVlJywKICAgICAgICAgICAgICAgICAgICBvcGFjaXR5OiAxLAogICAgICAgICAgICAgICAgICAgIHdlaWdodDogMiwKICAgICAgICAgICAgICAgICAgICBmaWxsQ29sb3I6ICcjMGYwZjBmJywKICAgICAgICAgICAgICAgICAgICBmaWxsT3BhY2l0eTogMC43LAogICAgICAgICAgICAgICAgICAgIG51bWJlck9mU2lkZXM6IDQsCiAgICAgICAgICAgICAgICAgICAgcm90YXRpb246IDAsCiAgICAgICAgICAgICAgICAgICAgcmFkaXVzOiAxMAogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgIC5hZGRUbyhtYXBfZjAxYjY3OTAwYjdjNDk3YThjNzZlNWNkMWM4NTk0NDYpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfZjgwZjYxMTY2OTE5NGYyMjkzYmViYTU2ZWFiODQ4YzQgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfMWYwOGU1OWM3NTEzNGZhZThjYWNhMDIzYWQzYmU0M2IgPSAkKCc8ZGl2IGlkPSJodG1sXzFmMDhlNTljNzUxMzRmYWU4Y2FjYTAyM2FkM2JlNDNiIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5NdWNoYWNob3M8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwX2Y4MGY2MTE2NjkxOTRmMjI5M2JlYmE1NmVhYjg0OGM0LnNldENvbnRlbnQoaHRtbF8xZjA4ZTU5Yzc1MTM0ZmFlOGNhY2EwMjNhZDNiZTQzYik7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgcmVndWxhcl9wb2x5Z29uX21hcmtlcl84ZTQ0ODFlYTNiZTk0N2QyOWRjMmFhZjcwYjk0MDRkYy5iaW5kUG9wdXAocG9wdXBfZjgwZjYxMTY2OTE5NGYyMjkzYmViYTU2ZWFiODQ4YzQpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHJlZ3VsYXJfcG9seWdvbl9tYXJrZXJfMjM1N2YwMmJkYmE4NDk5N2I5YzkzZGQ3MmU3MjA4NTMgPSBuZXcgTC5SZWd1bGFyUG9seWdvbk1hcmtlcigKICAgICAgICAgICAgICAgIG5ldyBMLkxhdExuZygxLjI3NzgxNDEwNjUwODcwNTQsMTAzLjg0ODE4NzgxNjE3MzU0KSwKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICBpY29uIDogbmV3IEwuSWNvbi5EZWZhdWx0KCksCiAgICAgICAgICAgICAgICAgICAgY29sb3I6ICdibHVlJywKICAgICAgICAgICAgICAgICAgICBvcGFjaXR5OiAxLAogICAgICAgICAgICAgICAgICAgIHdlaWdodDogMiwKICAgICAgICAgICAgICAgICAgICBmaWxsQ29sb3I6ICcjMGYwZjBmJywKICAgICAgICAgICAgICAgICAgICBmaWxsT3BhY2l0eTogMC43LAogICAgICAgICAgICAgICAgICAgIG51bWJlck9mU2lkZXM6IDQsCiAgICAgICAgICAgICAgICAgICAgcm90YXRpb246IDAsCiAgICAgICAgICAgICAgICAgICAgcmFkaXVzOiAxMAogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgIC5hZGRUbyhtYXBfZjAxYjY3OTAwYjdjNDk3YThjNzZlNWNkMWM4NTk0NDYpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfNWYyYjEyYmJiOTQ1NDZhY2E4ZTU0OTJlZGVkMDViYjYgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfNjhiZjgyMDMyYmU5NGI1OGFjNTQxZDAxOGQwYjAwOTkgPSAkKCc8ZGl2IGlkPSJodG1sXzY4YmY4MjAzMmJlOTRiNThhYzU0MWQwMThkMGIwMDk5IiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5NZWxsb3dlciBDb2ZmZWU8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzVmMmIxMmJiYjk0NTQ2YWNhOGU1NDkyZWRlZDA1YmI2LnNldENvbnRlbnQoaHRtbF82OGJmODIwMzJiZTk0YjU4YWM1NDFkMDE4ZDBiMDA5OSk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgcmVndWxhcl9wb2x5Z29uX21hcmtlcl8yMzU3ZjAyYmRiYTg0OTk3YjljOTNkZDcyZTcyMDg1My5iaW5kUG9wdXAocG9wdXBfNWYyYjEyYmJiOTQ1NDZhY2E4ZTU0OTJlZGVkMDViYjYpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHJlZ3VsYXJfcG9seWdvbl9tYXJrZXJfNGZiZjJmMzA4NmZmNDkyMGEwZTk4MTIwYTM2MWU1ODQgPSBuZXcgTC5SZWd1bGFyUG9seWdvbk1hcmtlcigKICAgICAgICAgICAgICAgIG5ldyBMLkxhdExuZygxLjI4MTI1NDQ5MTU1OTYyMzgsMTAzLjg0ODUxMjg4MDg5MjkpLAogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgIGljb24gOiBuZXcgTC5JY29uLkRlZmF1bHQoKSwKICAgICAgICAgICAgICAgICAgICBjb2xvcjogJ2JsdWUnLAogICAgICAgICAgICAgICAgICAgIG9wYWNpdHk6IDEsCiAgICAgICAgICAgICAgICAgICAgd2VpZ2h0OiAyLAogICAgICAgICAgICAgICAgICAgIGZpbGxDb2xvcjogJyMwZjBmMGYnLAogICAgICAgICAgICAgICAgICAgIGZpbGxPcGFjaXR5OiAwLjcsCiAgICAgICAgICAgICAgICAgICAgbnVtYmVyT2ZTaWRlczogNCwKICAgICAgICAgICAgICAgICAgICByb3RhdGlvbjogMCwKICAgICAgICAgICAgICAgICAgICByYWRpdXM6IDEwCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgLmFkZFRvKG1hcF9mMDFiNjc5MDBiN2M0OTdhOGM3NmU1Y2QxYzg1OTQ0Nik7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF9kZTY4NDEwOGUwMGQ0N2I1OTEwZTI2MDI3MWI5NTdhMCA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF8yYWY0ZWM3MDU0ZGM0YTI3YTY5NWJiMDFmNjQ0ZGZkMiA9ICQoJzxkaXYgaWQ9Imh0bWxfMmFmNGVjNzA1NGRjNGEyN2E2OTViYjAxZjY0NGRmZDIiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkZyZWVob3VzZTwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfZGU2ODQxMDhlMDBkNDdiNTkxMGUyNjAyNzFiOTU3YTAuc2V0Q29udGVudChodG1sXzJhZjRlYzcwNTRkYzRhMjdhNjk1YmIwMWY2NDRkZmQyKTsKICAgICAgICAgICAgCgogICAgICAgICAgICByZWd1bGFyX3BvbHlnb25fbWFya2VyXzRmYmYyZjMwODZmZjQ5MjBhMGU5ODEyMGEzNjFlNTg0LmJpbmRQb3B1cChwb3B1cF9kZTY4NDEwOGUwMGQ0N2I1OTEwZTI2MDI3MWI5NTdhMCk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcmVndWxhcl9wb2x5Z29uX21hcmtlcl83MmUxMGQ1ZjJhOTA0ZTkwYjQxZGY3ZmFiNWE3OGJjZiA9IG5ldyBMLlJlZ3VsYXJQb2x5Z29uTWFya2VyKAogICAgICAgICAgICAgICAgbmV3IEwuTGF0TG5nKDEuMjgwMDE2ODE1Mzk3MTQ2LDEwMy44NDk4MTMxNDI4MDc3NiksCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgaWNvbiA6IG5ldyBMLkljb24uRGVmYXVsdCgpLAogICAgICAgICAgICAgICAgICAgIGNvbG9yOiAnYmx1ZScsCiAgICAgICAgICAgICAgICAgICAgb3BhY2l0eTogMSwKICAgICAgICAgICAgICAgICAgICB3ZWlnaHQ6IDIsCiAgICAgICAgICAgICAgICAgICAgZmlsbENvbG9yOiAnIzBmMGYwZicsCiAgICAgICAgICAgICAgICAgICAgZmlsbE9wYWNpdHk6IDAuNywKICAgICAgICAgICAgICAgICAgICBudW1iZXJPZlNpZGVzOiA0LAogICAgICAgICAgICAgICAgICAgIHJvdGF0aW9uOiAwLAogICAgICAgICAgICAgICAgICAgIHJhZGl1czogMTAKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICAuYWRkVG8obWFwX2YwMWI2NzkwMGI3YzQ5N2E4Yzc2ZTVjZDFjODU5NDQ2KTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwX2M1ZmRiOTE4Njc2MzQ1NTg4Y2MyMGJjZGYyOWY5M2YyID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzIxMzRlM2JkMjY3MzRlOWZiNGE1YzI5NTBjZmQxMmFhID0gJCgnPGRpdiBpZD0iaHRtbF8yMTM0ZTNiZDI2NzM0ZTlmYjRhNWMyOTUwY2ZkMTJhYSIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+U29maXRlbCBTbyBTaW5nYXBvcmU8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwX2M1ZmRiOTE4Njc2MzQ1NTg4Y2MyMGJjZGYyOWY5M2YyLnNldENvbnRlbnQoaHRtbF8yMTM0ZTNiZDI2NzM0ZTlmYjRhNWMyOTUwY2ZkMTJhYSk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgcmVndWxhcl9wb2x5Z29uX21hcmtlcl83MmUxMGQ1ZjJhOTA0ZTkwYjQxZGY3ZmFiNWE3OGJjZi5iaW5kUG9wdXAocG9wdXBfYzVmZGI5MTg2NzYzNDU1ODhjYzIwYmNkZjI5ZjkzZjIpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHJlZ3VsYXJfcG9seWdvbl9tYXJrZXJfYzIzNzcyYjQ2NGJmNDA5YjlhMzhmNTE4YzM2ZDAzYzAgPSBuZXcgTC5SZWd1bGFyUG9seWdvbk1hcmtlcigKICAgICAgICAgICAgICAgIG5ldyBMLkxhdExuZygxLjI4MDQ4MzE4MzMwOTcxNzQsMTAzLjg0Njk0MTUxMDcxNTE0KSwKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICBpY29uIDogbmV3IEwuSWNvbi5EZWZhdWx0KCksCiAgICAgICAgICAgICAgICAgICAgY29sb3I6ICdibHVlJywKICAgICAgICAgICAgICAgICAgICBvcGFjaXR5OiAxLAogICAgICAgICAgICAgICAgICAgIHdlaWdodDogMiwKICAgICAgICAgICAgICAgICAgICBmaWxsQ29sb3I6ICcjMGYwZjBmJywKICAgICAgICAgICAgICAgICAgICBmaWxsT3BhY2l0eTogMC43LAogICAgICAgICAgICAgICAgICAgIG51bWJlck9mU2lkZXM6IDQsCiAgICAgICAgICAgICAgICAgICAgcm90YXRpb246IDAsCiAgICAgICAgICAgICAgICAgICAgcmFkaXVzOiAxMAogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgIC5hZGRUbyhtYXBfZjAxYjY3OTAwYjdjNDk3YThjNzZlNWNkMWM4NTk0NDYpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfY2RlYWEwZTVmMGNjNDZjYjg1NmUwMDk2N2UwOWZmY2YgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfMTlmZTkwNjAyYTY5NGExMTgxMDFlMDhmYjI3NTBiZGIgPSAkKCc8ZGl2IGlkPSJodG1sXzE5ZmU5MDYwMmE2OTRhMTE4MTAxZTA4ZmIyNzUwYmRiIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5EdW1wbGluZyBEYXJsaW5nczwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfY2RlYWEwZTVmMGNjNDZjYjg1NmUwMDk2N2UwOWZmY2Yuc2V0Q29udGVudChodG1sXzE5ZmU5MDYwMmE2OTRhMTE4MTAxZTA4ZmIyNzUwYmRiKTsKICAgICAgICAgICAgCgogICAgICAgICAgICByZWd1bGFyX3BvbHlnb25fbWFya2VyX2MyMzc3MmI0NjRiZjQwOWI5YTM4ZjUxOGMzNmQwM2MwLmJpbmRQb3B1cChwb3B1cF9jZGVhYTBlNWYwY2M0NmNiODU2ZTAwOTY3ZTA5ZmZjZik7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcmVndWxhcl9wb2x5Z29uX21hcmtlcl84ZDc0NzJlMzMwMTA0MDE2ODNkODhhMzY4Njc2YjdmMSA9IG5ldyBMLlJlZ3VsYXJQb2x5Z29uTWFya2VyKAogICAgICAgICAgICAgICAgbmV3IEwuTGF0TG5nKDEuMjgwNDY4NDM3Njc2MzU3OCwxMDMuODQ2MjY0Mjg3NjE1MiksCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgaWNvbiA6IG5ldyBMLkljb24uRGVmYXVsdCgpLAogICAgICAgICAgICAgICAgICAgIGNvbG9yOiAnYmx1ZScsCiAgICAgICAgICAgICAgICAgICAgb3BhY2l0eTogMSwKICAgICAgICAgICAgICAgICAgICB3ZWlnaHQ6IDIsCiAgICAgICAgICAgICAgICAgICAgZmlsbENvbG9yOiAnIzBmMGYwZicsCiAgICAgICAgICAgICAgICAgICAgZmlsbE9wYWNpdHk6IDAuNywKICAgICAgICAgICAgICAgICAgICBudW1iZXJPZlNpZGVzOiA0LAogICAgICAgICAgICAgICAgICAgIHJvdGF0aW9uOiAwLAogICAgICAgICAgICAgICAgICAgIHJhZGl1czogMTAKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICAuYWRkVG8obWFwX2YwMWI2NzkwMGI3YzQ5N2E4Yzc2ZTVjZDFjODU5NDQ2KTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzJlNDRmNjE4ZTc4NTRiYzJiMzkyNWEyMzUyZDA0ZDZjID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzc2NTg2MDU2MDM4NDRhZjRhYzRiODQ4ZWY0NzgwMTE0ID0gJCgnPGRpdiBpZD0iaHRtbF83NjU4NjA1NjAzODQ0YWY0YWM0Yjg0OGVmNDc4MDExNCIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+UFMuQ2FmZTwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfMmU0NGY2MThlNzg1NGJjMmIzOTI1YTIzNTJkMDRkNmMuc2V0Q29udGVudChodG1sXzc2NTg2MDU2MDM4NDRhZjRhYzRiODQ4ZWY0NzgwMTE0KTsKICAgICAgICAgICAgCgogICAgICAgICAgICByZWd1bGFyX3BvbHlnb25fbWFya2VyXzhkNzQ3MmUzMzAxMDQwMTY4M2Q4OGEzNjg2NzZiN2YxLmJpbmRQb3B1cChwb3B1cF8yZTQ0ZjYxOGU3ODU0YmMyYjM5MjVhMjM1MmQwNGQ2Yyk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcmVndWxhcl9wb2x5Z29uX21hcmtlcl9kOTg4ZmE1NjMyNWU0ZGE3YWFiYmYyNjBhMDg3NGFiYyA9IG5ldyBMLlJlZ3VsYXJQb2x5Z29uTWFya2VyKAogICAgICAgICAgICAgICAgbmV3IEwuTGF0TG5nKDEuMjgwMTEwNzk5MzQzMjAzLDEwMy44NDc3NjE1MDY3NTg1KSwKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICBpY29uIDogbmV3IEwuSWNvbi5EZWZhdWx0KCksCiAgICAgICAgICAgICAgICAgICAgY29sb3I6ICdibHVlJywKICAgICAgICAgICAgICAgICAgICBvcGFjaXR5OiAxLAogICAgICAgICAgICAgICAgICAgIHdlaWdodDogMiwKICAgICAgICAgICAgICAgICAgICBmaWxsQ29sb3I6ICcjMGYwZjBmJywKICAgICAgICAgICAgICAgICAgICBmaWxsT3BhY2l0eTogMC43LAogICAgICAgICAgICAgICAgICAgIG51bWJlck9mU2lkZXM6IDQsCiAgICAgICAgICAgICAgICAgICAgcm90YXRpb246IDAsCiAgICAgICAgICAgICAgICAgICAgcmFkaXVzOiAxMAogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgIC5hZGRUbyhtYXBfZjAxYjY3OTAwYjdjNDk3YThjNzZlNWNkMWM4NTk0NDYpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfNDc0YWRjNGY1NTVjNDc2YTgwYjJiMDU5MDUwN2UxNGMgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfMzJlOThmMDNhNDEwNGU1ZDg3MTdhNjZmZDYyYmQ4MWUgPSAkKCc8ZGl2IGlkPSJodG1sXzMyZTk4ZjAzYTQxMDRlNWQ4NzE3YTY2ZmQ2MmJkODFlIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5TaHVLdXUgSXpha2F5YTwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfNDc0YWRjNGY1NTVjNDc2YTgwYjJiMDU5MDUwN2UxNGMuc2V0Q29udGVudChodG1sXzMyZTk4ZjAzYTQxMDRlNWQ4NzE3YTY2ZmQ2MmJkODFlKTsKICAgICAgICAgICAgCgogICAgICAgICAgICByZWd1bGFyX3BvbHlnb25fbWFya2VyX2Q5ODhmYTU2MzI1ZTRkYTdhYWJiZjI2MGEwODc0YWJjLmJpbmRQb3B1cChwb3B1cF80NzRhZGM0ZjU1NWM0NzZhODBiMmIwNTkwNTA3ZTE0Yyk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcmVndWxhcl9wb2x5Z29uX21hcmtlcl9iNzlmZjFkMzUzM2Y0ZWU5OTBhYjc3OWM0N2YwZDdmNSA9IG5ldyBMLlJlZ3VsYXJQb2x5Z29uTWFya2VyKAogICAgICAgICAgICAgICAgbmV3IEwuTGF0TG5nKDEuMjc5MDgzNjQ4MzAzOTY2NSwxMDMuODUwMTI2Nzc4OTQyNzgpLAogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgIGljb24gOiBuZXcgTC5JY29uLkRlZmF1bHQoKSwKICAgICAgICAgICAgICAgICAgICBjb2xvcjogJ2JsdWUnLAogICAgICAgICAgICAgICAgICAgIG9wYWNpdHk6IDEsCiAgICAgICAgICAgICAgICAgICAgd2VpZ2h0OiAyLAogICAgICAgICAgICAgICAgICAgIGZpbGxDb2xvcjogJyMwZjBmMGYnLAogICAgICAgICAgICAgICAgICAgIGZpbGxPcGFjaXR5OiAwLjcsCiAgICAgICAgICAgICAgICAgICAgbnVtYmVyT2ZTaWRlczogNCwKICAgICAgICAgICAgICAgICAgICByb3RhdGlvbjogMCwKICAgICAgICAgICAgICAgICAgICByYWRpdXM6IDEwCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgLmFkZFRvKG1hcF9mMDFiNjc5MDBiN2M0OTdhOGM3NmU1Y2QxYzg1OTQ0Nik7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF9hNDJhMzdjNmE5NWM0YTk1ODAyOGQ3NjIwODRkMTQyOSA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF83N2QwN2JmYTJhNmI0NTgxODU3MTJiYWY4ZjcwMjlmYyA9ICQoJzxkaXYgaWQ9Imh0bWxfNzdkMDdiZmEyYTZiNDU4MTg1NzEyYmFmOGY3MDI5ZmMiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkFuZ2xvIEluZGlhbiBDYWZlICZhbXA7IEJhcjwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfYTQyYTM3YzZhOTVjNGE5NTgwMjhkNzYyMDg0ZDE0Mjkuc2V0Q29udGVudChodG1sXzc3ZDA3YmZhMmE2YjQ1ODE4NTcxMmJhZjhmNzAyOWZjKTsKICAgICAgICAgICAgCgogICAgICAgICAgICByZWd1bGFyX3BvbHlnb25fbWFya2VyX2I3OWZmMWQzNTMzZjRlZTk5MGFiNzc5YzQ3ZjBkN2Y1LmJpbmRQb3B1cChwb3B1cF9hNDJhMzdjNmE5NWM0YTk1ODAyOGQ3NjIwODRkMTQyOSk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcmVndWxhcl9wb2x5Z29uX21hcmtlcl85YzMxNTE2NTA2MTI0NjcwODk2ZjUxNDUyNmE2MjViMSA9IG5ldyBMLlJlZ3VsYXJQb2x5Z29uTWFya2VyKAogICAgICAgICAgICAgICAgbmV3IEwuTGF0TG5nKDEuMjc5NTI5MywxMDMuODQ2Njk1KSwKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICBpY29uIDogbmV3IEwuSWNvbi5EZWZhdWx0KCksCiAgICAgICAgICAgICAgICAgICAgY29sb3I6ICdibHVlJywKICAgICAgICAgICAgICAgICAgICBvcGFjaXR5OiAxLAogICAgICAgICAgICAgICAgICAgIHdlaWdodDogMiwKICAgICAgICAgICAgICAgICAgICBmaWxsQ29sb3I6ICcjMGYwZjBmJywKICAgICAgICAgICAgICAgICAgICBmaWxsT3BhY2l0eTogMC43LAogICAgICAgICAgICAgICAgICAgIG51bWJlck9mU2lkZXM6IDQsCiAgICAgICAgICAgICAgICAgICAgcm90YXRpb246IDAsCiAgICAgICAgICAgICAgICAgICAgcmFkaXVzOiAxMAogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgIC5hZGRUbyhtYXBfZjAxYjY3OTAwYjdjNDk3YThjNzZlNWNkMWM4NTk0NDYpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfOGEzZDU0MTA5ZDQ4NDE4ODhlYjg4OGJlZmFhM2M1OWUgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfN2YzNTM1YmM0ZmI1NDA2N2ExMmM1ODUxYmNmYzA0YTAgPSAkKCc8ZGl2IGlkPSJodG1sXzdmMzUzNWJjNGZiNTQwNjdhMTJjNTg1MWJjZmMwNGEwIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5Db2ZmZWUgQnJlYWs8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzhhM2Q1NDEwOWQ0ODQxODg4ZWI4ODhiZWZhYTNjNTllLnNldENvbnRlbnQoaHRtbF83ZjM1MzViYzRmYjU0MDY3YTEyYzU4NTFiY2ZjMDRhMCk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgcmVndWxhcl9wb2x5Z29uX21hcmtlcl85YzMxNTE2NTA2MTI0NjcwODk2ZjUxNDUyNmE2MjViMS5iaW5kUG9wdXAocG9wdXBfOGEzZDU0MTA5ZDQ4NDE4ODhlYjg4OGJlZmFhM2M1OWUpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHJlZ3VsYXJfcG9seWdvbl9tYXJrZXJfNzk1MWQzZjUwNzE3NGEzMzg5Njk3OTU3NGY4OTdhZTEgPSBuZXcgTC5SZWd1bGFyUG9seWdvbk1hcmtlcigKICAgICAgICAgICAgICAgIG5ldyBMLkxhdExuZygxLjI4MDI2MSwxMDMuODUwMjM1KSwKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICBpY29uIDogbmV3IEwuSWNvbi5EZWZhdWx0KCksCiAgICAgICAgICAgICAgICAgICAgY29sb3I6ICdibHVlJywKICAgICAgICAgICAgICAgICAgICBvcGFjaXR5OiAxLAogICAgICAgICAgICAgICAgICAgIHdlaWdodDogMiwKICAgICAgICAgICAgICAgICAgICBmaWxsQ29sb3I6ICcjMGYwZjBmJywKICAgICAgICAgICAgICAgICAgICBmaWxsT3BhY2l0eTogMC43LAogICAgICAgICAgICAgICAgICAgIG51bWJlck9mU2lkZXM6IDQsCiAgICAgICAgICAgICAgICAgICAgcm90YXRpb246IDAsCiAgICAgICAgICAgICAgICAgICAgcmFkaXVzOiAxMAogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgIC5hZGRUbyhtYXBfZjAxYjY3OTAwYjdjNDk3YThjNzZlNWNkMWM4NTk0NDYpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfNmRjYTFkOTIyNzBmNDJhMjk1OWU4NjYxOGJmMDJiNDEgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfNDBlNDA0MTMzYTAyNDQ1MmE1MmVhYzVmNGZkYWEwZjAgPSAkKCc8ZGl2IGlkPSJodG1sXzQwZTQwNDEzM2EwMjQ0NTJhNTJlYWM1ZjRmZGFhMGYwIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5MYXUgUGEgU2F0IFNhdGF5IFN0cmVldDwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfNmRjYTFkOTIyNzBmNDJhMjk1OWU4NjYxOGJmMDJiNDEuc2V0Q29udGVudChodG1sXzQwZTQwNDEzM2EwMjQ0NTJhNTJlYWM1ZjRmZGFhMGYwKTsKICAgICAgICAgICAgCgogICAgICAgICAgICByZWd1bGFyX3BvbHlnb25fbWFya2VyXzc5NTFkM2Y1MDcxNzRhMzM4OTY5Nzk1NzRmODk3YWUxLmJpbmRQb3B1cChwb3B1cF82ZGNhMWQ5MjI3MGY0MmEyOTU5ZTg2NjE4YmYwMmI0MSk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcmVndWxhcl9wb2x5Z29uX21hcmtlcl8xYjZkZDZkOTY5ODY0YzI2YWVlY2I2NmUwOGJlZTY1YiA9IG5ldyBMLlJlZ3VsYXJQb2x5Z29uTWFya2VyKAogICAgICAgICAgICAgICAgbmV3IEwuTGF0TG5nKDEuMjgxMzQ1MjAzMDkzOTgxLDEwMy44NDc1NTA5MjA2OTgxMyksCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgaWNvbiA6IG5ldyBMLkljb24uRGVmYXVsdCgpLAogICAgICAgICAgICAgICAgICAgIGNvbG9yOiAnYmx1ZScsCiAgICAgICAgICAgICAgICAgICAgb3BhY2l0eTogMSwKICAgICAgICAgICAgICAgICAgICB3ZWlnaHQ6IDIsCiAgICAgICAgICAgICAgICAgICAgZmlsbENvbG9yOiAnIzBmMGYwZicsCiAgICAgICAgICAgICAgICAgICAgZmlsbE9wYWNpdHk6IDAuNywKICAgICAgICAgICAgICAgICAgICBudW1iZXJPZlNpZGVzOiA0LAogICAgICAgICAgICAgICAgICAgIHJvdGF0aW9uOiAwLAogICAgICAgICAgICAgICAgICAgIHJhZGl1czogMTAKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICAuYWRkVG8obWFwX2YwMWI2NzkwMGI3YzQ5N2E4Yzc2ZTVjZDFjODU5NDQ2KTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzIxNDQ3NzUwNmJkMTQzZDc4NDBjNTczYzk4NGJjNmM0ID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzJlOGZmOTY3Njg5MTRmOTBiNGIxNmViN2ZlNjg4MWQ5ID0gJCgnPGRpdiBpZD0iaHRtbF8yZThmZjk2NzY4OTE0ZjkwYjRiMTZlYjdmZTY4ODFkOSIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+7JmV64yA67CVIFdhbmcgRGFlIEJhayBLb3JlYW4gQkJRIFJlc3RhdXJhbnQ8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzIxNDQ3NzUwNmJkMTQzZDc4NDBjNTczYzk4NGJjNmM0LnNldENvbnRlbnQoaHRtbF8yZThmZjk2NzY4OTE0ZjkwYjRiMTZlYjdmZTY4ODFkOSk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgcmVndWxhcl9wb2x5Z29uX21hcmtlcl8xYjZkZDZkOTY5ODY0YzI2YWVlY2I2NmUwOGJlZTY1Yi5iaW5kUG9wdXAocG9wdXBfMjE0NDc3NTA2YmQxNDNkNzg0MGM1NzNjOTg0YmM2YzQpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHJlZ3VsYXJfcG9seWdvbl9tYXJrZXJfOTNmYWQ4MDYxODIzNDhkNGEzMDc5NWQzMDM1NTY3YjggPSBuZXcgTC5SZWd1bGFyUG9seWdvbk1hcmtlcigKICAgICAgICAgICAgICAgIG5ldyBMLkxhdExuZygxLjI3OTU5MjMsMTAzLjg0NjcpLAogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgIGljb24gOiBuZXcgTC5JY29uLkRlZmF1bHQoKSwKICAgICAgICAgICAgICAgICAgICBjb2xvcjogJ2JsdWUnLAogICAgICAgICAgICAgICAgICAgIG9wYWNpdHk6IDEsCiAgICAgICAgICAgICAgICAgICAgd2VpZ2h0OiAyLAogICAgICAgICAgICAgICAgICAgIGZpbGxDb2xvcjogJyMwZjBmMGYnLAogICAgICAgICAgICAgICAgICAgIGZpbGxPcGFjaXR5OiAwLjcsCiAgICAgICAgICAgICAgICAgICAgbnVtYmVyT2ZTaWRlczogNCwKICAgICAgICAgICAgICAgICAgICByb3RhdGlvbjogMCwKICAgICAgICAgICAgICAgICAgICByYWRpdXM6IDEwCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgLmFkZFRvKG1hcF9mMDFiNjc5MDBiN2M0OTdhOGM3NmU1Y2QxYzg1OTQ0Nik7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF9mZjQ5ZjNlMTczM2M0NWNlYWM1ZmZjZmRhY2YyODQ5MSA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF9hZGVmZmQyMGFkNjg0NWE5YWQ5NjJmYjk4MGIzNWRjMCA9ICQoJzxkaXYgaWQ9Imh0bWxfYWRlZmZkMjBhZDY4NDVhOWFkOTYyZmI5ODBiMzVkYzAiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkFtb3kgU3RyZWV0IEZvb2QgQ2VudHJlPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF9mZjQ5ZjNlMTczM2M0NWNlYWM1ZmZjZmRhY2YyODQ5MS5zZXRDb250ZW50KGh0bWxfYWRlZmZkMjBhZDY4NDVhOWFkOTYyZmI5ODBiMzVkYzApOwogICAgICAgICAgICAKCiAgICAgICAgICAgIHJlZ3VsYXJfcG9seWdvbl9tYXJrZXJfOTNmYWQ4MDYxODIzNDhkNGEzMDc5NWQzMDM1NTY3YjguYmluZFBvcHVwKHBvcHVwX2ZmNDlmM2UxNzMzYzQ1Y2VhYzVmZmNmZGFjZjI4NDkxKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciByZWd1bGFyX3BvbHlnb25fbWFya2VyXzNmYTFiY2ViMGI4MTRlMjY4OWUwNGVhMzk2ZTg0MDNlID0gbmV3IEwuUmVndWxhclBvbHlnb25NYXJrZXIoCiAgICAgICAgICAgICAgICBuZXcgTC5MYXRMbmcoMS4yODE1Mjg2ODYyMDQxODI0LDEwMy44NDgxMTY5ODg5NzI3MyksCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgaWNvbiA6IG5ldyBMLkljb24uRGVmYXVsdCgpLAogICAgICAgICAgICAgICAgICAgIGNvbG9yOiAnYmx1ZScsCiAgICAgICAgICAgICAgICAgICAgb3BhY2l0eTogMSwKICAgICAgICAgICAgICAgICAgICB3ZWlnaHQ6IDIsCiAgICAgICAgICAgICAgICAgICAgZmlsbENvbG9yOiAnIzBmMGYwZicsCiAgICAgICAgICAgICAgICAgICAgZmlsbE9wYWNpdHk6IDAuNywKICAgICAgICAgICAgICAgICAgICBudW1iZXJPZlNpZGVzOiA0LAogICAgICAgICAgICAgICAgICAgIHJvdGF0aW9uOiAwLAogICAgICAgICAgICAgICAgICAgIHJhZGl1czogMTAKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICAuYWRkVG8obWFwX2YwMWI2NzkwMGI3YzQ5N2E4Yzc2ZTVjZDFjODU5NDQ2KTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwX2E1MWJkN2Y2NWZlOTRlOWU4MDk0ZTRlZDMyOTY4NmY3ID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sX2NkNWMzZjE0ZmM2NTRhY2Y5YzZmY2UzMGZiMzMxOTU5ID0gJCgnPGRpdiBpZD0iaHRtbF9jZDVjM2YxNGZjNjU0YWNmOWM2ZmNlMzBmYjMzMTk1OSIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+U2FybmllczwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfYTUxYmQ3ZjY1ZmU5NGU5ZTgwOTRlNGVkMzI5Njg2Zjcuc2V0Q29udGVudChodG1sX2NkNWMzZjE0ZmM2NTRhY2Y5YzZmY2UzMGZiMzMxOTU5KTsKICAgICAgICAgICAgCgogICAgICAgICAgICByZWd1bGFyX3BvbHlnb25fbWFya2VyXzNmYTFiY2ViMGI4MTRlMjY4OWUwNGVhMzk2ZTg0MDNlLmJpbmRQb3B1cChwb3B1cF9hNTFiZDdmNjVmZTk0ZTllODA5NGU0ZWQzMjk2ODZmNyk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcmVndWxhcl9wb2x5Z29uX21hcmtlcl9mYmY1ZjBmMTJmYzk0OTIxYjBlZmM3OTE4ODVkZjlhMyA9IG5ldyBMLlJlZ3VsYXJQb2x5Z29uTWFya2VyKAogICAgICAgICAgICAgICAgbmV3IEwuTGF0TG5nKDEuMjgwMjA0OTQxMDg1NTQ0NywxMDMuODQ3NDEwNDkwMTkzNyksCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgaWNvbiA6IG5ldyBMLkljb24uRGVmYXVsdCgpLAogICAgICAgICAgICAgICAgICAgIGNvbG9yOiAnYmx1ZScsCiAgICAgICAgICAgICAgICAgICAgb3BhY2l0eTogMSwKICAgICAgICAgICAgICAgICAgICB3ZWlnaHQ6IDIsCiAgICAgICAgICAgICAgICAgICAgZmlsbENvbG9yOiAnIzBmMGYwZicsCiAgICAgICAgICAgICAgICAgICAgZmlsbE9wYWNpdHk6IDAuNywKICAgICAgICAgICAgICAgICAgICBudW1iZXJPZlNpZGVzOiA0LAogICAgICAgICAgICAgICAgICAgIHJvdGF0aW9uOiAwLAogICAgICAgICAgICAgICAgICAgIHJhZGl1czogMTAKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICAuYWRkVG8obWFwX2YwMWI2NzkwMGI3YzQ5N2E4Yzc2ZTVjZDFjODU5NDQ2KTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzQ3YjE2NWIxOGQ3OTQ5YTg5YjI2NDliOGY1NTA0ZDZlID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzk3MTlkM2QyNjJhMDQ2ZTY5ZjIzMzdhMGM1N2FlZDgwID0gJCgnPGRpdiBpZD0iaHRtbF85NzE5ZDNkMjYyYTA0NmU2OWYyMzM3YTBjNTdhZWQ4MCIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+TWVhdCBTbWl0aDwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfNDdiMTY1YjE4ZDc5NDlhODliMjY0OWI4ZjU1MDRkNmUuc2V0Q29udGVudChodG1sXzk3MTlkM2QyNjJhMDQ2ZTY5ZjIzMzdhMGM1N2FlZDgwKTsKICAgICAgICAgICAgCgogICAgICAgICAgICByZWd1bGFyX3BvbHlnb25fbWFya2VyX2ZiZjVmMGYxMmZjOTQ5MjFiMGVmYzc5MTg4NWRmOWEzLmJpbmRQb3B1cChwb3B1cF80N2IxNjViMThkNzk0OWE4OWIyNjQ5YjhmNTUwNGQ2ZSk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcmVndWxhcl9wb2x5Z29uX21hcmtlcl9jYmE3ZGE4MDAyMDg0Y2M2YmFjMjdhYzNkODUwMjQ5YSA9IG5ldyBMLlJlZ3VsYXJQb2x5Z29uTWFya2VyKAogICAgICAgICAgICAgICAgbmV3IEwuTGF0TG5nKDEuMjc3MDU0NjIwMDE2NjgzNSwxMDMuODQ2NDM1NDIwNjEwMTkpLAogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgIGljb24gOiBuZXcgTC5JY29uLkRlZmF1bHQoKSwKICAgICAgICAgICAgICAgICAgICBjb2xvcjogJ2JsdWUnLAogICAgICAgICAgICAgICAgICAgIG9wYWNpdHk6IDEsCiAgICAgICAgICAgICAgICAgICAgd2VpZ2h0OiAyLAogICAgICAgICAgICAgICAgICAgIGZpbGxDb2xvcjogJyMwZjBmMGYnLAogICAgICAgICAgICAgICAgICAgIGZpbGxPcGFjaXR5OiAwLjcsCiAgICAgICAgICAgICAgICAgICAgbnVtYmVyT2ZTaWRlczogNCwKICAgICAgICAgICAgICAgICAgICByb3RhdGlvbjogMCwKICAgICAgICAgICAgICAgICAgICByYWRpdXM6IDEwCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgLmFkZFRvKG1hcF9mMDFiNjc5MDBiN2M0OTdhOGM3NmU1Y2QxYzg1OTQ0Nik7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF9hMjQ1NmMzMjE0Yzc0YzkwYTNmOTk0NWU3MWI5ZjcyYyA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF9lNzc1ODY4YTIzMTA0YzMwODUxNWMyM2I2NmVkYWExMyA9ICQoJzxkaXYgaWQ9Imh0bWxfZTc3NTg2OGEyMzEwNGMzMDg1MTVjMjNiNjZlZGFhMTMiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPlZpcmdpbiBBY3RpdmU8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwX2EyNDU2YzMyMTRjNzRjOTBhM2Y5OTQ1ZTcxYjlmNzJjLnNldENvbnRlbnQoaHRtbF9lNzc1ODY4YTIzMTA0YzMwODUxNWMyM2I2NmVkYWExMyk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgcmVndWxhcl9wb2x5Z29uX21hcmtlcl9jYmE3ZGE4MDAyMDg0Y2M2YmFjMjdhYzNkODUwMjQ5YS5iaW5kUG9wdXAocG9wdXBfYTI0NTZjMzIxNGM3NGM5MGEzZjk5NDVlNzFiOWY3MmMpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHJlZ3VsYXJfcG9seWdvbl9tYXJrZXJfZmI0NGU1MzhmNmE2NGFlY2IxZjE2YTEwMjM5YTlhYWEgPSBuZXcgTC5SZWd1bGFyUG9seWdvbk1hcmtlcigKICAgICAgICAgICAgICAgIG5ldyBMLkxhdExuZygxLjI4MTI5NjQ0MDg2MDA2NDIsMTAzLjg0ODQzNjkxOTIyMzkpLAogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgIGljb24gOiBuZXcgTC5JY29uLkRlZmF1bHQoKSwKICAgICAgICAgICAgICAgICAgICBjb2xvcjogJ2JsdWUnLAogICAgICAgICAgICAgICAgICAgIG9wYWNpdHk6IDEsCiAgICAgICAgICAgICAgICAgICAgd2VpZ2h0OiAyLAogICAgICAgICAgICAgICAgICAgIGZpbGxDb2xvcjogJyMwZjBmMGYnLAogICAgICAgICAgICAgICAgICAgIGZpbGxPcGFjaXR5OiAwLjcsCiAgICAgICAgICAgICAgICAgICAgbnVtYmVyT2ZTaWRlczogNCwKICAgICAgICAgICAgICAgICAgICByb3RhdGlvbjogMCwKICAgICAgICAgICAgICAgICAgICByYWRpdXM6IDEwCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgLmFkZFRvKG1hcF9mMDFiNjc5MDBiN2M0OTdhOGM3NmU1Y2QxYzg1OTQ0Nik7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF8zOWMzZmIxYTg1NDE0YmJiOGM1YzZjYzc1ZGZkMjQ1MSA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF8zMDFmNTU3NDY4NjA0NDVlYTAwNjg0NjY2MjhhNGY5NyA9ICQoJzxkaXYgaWQ9Imh0bWxfMzAxZjU1NzQ2ODYwNDQ1ZWEwMDY4NDY2NjI4YTRmOTciIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkZZUiBDeWNlbmUgT25kIERyaW5jPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF8zOWMzZmIxYTg1NDE0YmJiOGM1YzZjYzc1ZGZkMjQ1MS5zZXRDb250ZW50KGh0bWxfMzAxZjU1NzQ2ODYwNDQ1ZWEwMDY4NDY2NjI4YTRmOTcpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIHJlZ3VsYXJfcG9seWdvbl9tYXJrZXJfZmI0NGU1MzhmNmE2NGFlY2IxZjE2YTEwMjM5YTlhYWEuYmluZFBvcHVwKHBvcHVwXzM5YzNmYjFhODU0MTRiYmI4YzVjNmNjNzVkZmQyNDUxKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciByZWd1bGFyX3BvbHlnb25fbWFya2VyXzNiZGU2NDk3ODY2MTRmOTQ4NThmZTZhYTlkYmFiZmE3ID0gbmV3IEwuUmVndWxhclBvbHlnb25NYXJrZXIoCiAgICAgICAgICAgICAgICBuZXcgTC5MYXRMbmcoMS4yODA0NzkwMzY1MTU4MzIsMTAzLjg0NzUyMTYwNDA1MTU2KSwKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICBpY29uIDogbmV3IEwuSWNvbi5EZWZhdWx0KCksCiAgICAgICAgICAgICAgICAgICAgY29sb3I6ICdibHVlJywKICAgICAgICAgICAgICAgICAgICBvcGFjaXR5OiAxLAogICAgICAgICAgICAgICAgICAgIHdlaWdodDogMiwKICAgICAgICAgICAgICAgICAgICBmaWxsQ29sb3I6ICcjMGYwZjBmJywKICAgICAgICAgICAgICAgICAgICBmaWxsT3BhY2l0eTogMC43LAogICAgICAgICAgICAgICAgICAgIG51bWJlck9mU2lkZXM6IDQsCiAgICAgICAgICAgICAgICAgICAgcm90YXRpb246IDAsCiAgICAgICAgICAgICAgICAgICAgcmFkaXVzOiAxMAogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgIC5hZGRUbyhtYXBfZjAxYjY3OTAwYjdjNDk3YThjNzZlNWNkMWM4NTk0NDYpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfZTMxMmJmMGE0MWQxNGI3ZGFjMjBlODNlY2U3YTM3ZDcgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfMTFjZmJmMjQ5MTY1NGZiM2I0ZmEzMDgxYTVmNGM1MjUgPSAkKCc8ZGl2IGlkPSJodG1sXzExY2ZiZjI0OTE2NTRmYjNiNGZhMzA4MWE1ZjRjNTI1IiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5PdmVuICZhbXA7IEZyaWVkIENoaWNrZW48L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwX2UzMTJiZjBhNDFkMTRiN2RhYzIwZTgzZWNlN2EzN2Q3LnNldENvbnRlbnQoaHRtbF8xMWNmYmYyNDkxNjU0ZmIzYjRmYTMwODFhNWY0YzUyNSk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgcmVndWxhcl9wb2x5Z29uX21hcmtlcl8zYmRlNjQ5Nzg2NjE0Zjk0ODU4ZmU2YWE5ZGJhYmZhNy5iaW5kUG9wdXAocG9wdXBfZTMxMmJmMGE0MWQxNGI3ZGFjMjBlODNlY2U3YTM3ZDcpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHJlZ3VsYXJfcG9seWdvbl9tYXJrZXJfYmZiZGY0ODNmMTFhNDg3MThiMGNlYjU0ZjcwYWVmOTYgPSBuZXcgTC5SZWd1bGFyUG9seWdvbk1hcmtlcigKICAgICAgICAgICAgICAgIG5ldyBMLkxhdExuZygxLjI4MTA3NDQyNTk2OTMyMTQsMTAzLjg0NTc0MjYwOTgxODM5KSwKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICBpY29uIDogbmV3IEwuSWNvbi5EZWZhdWx0KCksCiAgICAgICAgICAgICAgICAgICAgY29sb3I6ICdibHVlJywKICAgICAgICAgICAgICAgICAgICBvcGFjaXR5OiAxLAogICAgICAgICAgICAgICAgICAgIHdlaWdodDogMiwKICAgICAgICAgICAgICAgICAgICBmaWxsQ29sb3I6ICcjMGYwZjBmJywKICAgICAgICAgICAgICAgICAgICBmaWxsT3BhY2l0eTogMC43LAogICAgICAgICAgICAgICAgICAgIG51bWJlck9mU2lkZXM6IDQsCiAgICAgICAgICAgICAgICAgICAgcm90YXRpb246IDAsCiAgICAgICAgICAgICAgICAgICAgcmFkaXVzOiAxMAogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgIC5hZGRUbyhtYXBfZjAxYjY3OTAwYjdjNDk3YThjNzZlNWNkMWM4NTk0NDYpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfNzBjNGJmNmE5YmYxNDYzNzhhNWNiZjJlZDUyZWJhYzYgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfNjA1NDUzMDVkNjI5NGNiMzkwMjdlNTEzMzZkMTc2MzUgPSAkKCc8ZGl2IGlkPSJodG1sXzYwNTQ1MzA1ZDYyOTRjYjM5MDI3ZTUxMzM2ZDE3NjM1IiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5ZZW4gWWFraW5pa3U8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzcwYzRiZjZhOWJmMTQ2Mzc4YTVjYmYyZWQ1MmViYWM2LnNldENvbnRlbnQoaHRtbF82MDU0NTMwNWQ2Mjk0Y2IzOTAyN2U1MTMzNmQxNzYzNSk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgcmVndWxhcl9wb2x5Z29uX21hcmtlcl9iZmJkZjQ4M2YxMWE0ODcxOGIwY2ViNTRmNzBhZWY5Ni5iaW5kUG9wdXAocG9wdXBfNzBjNGJmNmE5YmYxNDYzNzhhNWNiZjJlZDUyZWJhYzYpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHJlZ3VsYXJfcG9seWdvbl9tYXJrZXJfNmEzMjM2NmM3ZDZiNDNlOTgxODQ0NDJkNzUxZDhmYmQgPSBuZXcgTC5SZWd1bGFyUG9seWdvbk1hcmtlcigKICAgICAgICAgICAgICAgIG5ldyBMLkxhdExuZygxLjI3ODA0ODg4MzYzMjc5NzIsMTAzLjg0OTM5OTE1MTUzMzc1KSwKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICBpY29uIDogbmV3IEwuSWNvbi5EZWZhdWx0KCksCiAgICAgICAgICAgICAgICAgICAgY29sb3I6ICdibHVlJywKICAgICAgICAgICAgICAgICAgICBvcGFjaXR5OiAxLAogICAgICAgICAgICAgICAgICAgIHdlaWdodDogMiwKICAgICAgICAgICAgICAgICAgICBmaWxsQ29sb3I6ICcjMGYwZjBmJywKICAgICAgICAgICAgICAgICAgICBmaWxsT3BhY2l0eTogMC43LAogICAgICAgICAgICAgICAgICAgIG51bWJlck9mU2lkZXM6IDQsCiAgICAgICAgICAgICAgICAgICAgcm90YXRpb246IDAsCiAgICAgICAgICAgICAgICAgICAgcmFkaXVzOiAxMAogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgIC5hZGRUbyhtYXBfZjAxYjY3OTAwYjdjNDk3YThjNzZlNWNkMWM4NTk0NDYpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfNDZlY2Q4MTRhNmZkNDVjNzlmZTEzZmQ5MWUyOGE2YTMgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfMTExMzk4OTkxNjJjNDU3OTliNDBlNTc1NGZhYzMwZjAgPSAkKCc8ZGl2IGlkPSJodG1sXzExMTM5ODk5MTYyYzQ1Nzk5YjQwZTU3NTRmYWMzMGYwIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5UaGUgUHJvdmlkb3JlPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF80NmVjZDgxNGE2ZmQ0NWM3OWZlMTNmZDkxZTI4YTZhMy5zZXRDb250ZW50KGh0bWxfMTExMzk4OTkxNjJjNDU3OTliNDBlNTc1NGZhYzMwZjApOwogICAgICAgICAgICAKCiAgICAgICAgICAgIHJlZ3VsYXJfcG9seWdvbl9tYXJrZXJfNmEzMjM2NmM3ZDZiNDNlOTgxODQ0NDJkNzUxZDhmYmQuYmluZFBvcHVwKHBvcHVwXzQ2ZWNkODE0YTZmZDQ1Yzc5ZmUxM2ZkOTFlMjhhNmEzKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciByZWd1bGFyX3BvbHlnb25fbWFya2VyXzFkMGM3NmZjNDY3ZjQwNDZiNjI3MWNhZTJkNDQ5ZmU3ID0gbmV3IEwuUmVndWxhclBvbHlnb25NYXJrZXIoCiAgICAgICAgICAgICAgICBuZXcgTC5MYXRMbmcoMS4yODAxMzcsMTAzLjg0NzI1NiksCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgaWNvbiA6IG5ldyBMLkljb24uRGVmYXVsdCgpLAogICAgICAgICAgICAgICAgICAgIGNvbG9yOiAnYmx1ZScsCiAgICAgICAgICAgICAgICAgICAgb3BhY2l0eTogMSwKICAgICAgICAgICAgICAgICAgICB3ZWlnaHQ6IDIsCiAgICAgICAgICAgICAgICAgICAgZmlsbENvbG9yOiAnIzBmMGYwZicsCiAgICAgICAgICAgICAgICAgICAgZmlsbE9wYWNpdHk6IDAuNywKICAgICAgICAgICAgICAgICAgICBudW1iZXJPZlNpZGVzOiA0LAogICAgICAgICAgICAgICAgICAgIHJvdGF0aW9uOiAwLAogICAgICAgICAgICAgICAgICAgIHJhZGl1czogMTAKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICAuYWRkVG8obWFwX2YwMWI2NzkwMGI3YzQ5N2E4Yzc2ZTVjZDFjODU5NDQ2KTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzUwOTE3ZTdkNGE5MDRjMjU5Y2I4ZDEzNWFjZDQ4YjdiID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzY0ZDg4NDE5Nzc2MDQyNDk4YzRhNTEwNTQzMjczZjNhID0gJCgnPGRpdiBpZD0iaHRtbF82NGQ4ODQxOTc3NjA0MjQ5OGM0YTUxMDU0MzI3M2YzYSIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+UGFudGxlcjwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfNTA5MTdlN2Q0YTkwNGMyNTljYjhkMTM1YWNkNDhiN2Iuc2V0Q29udGVudChodG1sXzY0ZDg4NDE5Nzc2MDQyNDk4YzRhNTEwNTQzMjczZjNhKTsKICAgICAgICAgICAgCgogICAgICAgICAgICByZWd1bGFyX3BvbHlnb25fbWFya2VyXzFkMGM3NmZjNDY3ZjQwNDZiNjI3MWNhZTJkNDQ5ZmU3LmJpbmRQb3B1cChwb3B1cF81MDkxN2U3ZDRhOTA0YzI1OWNiOGQxMzVhY2Q0OGI3Yik7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcmVndWxhcl9wb2x5Z29uX21hcmtlcl9hNzU0OWViYzFiZjg0Y2M0OTY3M2ViZTY0MWM0ZDk4NCA9IG5ldyBMLlJlZ3VsYXJQb2x5Z29uTWFya2VyKAogICAgICAgICAgICAgICAgbmV3IEwuTGF0TG5nKDEuMjc5NTQzMzYzNjM4NjI3LDEwMy44NDgwMzMyNDkzNzgxOSksCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgaWNvbiA6IG5ldyBMLkljb24uRGVmYXVsdCgpLAogICAgICAgICAgICAgICAgICAgIGNvbG9yOiAnYmx1ZScsCiAgICAgICAgICAgICAgICAgICAgb3BhY2l0eTogMSwKICAgICAgICAgICAgICAgICAgICB3ZWlnaHQ6IDIsCiAgICAgICAgICAgICAgICAgICAgZmlsbENvbG9yOiAnIzBmMGYwZicsCiAgICAgICAgICAgICAgICAgICAgZmlsbE9wYWNpdHk6IDAuNywKICAgICAgICAgICAgICAgICAgICBudW1iZXJPZlNpZGVzOiA0LAogICAgICAgICAgICAgICAgICAgIHJvdGF0aW9uOiAwLAogICAgICAgICAgICAgICAgICAgIHJhZGl1czogMTAKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICAuYWRkVG8obWFwX2YwMWI2NzkwMGI3YzQ5N2E4Yzc2ZTVjZDFjODU5NDQ2KTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzllMzY4MWM2ZGQ0YzQ0MjI5OWZkZTQyNjZmMDAxMjkzID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sX2Q3MTM3Y2RlNGViNTQ5MGQ4ZmYxMTk1YjRmMzhhZmM0ID0gJCgnPGRpdiBpZD0iaHRtbF9kNzEzN2NkZTRlYjU0OTBkOGZmMTE5NWI0ZjM4YWZjNCIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+Nm96IEVzcHJlc3NvIEJhcjwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfOWUzNjgxYzZkZDRjNDQyMjk5ZmRlNDI2NmYwMDEyOTMuc2V0Q29udGVudChodG1sX2Q3MTM3Y2RlNGViNTQ5MGQ4ZmYxMTk1YjRmMzhhZmM0KTsKICAgICAgICAgICAgCgogICAgICAgICAgICByZWd1bGFyX3BvbHlnb25fbWFya2VyX2E3NTQ5ZWJjMWJmODRjYzQ5NjczZWJlNjQxYzRkOTg0LmJpbmRQb3B1cChwb3B1cF85ZTM2ODFjNmRkNGM0NDIyOTlmZGU0MjY2ZjAwMTI5Myk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcmVndWxhcl9wb2x5Z29uX21hcmtlcl84YWQ0MTYxMjcwNGU0NzhjYjQ0ZmQwYTg1YTQ2MjFkYyA9IG5ldyBMLlJlZ3VsYXJQb2x5Z29uTWFya2VyKAogICAgICAgICAgICAgICAgbmV3IEwuTGF0TG5nKDEuMjc4Mjc0ODY0NDUxMjMwMywxMDMuODUwNzcxOTQzMDg5MDYpLAogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgIGljb24gOiBuZXcgTC5JY29uLkRlZmF1bHQoKSwKICAgICAgICAgICAgICAgICAgICBjb2xvcjogJ2JsdWUnLAogICAgICAgICAgICAgICAgICAgIG9wYWNpdHk6IDEsCiAgICAgICAgICAgICAgICAgICAgd2VpZ2h0OiAyLAogICAgICAgICAgICAgICAgICAgIGZpbGxDb2xvcjogJyMwZjBmMGYnLAogICAgICAgICAgICAgICAgICAgIGZpbGxPcGFjaXR5OiAwLjcsCiAgICAgICAgICAgICAgICAgICAgbnVtYmVyT2ZTaWRlczogNCwKICAgICAgICAgICAgICAgICAgICByb3RhdGlvbjogMCwKICAgICAgICAgICAgICAgICAgICByYWRpdXM6IDEwCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgLmFkZFRvKG1hcF9mMDFiNjc5MDBiN2M0OTdhOGM3NmU1Y2QxYzg1OTQ0Nik7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF9iODRlMDA5ZGQ1YzU0N2NlOGViMTI1MWE4NTA4ZGVmYyA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF9iN2QyOGU3ZTY0MGQ0OWVhOWE4NGJkNjE5ZmU3M2M3ZiA9ICQoJzxkaXYgaWQ9Imh0bWxfYjdkMjhlN2U2NDBkNDllYTlhODRiZDYxOWZlNzNjN2YiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPlRoZSBXZXN0aW4gU2luZ2Fwb3JlPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF9iODRlMDA5ZGQ1YzU0N2NlOGViMTI1MWE4NTA4ZGVmYy5zZXRDb250ZW50KGh0bWxfYjdkMjhlN2U2NDBkNDllYTlhODRiZDYxOWZlNzNjN2YpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIHJlZ3VsYXJfcG9seWdvbl9tYXJrZXJfOGFkNDE2MTI3MDRlNDc4Y2I0NGZkMGE4NWE0NjIxZGMuYmluZFBvcHVwKHBvcHVwX2I4NGUwMDlkZDVjNTQ3Y2U4ZWIxMjUxYTg1MDhkZWZjKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciByZWd1bGFyX3BvbHlnb25fbWFya2VyXzViNzM1NDNlNDYzNDQ4MWZiM2U3NjViMmMyOTI0YTViID0gbmV3IEwuUmVndWxhclBvbHlnb25NYXJrZXIoCiAgICAgICAgICAgICAgICBuZXcgTC5MYXRMbmcoMS4yNzg4MjYsMTAzLjg0ODM1NCksCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgaWNvbiA6IG5ldyBMLkljb24uRGVmYXVsdCgpLAogICAgICAgICAgICAgICAgICAgIGNvbG9yOiAnYmx1ZScsCiAgICAgICAgICAgICAgICAgICAgb3BhY2l0eTogMSwKICAgICAgICAgICAgICAgICAgICB3ZWlnaHQ6IDIsCiAgICAgICAgICAgICAgICAgICAgZmlsbENvbG9yOiAnIzBmMGYwZicsCiAgICAgICAgICAgICAgICAgICAgZmlsbE9wYWNpdHk6IDAuNywKICAgICAgICAgICAgICAgICAgICBudW1iZXJPZlNpZGVzOiA0LAogICAgICAgICAgICAgICAgICAgIHJvdGF0aW9uOiAwLAogICAgICAgICAgICAgICAgICAgIHJhZGl1czogMTAKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICAuYWRkVG8obWFwX2YwMWI2NzkwMGI3YzQ5N2E4Yzc2ZTVjZDFjODU5NDQ2KTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzNmMTk5YjFmMDMyNTQ3NDE4ZTU3NzE4OTQxMzRiMDZkID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sX2VkY2JhM2RjNjRlOTQ0ZTk4MzA1N2Y4N2IzOGU2YzVkID0gJCgnPGRpdiBpZD0iaHRtbF9lZGNiYTNkYzY0ZTk0NGU5ODMwNTdmODdiMzhlNmM1ZCIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+TXlvIFJlc3RvYmFyPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF8zZjE5OWIxZjAzMjU0NzQxOGU1NzcxODk0MTM0YjA2ZC5zZXRDb250ZW50KGh0bWxfZWRjYmEzZGM2NGU5NDRlOTgzMDU3Zjg3YjM4ZTZjNWQpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIHJlZ3VsYXJfcG9seWdvbl9tYXJrZXJfNWI3MzU0M2U0NjM0NDgxZmIzZTc2NWIyYzI5MjRhNWIuYmluZFBvcHVwKHBvcHVwXzNmMTk5YjFmMDMyNTQ3NDE4ZTU3NzE4OTQxMzRiMDZkKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciByZWd1bGFyX3BvbHlnb25fbWFya2VyX2JhNWEwOTgwNmY1NTQxYTJiM2I4ZmViMjI2YWI1MTUyID0gbmV3IEwuUmVndWxhclBvbHlnb25NYXJrZXIoCiAgICAgICAgICAgICAgICBuZXcgTC5MYXRMbmcoMS4yODAzMzk0MTA5NjU1NDY4LDEwMy44NDc4ODgxMjY3ODQ4KSwKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICBpY29uIDogbmV3IEwuSWNvbi5EZWZhdWx0KCksCiAgICAgICAgICAgICAgICAgICAgY29sb3I6ICdibHVlJywKICAgICAgICAgICAgICAgICAgICBvcGFjaXR5OiAxLAogICAgICAgICAgICAgICAgICAgIHdlaWdodDogMiwKICAgICAgICAgICAgICAgICAgICBmaWxsQ29sb3I6ICcjMGYwZjBmJywKICAgICAgICAgICAgICAgICAgICBmaWxsT3BhY2l0eTogMC43LAogICAgICAgICAgICAgICAgICAgIG51bWJlck9mU2lkZXM6IDQsCiAgICAgICAgICAgICAgICAgICAgcm90YXRpb246IDAsCiAgICAgICAgICAgICAgICAgICAgcmFkaXVzOiAxMAogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgIC5hZGRUbyhtYXBfZjAxYjY3OTAwYjdjNDk3YThjNzZlNWNkMWM4NTk0NDYpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfY2M4MTc1OGY2NmI5NGFlNzk2MGUzZWU5NjI4M2U5MjYgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfMDJjOTUzMmVlYWQ2NDE4MjgyNzllMDYxZTM4NzQ3OWEgPSAkKCc8ZGl2IGlkPSJodG1sXzAyYzk1MzJlZWFkNjQxODI4Mjc5ZTA2MWUzODc0NzlhIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5Db21tb24gTWFuIFN0YW48L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwX2NjODE3NThmNjZiOTRhZTc5NjBlM2VlOTYyODNlOTI2LnNldENvbnRlbnQoaHRtbF8wMmM5NTMyZWVhZDY0MTgyODI3OWUwNjFlMzg3NDc5YSk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgcmVndWxhcl9wb2x5Z29uX21hcmtlcl9iYTVhMDk4MDZmNTU0MWEyYjNiOGZlYjIyNmFiNTE1Mi5iaW5kUG9wdXAocG9wdXBfY2M4MTc1OGY2NmI5NGFlNzk2MGUzZWU5NjI4M2U5MjYpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHJlZ3VsYXJfcG9seWdvbl9tYXJrZXJfMDFmZmFjYzA3NzJhNDE1NmI4NWU2NjJjZDhkMzdmNGEgPSBuZXcgTC5SZWd1bGFyUG9seWdvbk1hcmtlcigKICAgICAgICAgICAgICAgIG5ldyBMLkxhdExuZygxLjI4MDEzOTU5NzAwODAzOTEsMTAzLjg0NjgzNDM4Njk3MDY2KSwKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICBpY29uIDogbmV3IEwuSWNvbi5EZWZhdWx0KCksCiAgICAgICAgICAgICAgICAgICAgY29sb3I6ICdibHVlJywKICAgICAgICAgICAgICAgICAgICBvcGFjaXR5OiAxLAogICAgICAgICAgICAgICAgICAgIHdlaWdodDogMiwKICAgICAgICAgICAgICAgICAgICBmaWxsQ29sb3I6ICcjMGYwZjBmJywKICAgICAgICAgICAgICAgICAgICBmaWxsT3BhY2l0eTogMC43LAogICAgICAgICAgICAgICAgICAgIG51bWJlck9mU2lkZXM6IDQsCiAgICAgICAgICAgICAgICAgICAgcm90YXRpb246IDAsCiAgICAgICAgICAgICAgICAgICAgcmFkaXVzOiAxMAogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgIC5hZGRUbyhtYXBfZjAxYjY3OTAwYjdjNDk3YThjNzZlNWNkMWM4NTk0NDYpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfYzIzYzdjYTE0Y2FlNDg5NWE1MTY4MmFlMWEzMmU1MWMgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfM2RmMWFhNmYxYzUwNGNhMzlmOTJlNWYyNzZiNjAzZGIgPSAkKCc8ZGl2IGlkPSJodG1sXzNkZjFhYTZmMWM1MDRjYTM5ZjkyZTVmMjc2YjYwM2RiIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5XYW50b24gU2VuZyYjMzk7cyBOb29kbGUgQmFyPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF9jMjNjN2NhMTRjYWU0ODk1YTUxNjgyYWUxYTMyZTUxYy5zZXRDb250ZW50KGh0bWxfM2RmMWFhNmYxYzUwNGNhMzlmOTJlNWYyNzZiNjAzZGIpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIHJlZ3VsYXJfcG9seWdvbl9tYXJrZXJfMDFmZmFjYzA3NzJhNDE1NmI4NWU2NjJjZDhkMzdmNGEuYmluZFBvcHVwKHBvcHVwX2MyM2M3Y2ExNGNhZTQ4OTVhNTE2ODJhZTFhMzJlNTFjKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciByZWd1bGFyX3BvbHlnb25fbWFya2VyX2NkZDcyNzgzNGJkNjQwMzJiMmIzY2I2ZThlMWFiYjYwID0gbmV3IEwuUmVndWxhclBvbHlnb25NYXJrZXIoCiAgICAgICAgICAgICAgICBuZXcgTC5MYXRMbmcoMS4yODA1ODE4OTc4ODQ3MDUyLDEwMy44NTA0NDAyMDU4MDIyMyksCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgaWNvbiA6IG5ldyBMLkljb24uRGVmYXVsdCgpLAogICAgICAgICAgICAgICAgICAgIGNvbG9yOiAnYmx1ZScsCiAgICAgICAgICAgICAgICAgICAgb3BhY2l0eTogMSwKICAgICAgICAgICAgICAgICAgICB3ZWlnaHQ6IDIsCiAgICAgICAgICAgICAgICAgICAgZmlsbENvbG9yOiAnIzBmMGYwZicsCiAgICAgICAgICAgICAgICAgICAgZmlsbE9wYWNpdHk6IDAuNywKICAgICAgICAgICAgICAgICAgICBudW1iZXJPZlNpZGVzOiA0LAogICAgICAgICAgICAgICAgICAgIHJvdGF0aW9uOiAwLAogICAgICAgICAgICAgICAgICAgIHJhZGl1czogMTAKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICAuYWRkVG8obWFwX2YwMWI2NzkwMGI3YzQ5N2E4Yzc2ZTVjZDFjODU5NDQ2KTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwX2M3ODliNTM1MTU1ODQ0MmQ4Y2M4OTEyMGMwMGJjZTA1ID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzBlMGUwZDBiMzUwZTQ2YzJhNWIzNzk4ODVmOTMwMzFmID0gJCgnPGRpdiBpZD0iaHRtbF8wZTBlMGQwYjM1MGU0NmMyYTViMzc5ODg1ZjkzMDMxZiIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+TGF1IFBhIFNhdCBGZXN0aXZhbCBNYXJrZXQ8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwX2M3ODliNTM1MTU1ODQ0MmQ4Y2M4OTEyMGMwMGJjZTA1LnNldENvbnRlbnQoaHRtbF8wZTBlMGQwYjM1MGU0NmMyYTViMzc5ODg1ZjkzMDMxZik7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgcmVndWxhcl9wb2x5Z29uX21hcmtlcl9jZGQ3Mjc4MzRiZDY0MDMyYjJiM2NiNmU4ZTFhYmI2MC5iaW5kUG9wdXAocG9wdXBfYzc4OWI1MzUxNTU4NDQyZDhjYzg5MTIwYzAwYmNlMDUpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHJlZ3VsYXJfcG9seWdvbl9tYXJrZXJfNDRlZWJmOTcwYWY0NDg2OGJjZjFmMDU2ZWU1MjllN2MgPSBuZXcgTC5SZWd1bGFyUG9seWdvbk1hcmtlcigKICAgICAgICAgICAgICAgIG5ldyBMLkxhdExuZygxLjI4MDIwNzM0NTM3Njg3MiwxMDMuODQ2ODYwMDAxOTcwOTcpLAogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgIGljb24gOiBuZXcgTC5JY29uLkRlZmF1bHQoKSwKICAgICAgICAgICAgICAgICAgICBjb2xvcjogJ2JsdWUnLAogICAgICAgICAgICAgICAgICAgIG9wYWNpdHk6IDEsCiAgICAgICAgICAgICAgICAgICAgd2VpZ2h0OiAyLAogICAgICAgICAgICAgICAgICAgIGZpbGxDb2xvcjogJyMwZjBmMGYnLAogICAgICAgICAgICAgICAgICAgIGZpbGxPcGFjaXR5OiAwLjcsCiAgICAgICAgICAgICAgICAgICAgbnVtYmVyT2ZTaWRlczogNCwKICAgICAgICAgICAgICAgICAgICByb3RhdGlvbjogMCwKICAgICAgICAgICAgICAgICAgICByYWRpdXM6IDEwCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgLmFkZFRvKG1hcF9mMDFiNjc5MDBiN2M0OTdhOGM3NmU1Y2QxYzg1OTQ0Nik7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF8wMWFkMmIyYzM5Njg0OTczYmIxNzBmNDQ1OTY4MzRjYyA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF82ZjY5MGE4NWE0YTM0NDVkYjE5YmU0YTg3YWJjY2IzYSA9ICQoJzxkaXYgaWQ9Imh0bWxfNmY2OTBhODVhNGEzNDQ1ZGIxOWJlNGE4N2FiY2NiM2EiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPlRoZSBTcGlmZnkgRGFwcGVyPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF8wMWFkMmIyYzM5Njg0OTczYmIxNzBmNDQ1OTY4MzRjYy5zZXRDb250ZW50KGh0bWxfNmY2OTBhODVhNGEzNDQ1ZGIxOWJlNGE4N2FiY2NiM2EpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIHJlZ3VsYXJfcG9seWdvbl9tYXJrZXJfNDRlZWJmOTcwYWY0NDg2OGJjZjFmMDU2ZWU1MjllN2MuYmluZFBvcHVwKHBvcHVwXzAxYWQyYjJjMzk2ODQ5NzNiYjE3MGY0NDU5NjgzNGNjKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciByZWd1bGFyX3BvbHlnb25fbWFya2VyXzFhMTFhZjlhMmRhNTQwMTQ4Mjk5YWNmNDc4OGIwYWRhID0gbmV3IEwuUmVndWxhclBvbHlnb25NYXJrZXIoCiAgICAgICAgICAgICAgICBuZXcgTC5MYXRMbmcoMS4yNzkxMDAwNzM2MjQxMjE2LDEwMy44NDczOTIyMjAxMTM1NSksCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgaWNvbiA6IG5ldyBMLkljb24uRGVmYXVsdCgpLAogICAgICAgICAgICAgICAgICAgIGNvbG9yOiAnYmx1ZScsCiAgICAgICAgICAgICAgICAgICAgb3BhY2l0eTogMSwKICAgICAgICAgICAgICAgICAgICB3ZWlnaHQ6IDIsCiAgICAgICAgICAgICAgICAgICAgZmlsbENvbG9yOiAnIzBmMGYwZicsCiAgICAgICAgICAgICAgICAgICAgZmlsbE9wYWNpdHk6IDAuNywKICAgICAgICAgICAgICAgICAgICBudW1iZXJPZlNpZGVzOiA0LAogICAgICAgICAgICAgICAgICAgIHJvdGF0aW9uOiAwLAogICAgICAgICAgICAgICAgICAgIHJhZGl1czogMTAKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICAuYWRkVG8obWFwX2YwMWI2NzkwMGI3YzQ5N2E4Yzc2ZTVjZDFjODU5NDQ2KTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzgzNjE5Mjk0NzFhZTQ2NmRhZWQ2Zjc2ODI3M2U3NjA1ID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzM1ZDc2ZmZmYzI3MjQ4OWE4NDIwYWY5NjkzN2I2Njk2ID0gJCgnPGRpdiBpZD0iaHRtbF8zNWQ3NmZmZmMyNzI0ODlhODQyMGFmOTY5MzdiNjY5NiIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+UXVhbiBKaSBAIEFtb3kgU3RyZWV0IEZvb2QgTWFya2V0PC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF84MzYxOTI5NDcxYWU0NjZkYWVkNmY3NjgyNzNlNzYwNS5zZXRDb250ZW50KGh0bWxfMzVkNzZmZmZjMjcyNDg5YTg0MjBhZjk2OTM3YjY2OTYpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIHJlZ3VsYXJfcG9seWdvbl9tYXJrZXJfMWExMWFmOWEyZGE1NDAxNDgyOTlhY2Y0Nzg4YjBhZGEuYmluZFBvcHVwKHBvcHVwXzgzNjE5Mjk0NzFhZTQ2NmRhZWQ2Zjc2ODI3M2U3NjA1KTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciByZWd1bGFyX3BvbHlnb25fbWFya2VyXzEwYjhiNmYyNDM4OTRhODhhMzZjMzA1OTk4OWRjOTRhID0gbmV3IEwuUmVndWxhclBvbHlnb25NYXJrZXIoCiAgICAgICAgICAgICAgICBuZXcgTC5MYXRMbmcoMS4yNzgxNzA2MDY5MTQzMzUzLDEwMy44NDk0NTI0ODk2MDQ3OSksCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgaWNvbiA6IG5ldyBMLkljb24uRGVmYXVsdCgpLAogICAgICAgICAgICAgICAgICAgIGNvbG9yOiAnYmx1ZScsCiAgICAgICAgICAgICAgICAgICAgb3BhY2l0eTogMSwKICAgICAgICAgICAgICAgICAgICB3ZWlnaHQ6IDIsCiAgICAgICAgICAgICAgICAgICAgZmlsbENvbG9yOiAnIzBmMGYwZicsCiAgICAgICAgICAgICAgICAgICAgZmlsbE9wYWNpdHk6IDAuNywKICAgICAgICAgICAgICAgICAgICBudW1iZXJPZlNpZGVzOiA0LAogICAgICAgICAgICAgICAgICAgIHJvdGF0aW9uOiAwLAogICAgICAgICAgICAgICAgICAgIHJhZGl1czogMTAKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICAuYWRkVG8obWFwX2YwMWI2NzkwMGI3YzQ5N2E4Yzc2ZTVjZDFjODU5NDQ2KTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzhjYWY0YzQ5MzVlYTQ5MmQ4NzA4MTU5ODBjMmQ0Y2FhID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzBmM2UwYTllYjExZTQ0NzRiZGJiZTE3ZGZhZDljNTZhID0gJCgnPGRpdiBpZD0iaHRtbF8wZjNlMGE5ZWIxMWU0NDc0YmRiYmUxN2RmYWQ5YzU2YSIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+THVuYXIgQ29mZmVlIFJvYXN0ZXI8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzhjYWY0YzQ5MzVlYTQ5MmQ4NzA4MTU5ODBjMmQ0Y2FhLnNldENvbnRlbnQoaHRtbF8wZjNlMGE5ZWIxMWU0NDc0YmRiYmUxN2RmYWQ5YzU2YSk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgcmVndWxhcl9wb2x5Z29uX21hcmtlcl8xMGI4YjZmMjQzODk0YTg4YTM2YzMwNTk5ODlkYzk0YS5iaW5kUG9wdXAocG9wdXBfOGNhZjRjNDkzNWVhNDkyZDg3MDgxNTk4MGMyZDRjYWEpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHJlZ3VsYXJfcG9seWdvbl9tYXJrZXJfZWFkMGRhZTY3ZTUxNGI5MzllNDEwMTdlOGZjZDcxOGEgPSBuZXcgTC5SZWd1bGFyUG9seWdvbk1hcmtlcigKICAgICAgICAgICAgICAgIG5ldyBMLkxhdExuZygxLjI3OTQyODQxNzc1MzQ2NzgsMTAzLjg0NzIyNTM5MzA2NDIyKSwKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICBpY29uIDogbmV3IEwuSWNvbi5EZWZhdWx0KCksCiAgICAgICAgICAgICAgICAgICAgY29sb3I6ICdibHVlJywKICAgICAgICAgICAgICAgICAgICBvcGFjaXR5OiAxLAogICAgICAgICAgICAgICAgICAgIHdlaWdodDogMiwKICAgICAgICAgICAgICAgICAgICBmaWxsQ29sb3I6ICcjMGYwZjBmJywKICAgICAgICAgICAgICAgICAgICBmaWxsT3BhY2l0eTogMC43LAogICAgICAgICAgICAgICAgICAgIG51bWJlck9mU2lkZXM6IDQsCiAgICAgICAgICAgICAgICAgICAgcm90YXRpb246IDAsCiAgICAgICAgICAgICAgICAgICAgcmFkaXVzOiAxMAogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgIC5hZGRUbyhtYXBfZjAxYjY3OTAwYjdjNDk3YThjNzZlNWNkMWM4NTk0NDYpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfM2IzMWIwYjE2YWVkNDk4YzkwOWJmOTVkM2E0Mzk0NzQgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfOGIwYTJhNzIwYjUwNGNhYTljZmQwMTNmMmZkY2EyMzMgPSAkKCc8ZGl2IGlkPSJodG1sXzhiMGEyYTcyMGI1MDRjYWE5Y2ZkMDEzZjJmZGNhMjMzIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5Hb29kIERheSDlpb3ml6U8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzNiMzFiMGIxNmFlZDQ5OGM5MDliZjk1ZDNhNDM5NDc0LnNldENvbnRlbnQoaHRtbF84YjBhMmE3MjBiNTA0Y2FhOWNmZDAxM2YyZmRjYTIzMyk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgcmVndWxhcl9wb2x5Z29uX21hcmtlcl9lYWQwZGFlNjdlNTE0YjkzOWU0MTAxN2U4ZmNkNzE4YS5iaW5kUG9wdXAocG9wdXBfM2IzMWIwYjE2YWVkNDk4YzkwOWJmOTVkM2E0Mzk0NzQpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHJlZ3VsYXJfcG9seWdvbl9tYXJrZXJfOTM1YzFjODczMzdjNDZjYjkyNjBjNzJhZTg2NDNiYmEgPSBuZXcgTC5SZWd1bGFyUG9seWdvbk1hcmtlcigKICAgICAgICAgICAgICAgIG5ldyBMLkxhdExuZygxLjI4MjQ1ODgyNzkzNTYxMjgsMTAzLjg0NzI0MDQ0MzE4Njk4KSwKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICBpY29uIDogbmV3IEwuSWNvbi5EZWZhdWx0KCksCiAgICAgICAgICAgICAgICAgICAgY29sb3I6ICdibHVlJywKICAgICAgICAgICAgICAgICAgICBvcGFjaXR5OiAxLAogICAgICAgICAgICAgICAgICAgIHdlaWdodDogMiwKICAgICAgICAgICAgICAgICAgICBmaWxsQ29sb3I6ICcjMGYwZjBmJywKICAgICAgICAgICAgICAgICAgICBmaWxsT3BhY2l0eTogMC43LAogICAgICAgICAgICAgICAgICAgIG51bWJlck9mU2lkZXM6IDQsCiAgICAgICAgICAgICAgICAgICAgcm90YXRpb246IDAsCiAgICAgICAgICAgICAgICAgICAgcmFkaXVzOiAxMAogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgIC5hZGRUbyhtYXBfZjAxYjY3OTAwYjdjNDk3YThjNzZlNWNkMWM4NTk0NDYpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfYjYxMWM0NDljZmE2NDM1OGIwZjdhYjgwZDdjOTMzODQgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfZTVmZTZmY2VjYjJiNDFlZjhkMGJmNTAwMDQzZWI3YWQgPSAkKCc8ZGl2IGlkPSJodG1sX2U1ZmU2ZmNlY2IyYjQxZWY4ZDBiZjUwMDA0M2ViN2FkIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5MdWtlJiMzOTtzIE95c3RlciBCYXIgJmFtcDsgQ2hvcCBIb3VzZTwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfYjYxMWM0NDljZmE2NDM1OGIwZjdhYjgwZDdjOTMzODQuc2V0Q29udGVudChodG1sX2U1ZmU2ZmNlY2IyYjQxZWY4ZDBiZjUwMDA0M2ViN2FkKTsKICAgICAgICAgICAgCgogICAgICAgICAgICByZWd1bGFyX3BvbHlnb25fbWFya2VyXzkzNWMxYzg3MzM3YzQ2Y2I5MjYwYzcyYWU4NjQzYmJhLmJpbmRQb3B1cChwb3B1cF9iNjExYzQ0OWNmYTY0MzU4YjBmN2FiODBkN2M5MzM4NCk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcmVndWxhcl9wb2x5Z29uX21hcmtlcl85ZGVmYzU5ZDE5ZGI0MWQ3YWY0NTUyOWQ3MWMyMWMyYSA9IG5ldyBMLlJlZ3VsYXJQb2x5Z29uTWFya2VyKAogICAgICAgICAgICAgICAgbmV3IEwuTGF0TG5nKDEuMjgxMDM1MDcyMjg5MDQxMSwxMDMuODQ4NjY5NDY1MDkwNCksCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgaWNvbiA6IG5ldyBMLkljb24uRGVmYXVsdCgpLAogICAgICAgICAgICAgICAgICAgIGNvbG9yOiAnYmx1ZScsCiAgICAgICAgICAgICAgICAgICAgb3BhY2l0eTogMSwKICAgICAgICAgICAgICAgICAgICB3ZWlnaHQ6IDIsCiAgICAgICAgICAgICAgICAgICAgZmlsbENvbG9yOiAnIzBmMGYwZicsCiAgICAgICAgICAgICAgICAgICAgZmlsbE9wYWNpdHk6IDAuNywKICAgICAgICAgICAgICAgICAgICBudW1iZXJPZlNpZGVzOiA0LAogICAgICAgICAgICAgICAgICAgIHJvdGF0aW9uOiAwLAogICAgICAgICAgICAgICAgICAgIHJhZGl1czogMTAKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICAuYWRkVG8obWFwX2YwMWI2NzkwMGI3YzQ5N2E4Yzc2ZTVjZDFjODU5NDQ2KTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzdlZGVmM2Y3NzhkMzQ3ZjFiNzViOGY5ZDc1YmQxMzExID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzRmZjIwZTZlNDE0ZTQ2ZGQ4M2YwZjdmNTQ2Y2Q2MmVkID0gJCgnPGRpdiBpZD0iaHRtbF80ZmYyMGU2ZTQxNGU0NmRkODNmMGY3ZjU0NmNkNjJlZCIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+TGUgUXVpbnplIFZpbnM8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzdlZGVmM2Y3NzhkMzQ3ZjFiNzViOGY5ZDc1YmQxMzExLnNldENvbnRlbnQoaHRtbF80ZmYyMGU2ZTQxNGU0NmRkODNmMGY3ZjU0NmNkNjJlZCk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgcmVndWxhcl9wb2x5Z29uX21hcmtlcl85ZGVmYzU5ZDE5ZGI0MWQ3YWY0NTUyOWQ3MWMyMWMyYS5iaW5kUG9wdXAocG9wdXBfN2VkZWYzZjc3OGQzNDdmMWI3NWI4ZjlkNzViZDEzMTEpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHJlZ3VsYXJfcG9seWdvbl9tYXJrZXJfYzExMDIzZDI3NjUzNGUxY2JhMDZkNTE5NDhmMzdiOGMgPSBuZXcgTC5SZWd1bGFyUG9seWdvbk1hcmtlcigKICAgICAgICAgICAgICAgIG5ldyBMLkxhdExuZygxLjI3OTQwMDYsMTAzLjg0NjU5NiksCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgaWNvbiA6IG5ldyBMLkljb24uRGVmYXVsdCgpLAogICAgICAgICAgICAgICAgICAgIGNvbG9yOiAnYmx1ZScsCiAgICAgICAgICAgICAgICAgICAgb3BhY2l0eTogMSwKICAgICAgICAgICAgICAgICAgICB3ZWlnaHQ6IDIsCiAgICAgICAgICAgICAgICAgICAgZmlsbENvbG9yOiAnIzBmMGYwZicsCiAgICAgICAgICAgICAgICAgICAgZmlsbE9wYWNpdHk6IDAuNywKICAgICAgICAgICAgICAgICAgICBudW1iZXJPZlNpZGVzOiA0LAogICAgICAgICAgICAgICAgICAgIHJvdGF0aW9uOiAwLAogICAgICAgICAgICAgICAgICAgIHJhZGl1czogMTAKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICAuYWRkVG8obWFwX2YwMWI2NzkwMGI3YzQ5N2E4Yzc2ZTVjZDFjODU5NDQ2KTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzhhNDdlNTc2ZjBiZDQ2Y2Q4ZGZjYTFmMzQ3Y2ViZjVkID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzYyZTAzMTAzNDM3ZDRlMWFiY2I4NDIyYTBmNzMzOGQ1ID0gJCgnPGRpdiBpZD0iaHRtbF82MmUwMzEwMzQzN2Q0ZTFhYmNiODQyMmEwZjczMzhkNSIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+SGFuIEtlZSBGaXNoIFNvdXA8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzhhNDdlNTc2ZjBiZDQ2Y2Q4ZGZjYTFmMzQ3Y2ViZjVkLnNldENvbnRlbnQoaHRtbF82MmUwMzEwMzQzN2Q0ZTFhYmNiODQyMmEwZjczMzhkNSk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgcmVndWxhcl9wb2x5Z29uX21hcmtlcl9jMTEwMjNkMjc2NTM0ZTFjYmEwNmQ1MTk0OGYzN2I4Yy5iaW5kUG9wdXAocG9wdXBfOGE0N2U1NzZmMGJkNDZjZDhkZmNhMWYzNDdjZWJmNWQpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHJlZ3VsYXJfcG9seWdvbl9tYXJrZXJfMjFkNmQyOTRlYWQ5NDA3NzlkZWM2NTJlMjI0NzdjMDAgPSBuZXcgTC5SZWd1bGFyUG9seWdvbk1hcmtlcigKICAgICAgICAgICAgICAgIG5ldyBMLkxhdExuZygxLjI4MDk3OTk2NzUxMzc3MzYsMTAzLjg0NzczNDEwODU0MzE4KSwKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICBpY29uIDogbmV3IEwuSWNvbi5EZWZhdWx0KCksCiAgICAgICAgICAgICAgICAgICAgY29sb3I6ICdibHVlJywKICAgICAgICAgICAgICAgICAgICBvcGFjaXR5OiAxLAogICAgICAgICAgICAgICAgICAgIHdlaWdodDogMiwKICAgICAgICAgICAgICAgICAgICBmaWxsQ29sb3I6ICcjMGYwZjBmJywKICAgICAgICAgICAgICAgICAgICBmaWxsT3BhY2l0eTogMC43LAogICAgICAgICAgICAgICAgICAgIG51bWJlck9mU2lkZXM6IDQsCiAgICAgICAgICAgICAgICAgICAgcm90YXRpb246IDAsCiAgICAgICAgICAgICAgICAgICAgcmFkaXVzOiAxMAogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgIC5hZGRUbyhtYXBfZjAxYjY3OTAwYjdjNDk3YThjNzZlNWNkMWM4NTk0NDYpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfYzNkMGJlM2VlNGU5NGRjOGI4ZWVlY2VkMzJhYTkwYjYgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfMThkOTUyMDkxM2E4NDYwMTlmZTAxZjEwOTA0ODUwY2EgPSAkKCc8ZGl2IGlkPSJodG1sXzE4ZDk1MjA5MTNhODQ2MDE5ZmUwMWYxMDkwNDg1MGNhIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5UaGlhbiBIb2NrIEtlbmcgKFRlbXBsZSkgKFRoaWFuIEhvY2sgS2VuZyk8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwX2MzZDBiZTNlZTRlOTRkYzhiOGVlZWNlZDMyYWE5MGI2LnNldENvbnRlbnQoaHRtbF8xOGQ5NTIwOTEzYTg0NjAxOWZlMDFmMTA5MDQ4NTBjYSk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgcmVndWxhcl9wb2x5Z29uX21hcmtlcl8yMWQ2ZDI5NGVhZDk0MDc3OWRlYzY1MmUyMjQ3N2MwMC5iaW5kUG9wdXAocG9wdXBfYzNkMGJlM2VlNGU5NGRjOGI4ZWVlY2VkMzJhYTkwYjYpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHJlZ3VsYXJfcG9seWdvbl9tYXJrZXJfMmI5OTVmOGVmNDgxNDNjMGI0MDYwMDVkMWJiMmUxZTYgPSBuZXcgTC5SZWd1bGFyUG9seWdvbk1hcmtlcigKICAgICAgICAgICAgICAgIG5ldyBMLkxhdExuZygxLjI4MTQ2OCwxMDMuODUwMDM5KSwKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICBpY29uIDogbmV3IEwuSWNvbi5EZWZhdWx0KCksCiAgICAgICAgICAgICAgICAgICAgY29sb3I6ICdibHVlJywKICAgICAgICAgICAgICAgICAgICBvcGFjaXR5OiAxLAogICAgICAgICAgICAgICAgICAgIHdlaWdodDogMiwKICAgICAgICAgICAgICAgICAgICBmaWxsQ29sb3I6ICcjMGYwZjBmJywKICAgICAgICAgICAgICAgICAgICBmaWxsT3BhY2l0eTogMC43LAogICAgICAgICAgICAgICAgICAgIG51bWJlck9mU2lkZXM6IDQsCiAgICAgICAgICAgICAgICAgICAgcm90YXRpb246IDAsCiAgICAgICAgICAgICAgICAgICAgcmFkaXVzOiAxMAogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgIC5hZGRUbyhtYXBfZjAxYjY3OTAwYjdjNDk3YThjNzZlNWNkMWM4NTk0NDYpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfMDI5MTQ4Y2Q4MmZiNGVkNDliZDcxYTJmNjhhNTJjMGQgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfMTRiNDQxZTY3ZmJjNGRjMWI0N2E3NWViZGU3ZTZhZWMgPSAkKCc8ZGl2IGlkPSJodG1sXzE0YjQ0MWU2N2ZiYzRkYzFiNDdhNzVlYmRlN2U2YWVjIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5HcmFpbiBUcmFkZXJzPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF8wMjkxNDhjZDgyZmI0ZWQ0OWJkNzFhMmY2OGE1MmMwZC5zZXRDb250ZW50KGh0bWxfMTRiNDQxZTY3ZmJjNGRjMWI0N2E3NWViZGU3ZTZhZWMpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIHJlZ3VsYXJfcG9seWdvbl9tYXJrZXJfMmI5OTVmOGVmNDgxNDNjMGI0MDYwMDVkMWJiMmUxZTYuYmluZFBvcHVwKHBvcHVwXzAyOTE0OGNkODJmYjRlZDQ5YmQ3MWEyZjY4YTUyYzBkKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciByZWd1bGFyX3BvbHlnb25fbWFya2VyXzZiY2EzMzkwNmE3ZTQwZDZiNjRjYWI2NDYxODU1NzRmID0gbmV3IEwuUmVndWxhclBvbHlnb25NYXJrZXIoCiAgICAgICAgICAgICAgICBuZXcgTC5MYXRMbmcoMS4yNzg2MzA4NDcwNDM3MTQ0LDEwMy44NTE0ODc0MTI3ODQxOCksCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgaWNvbiA6IG5ldyBMLkljb24uRGVmYXVsdCgpLAogICAgICAgICAgICAgICAgICAgIGNvbG9yOiAnYmx1ZScsCiAgICAgICAgICAgICAgICAgICAgb3BhY2l0eTogMSwKICAgICAgICAgICAgICAgICAgICB3ZWlnaHQ6IDIsCiAgICAgICAgICAgICAgICAgICAgZmlsbENvbG9yOiAnIzBmMGYwZicsCiAgICAgICAgICAgICAgICAgICAgZmlsbE9wYWNpdHk6IDAuNywKICAgICAgICAgICAgICAgICAgICBudW1iZXJPZlNpZGVzOiA0LAogICAgICAgICAgICAgICAgICAgIHJvdGF0aW9uOiAwLAogICAgICAgICAgICAgICAgICAgIHJhZGl1czogMTAKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICAuYWRkVG8obWFwX2YwMWI2NzkwMGI3YzQ5N2E4Yzc2ZTVjZDFjODU5NDQ2KTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzE5NzdlYjY1ZTFkNDRjMDY4YjI5YjYyMmE4MGQzZmY1ID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sX2EyOGNhYzY4ZDU2MzQwMTk4NmVhMjIxZWE1ZDAxN2RlID0gJCgnPGRpdiBpZD0iaHRtbF9hMjhjYWM2OGQ1NjM0MDE5ODZlYTIyMWVhNWQwMTdkZSIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+UHVyZSBGaXRuZXNzPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF8xOTc3ZWI2NWUxZDQ0YzA2OGIyOWI2MjJhODBkM2ZmNS5zZXRDb250ZW50KGh0bWxfYTI4Y2FjNjhkNTYzNDAxOTg2ZWEyMjFlYTVkMDE3ZGUpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIHJlZ3VsYXJfcG9seWdvbl9tYXJrZXJfNmJjYTMzOTA2YTdlNDBkNmI2NGNhYjY0NjE4NTU3NGYuYmluZFBvcHVwKHBvcHVwXzE5NzdlYjY1ZTFkNDRjMDY4YjI5YjYyMmE4MGQzZmY1KTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciByZWd1bGFyX3BvbHlnb25fbWFya2VyX2NhNDIzMWU5YTllMjRjN2M4Y2Y3MjNiMDRjMTIxN2JjID0gbmV3IEwuUmVndWxhclBvbHlnb25NYXJrZXIoCiAgICAgICAgICAgICAgICBuZXcgTC5MYXRMbmcoMS4yODA3MDY5NjY3MzcxNjUzLDEwMy44NDU0MzExNjQ1MjU0NiksCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgaWNvbiA6IG5ldyBMLkljb24uRGVmYXVsdCgpLAogICAgICAgICAgICAgICAgICAgIGNvbG9yOiAnYmx1ZScsCiAgICAgICAgICAgICAgICAgICAgb3BhY2l0eTogMSwKICAgICAgICAgICAgICAgICAgICB3ZWlnaHQ6IDIsCiAgICAgICAgICAgICAgICAgICAgZmlsbENvbG9yOiAnIzBmMGYwZicsCiAgICAgICAgICAgICAgICAgICAgZmlsbE9wYWNpdHk6IDAuNywKICAgICAgICAgICAgICAgICAgICBudW1iZXJPZlNpZGVzOiA0LAogICAgICAgICAgICAgICAgICAgIHJvdGF0aW9uOiAwLAogICAgICAgICAgICAgICAgICAgIHJhZGl1czogMTAKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICAuYWRkVG8obWFwX2YwMWI2NzkwMGI3YzQ5N2E4Yzc2ZTVjZDFjODU5NDQ2KTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwX2IxNDk1OWNkYjdjODQ0NjZiODNiMTAzZmVmMmE4ZWE1ID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzM4ZjBiNWI1NzdkZjQ1NTM4NGM5Mjc1ZWJiZTI0N2Y1ID0gJCgnPGRpdiBpZD0iaHRtbF8zOGYwYjViNTc3ZGY0NTUzODRjOTI3NWViYmUyNDdmNSIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+VGhlIFNjYXJsZXQ8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwX2IxNDk1OWNkYjdjODQ0NjZiODNiMTAzZmVmMmE4ZWE1LnNldENvbnRlbnQoaHRtbF8zOGYwYjViNTc3ZGY0NTUzODRjOTI3NWViYmUyNDdmNSk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgcmVndWxhcl9wb2x5Z29uX21hcmtlcl9jYTQyMzFlOWE5ZTI0YzdjOGNmNzIzYjA0YzEyMTdiYy5iaW5kUG9wdXAocG9wdXBfYjE0OTU5Y2RiN2M4NDQ2NmI4M2IxMDNmZWYyYThlYTUpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHJlZ3VsYXJfcG9seWdvbl9tYXJrZXJfZjM0Mzg0NmM2NTZiNDk0MzhiOTViYjljZDVkZmU1NGUgPSBuZXcgTC5SZWd1bGFyUG9seWdvbk1hcmtlcigKICAgICAgICAgICAgICAgIG5ldyBMLkxhdExuZygxLjI4MDI2NzQsMTAzLjg0Njc1KSwKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICBpY29uIDogbmV3IEwuSWNvbi5EZWZhdWx0KCksCiAgICAgICAgICAgICAgICAgICAgY29sb3I6ICdibHVlJywKICAgICAgICAgICAgICAgICAgICBvcGFjaXR5OiAxLAogICAgICAgICAgICAgICAgICAgIHdlaWdodDogMiwKICAgICAgICAgICAgICAgICAgICBmaWxsQ29sb3I6ICcjMGYwZjBmJywKICAgICAgICAgICAgICAgICAgICBmaWxsT3BhY2l0eTogMC43LAogICAgICAgICAgICAgICAgICAgIG51bWJlck9mU2lkZXM6IDQsCiAgICAgICAgICAgICAgICAgICAgcm90YXRpb246IDAsCiAgICAgICAgICAgICAgICAgICAgcmFkaXVzOiAxMAogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgIC5hZGRUbyhtYXBfZjAxYjY3OTAwYjdjNDk3YThjNzZlNWNkMWM4NTk0NDYpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfY2UzNTMzYmQ0YjUxNDg2MDk2MDNhYzcyY2YzYzMwYTggPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfZTlkZjkwOTU5ZjdjNDg0OThlM2Y4ZWYyMWY5ODgxOGIgPSAkKCc8ZGl2IGlkPSJodG1sX2U5ZGY5MDk1OWY3YzQ4NDk4ZTNmOGVmMjFmOTg4MThiIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5Ob3VyaTwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfY2UzNTMzYmQ0YjUxNDg2MDk2MDNhYzcyY2YzYzMwYTguc2V0Q29udGVudChodG1sX2U5ZGY5MDk1OWY3YzQ4NDk4ZTNmOGVmMjFmOTg4MThiKTsKICAgICAgICAgICAgCgogICAgICAgICAgICByZWd1bGFyX3BvbHlnb25fbWFya2VyX2YzNDM4NDZjNjU2YjQ5NDM4Yjk1YmI5Y2Q1ZGZlNTRlLmJpbmRQb3B1cChwb3B1cF9jZTM1MzNiZDRiNTE0ODYwOTYwM2FjNzJjZjNjMzBhOCk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcmVndWxhcl9wb2x5Z29uX21hcmtlcl9kMzdmYjFmMjYyYjc0YWYyOTI0NWViODg2OTY1M2Q3ZSA9IG5ldyBMLlJlZ3VsYXJQb2x5Z29uTWFya2VyKAogICAgICAgICAgICAgICAgbmV3IEwuTGF0TG5nKDEuMjc3NjE5MTQ4MzY3NzgyNiwxMDMuODQ3OTk3MjcwNDc4MDMpLAogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgIGljb24gOiBuZXcgTC5JY29uLkRlZmF1bHQoKSwKICAgICAgICAgICAgICAgICAgICBjb2xvcjogJ2JsdWUnLAogICAgICAgICAgICAgICAgICAgIG9wYWNpdHk6IDEsCiAgICAgICAgICAgICAgICAgICAgd2VpZ2h0OiAyLAogICAgICAgICAgICAgICAgICAgIGZpbGxDb2xvcjogJyMwZjBmMGYnLAogICAgICAgICAgICAgICAgICAgIGZpbGxPcGFjaXR5OiAwLjcsCiAgICAgICAgICAgICAgICAgICAgbnVtYmVyT2ZTaWRlczogNCwKICAgICAgICAgICAgICAgICAgICByb3RhdGlvbjogMCwKICAgICAgICAgICAgICAgICAgICByYWRpdXM6IDEwCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgLmFkZFRvKG1hcF9mMDFiNjc5MDBiN2M0OTdhOGM3NmU1Y2QxYzg1OTQ0Nik7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF9iYjkyZDdhNGY2NTA0ZTBiYTM0ZDE1ZTYzNmNkMGYyMiA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF9iODBjMjY2YTFhZjM0NjlmYjgxMmMyZWQ3MzhmNzU3MCA9ICQoJzxkaXYgaWQ9Imh0bWxfYjgwYzI2NmExYWYzNDY5ZmI4MTJjMmVkNzM4Zjc1NzAiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPlNhbGFkU3RvcCE8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwX2JiOTJkN2E0ZjY1MDRlMGJhMzRkMTVlNjM2Y2QwZjIyLnNldENvbnRlbnQoaHRtbF9iODBjMjY2YTFhZjM0NjlmYjgxMmMyZWQ3MzhmNzU3MCk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgcmVndWxhcl9wb2x5Z29uX21hcmtlcl9kMzdmYjFmMjYyYjc0YWYyOTI0NWViODg2OTY1M2Q3ZS5iaW5kUG9wdXAocG9wdXBfYmI5MmQ3YTRmNjUwNGUwYmEzNGQxNWU2MzZjZDBmMjIpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHJlZ3VsYXJfcG9seWdvbl9tYXJrZXJfZjRkNzU0MWFmMDc0NDIyMGI5ODU3NDkxOTBkNzliNDcgPSBuZXcgTC5SZWd1bGFyUG9seWdvbk1hcmtlcigKICAgICAgICAgICAgICAgIG5ldyBMLkxhdExuZygxLjI4MDYxNCwxMDMuODQ2OTY1KSwKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICBpY29uIDogbmV3IEwuSWNvbi5EZWZhdWx0KCksCiAgICAgICAgICAgICAgICAgICAgY29sb3I6ICdibHVlJywKICAgICAgICAgICAgICAgICAgICBvcGFjaXR5OiAxLAogICAgICAgICAgICAgICAgICAgIHdlaWdodDogMiwKICAgICAgICAgICAgICAgICAgICBmaWxsQ29sb3I6ICcjMGYwZjBmJywKICAgICAgICAgICAgICAgICAgICBmaWxsT3BhY2l0eTogMC43LAogICAgICAgICAgICAgICAgICAgIG51bWJlck9mU2lkZXM6IDQsCiAgICAgICAgICAgICAgICAgICAgcm90YXRpb246IDAsCiAgICAgICAgICAgICAgICAgICAgcmFkaXVzOiAxMAogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgIC5hZGRUbyhtYXBfZjAxYjY3OTAwYjdjNDk3YThjNzZlNWNkMWM4NTk0NDYpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfYmE4ODdmZTBhZGVjNDljYjkwZjg3NzdiY2I4Y2VjN2UgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfNWI5MzRkYWE5MThhNDRjNGIzMjhiNTg4ZTk2ZWEyNTIgPSAkKCc8ZGl2IGlkPSJodG1sXzViOTM0ZGFhOTE4YTQ0YzRiMzI4YjU4OGU5NmVhMjUyIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5LaW1tZTwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfYmE4ODdmZTBhZGVjNDljYjkwZjg3NzdiY2I4Y2VjN2Uuc2V0Q29udGVudChodG1sXzViOTM0ZGFhOTE4YTQ0YzRiMzI4YjU4OGU5NmVhMjUyKTsKICAgICAgICAgICAgCgogICAgICAgICAgICByZWd1bGFyX3BvbHlnb25fbWFya2VyX2Y0ZDc1NDFhZjA3NDQyMjBiOTg1NzQ5MTkwZDc5YjQ3LmJpbmRQb3B1cChwb3B1cF9iYTg4N2ZlMGFkZWM0OWNiOTBmODc3N2JjYjhjZWM3ZSk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcmVndWxhcl9wb2x5Z29uX21hcmtlcl9lYzdmNWU4Y2E0YjQ0YjkyYTM4MDk1ZmQ2MTQzMjk3MSA9IG5ldyBMLlJlZ3VsYXJQb2x5Z29uTWFya2VyKAogICAgICAgICAgICAgICAgbmV3IEwuTGF0TG5nKDEuMjc5MzkxMiwxMDMuODQ2NjEpLAogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgIGljb24gOiBuZXcgTC5JY29uLkRlZmF1bHQoKSwKICAgICAgICAgICAgICAgICAgICBjb2xvcjogJ2JsdWUnLAogICAgICAgICAgICAgICAgICAgIG9wYWNpdHk6IDEsCiAgICAgICAgICAgICAgICAgICAgd2VpZ2h0OiAyLAogICAgICAgICAgICAgICAgICAgIGZpbGxDb2xvcjogJyMwZjBmMGYnLAogICAgICAgICAgICAgICAgICAgIGZpbGxPcGFjaXR5OiAwLjcsCiAgICAgICAgICAgICAgICAgICAgbnVtYmVyT2ZTaWRlczogNCwKICAgICAgICAgICAgICAgICAgICByb3RhdGlvbjogMCwKICAgICAgICAgICAgICAgICAgICByYWRpdXM6IDEwCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgLmFkZFRvKG1hcF9mMDFiNjc5MDBiN2M0OTdhOGM3NmU1Y2QxYzg1OTQ0Nik7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF8xZGRjOWI2NWU1MzI0ZjgwYjUwM2JiMDcwYjhiYTg3YSA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF8zZjcxNzdhYjI2MWE0NmQ0ODE0ZDQ5MThjMTNlYzI1MSA9ICQoJzxkaXYgaWQ9Imh0bWxfM2Y3MTc3YWIyNjFhNDZkNDgxNGQ0OTE4YzEzZWMyNTEiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPmEgbm9vZGxlIHN0b3J5PC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF8xZGRjOWI2NWU1MzI0ZjgwYjUwM2JiMDcwYjhiYTg3YS5zZXRDb250ZW50KGh0bWxfM2Y3MTc3YWIyNjFhNDZkNDgxNGQ0OTE4YzEzZWMyNTEpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIHJlZ3VsYXJfcG9seWdvbl9tYXJrZXJfZWM3ZjVlOGNhNGI0NGI5MmEzODA5NWZkNjE0MzI5NzEuYmluZFBvcHVwKHBvcHVwXzFkZGM5YjY1ZTUzMjRmODBiNTAzYmIwNzBiOGJhODdhKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciByZWd1bGFyX3BvbHlnb25fbWFya2VyX2I5MTc5YzBlMDAzNDQwN2E5NzExYTRmMTMwNGZlYjI3ID0gbmV3IEwuUmVndWxhclBvbHlnb25NYXJrZXIoCiAgICAgICAgICAgICAgICBuZXcgTC5MYXRMbmcoMS4yNzgwNTcyMzE1MTMwMjUyLDEwMy44NTEwNzY4NTM5Nzg5KSwKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICBpY29uIDogbmV3IEwuSWNvbi5EZWZhdWx0KCksCiAgICAgICAgICAgICAgICAgICAgY29sb3I6ICdibHVlJywKICAgICAgICAgICAgICAgICAgICBvcGFjaXR5OiAxLAogICAgICAgICAgICAgICAgICAgIHdlaWdodDogMiwKICAgICAgICAgICAgICAgICAgICBmaWxsQ29sb3I6ICcjMGYwZjBmJywKICAgICAgICAgICAgICAgICAgICBmaWxsT3BhY2l0eTogMC43LAogICAgICAgICAgICAgICAgICAgIG51bWJlck9mU2lkZXM6IDQsCiAgICAgICAgICAgICAgICAgICAgcm90YXRpb246IDAsCiAgICAgICAgICAgICAgICAgICAgcmFkaXVzOiAxMAogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgIC5hZGRUbyhtYXBfZjAxYjY3OTAwYjdjNDk3YThjNzZlNWNkMWM4NTk0NDYpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfYWUwODM0ZDFlOTA5NGM5MWJmNGY4ZjM3MTBlNTA0YjIgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfMzk0NTAwNWE2YTIxNGEzY2ExNGYwMDM2NjljZWFkNGYgPSAkKCc8ZGl2IGlkPSJodG1sXzM5NDUwMDVhNmEyMTRhM2NhMTRmMDAzNjY5Y2VhZDRmIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5XZXN0aW4gSW5maW5pdHkgUG9vbDwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfYWUwODM0ZDFlOTA5NGM5MWJmNGY4ZjM3MTBlNTA0YjIuc2V0Q29udGVudChodG1sXzM5NDUwMDVhNmEyMTRhM2NhMTRmMDAzNjY5Y2VhZDRmKTsKICAgICAgICAgICAgCgogICAgICAgICAgICByZWd1bGFyX3BvbHlnb25fbWFya2VyX2I5MTc5YzBlMDAzNDQwN2E5NzExYTRmMTMwNGZlYjI3LmJpbmRQb3B1cChwb3B1cF9hZTA4MzRkMWU5MDk0YzkxYmY0ZjhmMzcxMGU1MDRiMik7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcmVndWxhcl9wb2x5Z29uX21hcmtlcl9mZjBmMDBjZWQ3Mjk0ZGFmYjAwOGUwYWNiZDk4OWJkNSA9IG5ldyBMLlJlZ3VsYXJQb2x5Z29uTWFya2VyKAogICAgICAgICAgICAgICAgbmV3IEwuTGF0TG5nKDEuMjgxODc4LDEwMy44NDgxNjkpLAogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgIGljb24gOiBuZXcgTC5JY29uLkRlZmF1bHQoKSwKICAgICAgICAgICAgICAgICAgICBjb2xvcjogJ2JsdWUnLAogICAgICAgICAgICAgICAgICAgIG9wYWNpdHk6IDEsCiAgICAgICAgICAgICAgICAgICAgd2VpZ2h0OiAyLAogICAgICAgICAgICAgICAgICAgIGZpbGxDb2xvcjogJyMwZjBmMGYnLAogICAgICAgICAgICAgICAgICAgIGZpbGxPcGFjaXR5OiAwLjcsCiAgICAgICAgICAgICAgICAgICAgbnVtYmVyT2ZTaWRlczogNCwKICAgICAgICAgICAgICAgICAgICByb3RhdGlvbjogMCwKICAgICAgICAgICAgICAgICAgICByYWRpdXM6IDEwCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgLmFkZFRvKG1hcF9mMDFiNjc5MDBiN2M0OTdhOGM3NmU1Y2QxYzg1OTQ0Nik7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF8zNDg3NGJjYWUwMjc0YmE1YWFkZDdiMmMzMWFmY2YxMiA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF84MTMyYmEzNzdhZjM0MjBhYTJmNDZjZjIyYTZmOWNjYiA9ICQoJzxkaXYgaWQ9Imh0bWxfODEzMmJhMzc3YWYzNDIwYWEyZjQ2Y2YyMmE2ZjljY2IiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPlNoYWtlIEZhcm08L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzM0ODc0YmNhZTAyNzRiYTVhYWRkN2IyYzMxYWZjZjEyLnNldENvbnRlbnQoaHRtbF84MTMyYmEzNzdhZjM0MjBhYTJmNDZjZjIyYTZmOWNjYik7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgcmVndWxhcl9wb2x5Z29uX21hcmtlcl9mZjBmMDBjZWQ3Mjk0ZGFmYjAwOGUwYWNiZDk4OWJkNS5iaW5kUG9wdXAocG9wdXBfMzQ4NzRiY2FlMDI3NGJhNWFhZGQ3YjJjMzFhZmNmMTIpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHJlZ3VsYXJfcG9seWdvbl9tYXJrZXJfZDc3YWI5MzhjNjBhNGY2MmEzYWZmNjdlY2IwYmRiY2MgPSBuZXcgTC5SZWd1bGFyUG9seWdvbk1hcmtlcigKICAgICAgICAgICAgICAgIG5ldyBMLkxhdExuZygxLjI3NzgxMDUwMDE4MjEyNSwxMDMuODUwOTY1NTY1NjU2MjQpLAogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgIGljb24gOiBuZXcgTC5JY29uLkRlZmF1bHQoKSwKICAgICAgICAgICAgICAgICAgICBjb2xvcjogJ2JsdWUnLAogICAgICAgICAgICAgICAgICAgIG9wYWNpdHk6IDEsCiAgICAgICAgICAgICAgICAgICAgd2VpZ2h0OiAyLAogICAgICAgICAgICAgICAgICAgIGZpbGxDb2xvcjogJyMwZjBmMGYnLAogICAgICAgICAgICAgICAgICAgIGZpbGxPcGFjaXR5OiAwLjcsCiAgICAgICAgICAgICAgICAgICAgbnVtYmVyT2ZTaWRlczogNCwKICAgICAgICAgICAgICAgICAgICByb3RhdGlvbjogMCwKICAgICAgICAgICAgICAgICAgICByYWRpdXM6IDEwCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgLmFkZFRvKG1hcF9mMDFiNjc5MDBiN2M0OTdhOGM3NmU1Y2QxYzg1OTQ0Nik7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF82MTY0NTgwYTE4OTM0ZGUwOTU3MGY4Mjk2NTcyOTEzYiA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF8xMmQ5NThmMTg0Y2Q0YjI5YTllNjk5NDljNmE2YjAyNyA9ICQoJzxkaXYgaWQ9Imh0bWxfMTJkOTU4ZjE4NGNkNGIyOWE5ZTY5OTQ5YzZhNmIwMjciIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkxvYmJ5IExvdW5nZSBXZXN0aW48L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzYxNjQ1ODBhMTg5MzRkZTA5NTcwZjgyOTY1NzI5MTNiLnNldENvbnRlbnQoaHRtbF8xMmQ5NThmMTg0Y2Q0YjI5YTllNjk5NDljNmE2YjAyNyk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgcmVndWxhcl9wb2x5Z29uX21hcmtlcl9kNzdhYjkzOGM2MGE0ZjYyYTNhZmY2N2VjYjBiZGJjYy5iaW5kUG9wdXAocG9wdXBfNjE2NDU4MGExODkzNGRlMDk1NzBmODI5NjU3MjkxM2IpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHJlZ3VsYXJfcG9seWdvbl9tYXJrZXJfOWIyYzRjM2U5ZTcwNDYzMGFkODE4MDc4MTVmMGQzM2YgPSBuZXcgTC5SZWd1bGFyUG9seWdvbk1hcmtlcigKICAgICAgICAgICAgICAgIG5ldyBMLkxhdExuZygxLjI4MDUzNTU4NjczNDU5MDcsMTAzLjg0NjkwMjY0MDM4OTIyKSwKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICBpY29uIDogbmV3IEwuSWNvbi5EZWZhdWx0KCksCiAgICAgICAgICAgICAgICAgICAgY29sb3I6ICdibHVlJywKICAgICAgICAgICAgICAgICAgICBvcGFjaXR5OiAxLAogICAgICAgICAgICAgICAgICAgIHdlaWdodDogMiwKICAgICAgICAgICAgICAgICAgICBmaWxsQ29sb3I6ICcjMGYwZjBmJywKICAgICAgICAgICAgICAgICAgICBmaWxsT3BhY2l0eTogMC43LAogICAgICAgICAgICAgICAgICAgIG51bWJlck9mU2lkZXM6IDQsCiAgICAgICAgICAgICAgICAgICAgcm90YXRpb246IDAsCiAgICAgICAgICAgICAgICAgICAgcmFkaXVzOiAxMAogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgIC5hZGRUbyhtYXBfZjAxYjY3OTAwYjdjNDk3YThjNzZlNWNkMWM4NTk0NDYpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfYmFjNjhhZTA1N2NmNDFkZmEyZDk3ZTkzOTNiMTZmOWYgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfOGQxMTQ3YzFhZDNhNDk0ZGIyM2U3ODZlY2RmMWVmNDUgPSAkKCc8ZGl2IGlkPSJodG1sXzhkMTE0N2MxYWQzYTQ5NGRiMjNlNzg2ZWNkZjFlZjQ1IiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5IeWFuZyBZZW9uICjtlqXsl7ApPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF9iYWM2OGFlMDU3Y2Y0MWRmYTJkOTdlOTM5M2IxNmY5Zi5zZXRDb250ZW50KGh0bWxfOGQxMTQ3YzFhZDNhNDk0ZGIyM2U3ODZlY2RmMWVmNDUpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIHJlZ3VsYXJfcG9seWdvbl9tYXJrZXJfOWIyYzRjM2U5ZTcwNDYzMGFkODE4MDc4MTVmMGQzM2YuYmluZFBvcHVwKHBvcHVwX2JhYzY4YWUwNTdjZjQxZGZhMmQ5N2U5MzkzYjE2ZjlmKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciByZWd1bGFyX3BvbHlnb25fbWFya2VyXzVhOTkyYjgxNDk2YTRmMjg5ODU4YmUwYWZiN2NhNWVmID0gbmV3IEwuUmVndWxhclBvbHlnb25NYXJrZXIoCiAgICAgICAgICAgICAgICBuZXcgTC5MYXRMbmcoMS4yODA4MywxMDMuODQ1NzYzKSwKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICBpY29uIDogbmV3IEwuSWNvbi5EZWZhdWx0KCksCiAgICAgICAgICAgICAgICAgICAgY29sb3I6ICdibHVlJywKICAgICAgICAgICAgICAgICAgICBvcGFjaXR5OiAxLAogICAgICAgICAgICAgICAgICAgIHdlaWdodDogMiwKICAgICAgICAgICAgICAgICAgICBmaWxsQ29sb3I6ICcjMGYwZjBmJywKICAgICAgICAgICAgICAgICAgICBmaWxsT3BhY2l0eTogMC43LAogICAgICAgICAgICAgICAgICAgIG51bWJlck9mU2lkZXM6IDQsCiAgICAgICAgICAgICAgICAgICAgcm90YXRpb246IDAsCiAgICAgICAgICAgICAgICAgICAgcmFkaXVzOiAxMAogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgIC5hZGRUbyhtYXBfZjAxYjY3OTAwYjdjNDk3YThjNzZlNWNkMWM4NTk0NDYpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfNGRiMzdiZTMwMWFlNDBjMzllMjc0ZTNiNzY2MjA5ZDggPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfNjYyY2FlYjVkMGQ3NGNhZjg1OTJkMzMxOGVhMjQxNWYgPSAkKCc8ZGl2IGlkPSJodG1sXzY2MmNhZWI1ZDBkNzRjYWY4NTkyZDMzMThlYTI0MTVmIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5UaGUgT3RoZXIgUm9vZjwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfNGRiMzdiZTMwMWFlNDBjMzllMjc0ZTNiNzY2MjA5ZDguc2V0Q29udGVudChodG1sXzY2MmNhZWI1ZDBkNzRjYWY4NTkyZDMzMThlYTI0MTVmKTsKICAgICAgICAgICAgCgogICAgICAgICAgICByZWd1bGFyX3BvbHlnb25fbWFya2VyXzVhOTkyYjgxNDk2YTRmMjg5ODU4YmUwYWZiN2NhNWVmLmJpbmRQb3B1cChwb3B1cF80ZGIzN2JlMzAxYWU0MGMzOWUyNzRlM2I3NjYyMDlkOCk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcmVndWxhcl9wb2x5Z29uX21hcmtlcl9mNDkxOWFiYTZlYzQ0NTFhYTVjYzc0YmIzYjU3YjVjYiA9IG5ldyBMLlJlZ3VsYXJQb2x5Z29uTWFya2VyKAogICAgICAgICAgICAgICAgbmV3IEwuTGF0TG5nKDEuMjc2MDY3MSwxMDMuODQ2MTkpLAogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgIGljb24gOiBuZXcgTC5JY29uLkRlZmF1bHQoKSwKICAgICAgICAgICAgICAgICAgICBjb2xvcjogJ2JsdWUnLAogICAgICAgICAgICAgICAgICAgIG9wYWNpdHk6IDEsCiAgICAgICAgICAgICAgICAgICAgd2VpZ2h0OiAyLAogICAgICAgICAgICAgICAgICAgIGZpbGxDb2xvcjogJyMwZjBmMGYnLAogICAgICAgICAgICAgICAgICAgIGZpbGxPcGFjaXR5OiAwLjcsCiAgICAgICAgICAgICAgICAgICAgbnVtYmVyT2ZTaWRlczogNCwKICAgICAgICAgICAgICAgICAgICByb3RhdGlvbjogMCwKICAgICAgICAgICAgICAgICAgICByYWRpdXM6IDEwCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgLmFkZFRvKG1hcF9mMDFiNjc5MDBiN2M0OTdhOGM3NmU1Y2QxYzg1OTQ0Nik7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF9hMmYxYzY5OWQ4ZmM0NWFlYmRjN2FiZDgwMWNlMDhjNSA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF8xZDE5ZjMwMGFkNjI0MzViYjg3NTdhNDA2ODc2OWNkMiA9ICQoJzxkaXYgaWQ9Imh0bWxfMWQxOWYzMDBhZDYyNDM1YmI4NzU3YTQwNjg3NjljZDIiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkFsY2hlbWlzdDwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfYTJmMWM2OTlkOGZjNDVhZWJkYzdhYmQ4MDFjZTA4YzUuc2V0Q29udGVudChodG1sXzFkMTlmMzAwYWQ2MjQzNWJiODc1N2E0MDY4NzY5Y2QyKTsKICAgICAgICAgICAgCgogICAgICAgICAgICByZWd1bGFyX3BvbHlnb25fbWFya2VyX2Y0OTE5YWJhNmVjNDQ1MWFhNWNjNzRiYjNiNTdiNWNiLmJpbmRQb3B1cChwb3B1cF9hMmYxYzY5OWQ4ZmM0NWFlYmRjN2FiZDgwMWNlMDhjNSk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcmVndWxhcl9wb2x5Z29uX21hcmtlcl80OTAyN2JmYzQ0NDc0ODkxOWZiZDQwOGNlZGVhY2IzNyA9IG5ldyBMLlJlZ3VsYXJQb2x5Z29uTWFya2VyKAogICAgICAgICAgICAgICAgbmV3IEwuTGF0TG5nKDEuMjgyMTc2NjM0NzU3MzgxOCwxMDMuODQ3NDQ1ODQ1NjAzOTMpLAogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgIGljb24gOiBuZXcgTC5JY29uLkRlZmF1bHQoKSwKICAgICAgICAgICAgICAgICAgICBjb2xvcjogJ2JsdWUnLAogICAgICAgICAgICAgICAgICAgIG9wYWNpdHk6IDEsCiAgICAgICAgICAgICAgICAgICAgd2VpZ2h0OiAyLAogICAgICAgICAgICAgICAgICAgIGZpbGxDb2xvcjogJyMwZjBmMGYnLAogICAgICAgICAgICAgICAgICAgIGZpbGxPcGFjaXR5OiAwLjcsCiAgICAgICAgICAgICAgICAgICAgbnVtYmVyT2ZTaWRlczogNCwKICAgICAgICAgICAgICAgICAgICByb3RhdGlvbjogMCwKICAgICAgICAgICAgICAgICAgICByYWRpdXM6IDEwCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgLmFkZFRvKG1hcF9mMDFiNjc5MDBiN2M0OTdhOGM3NmU1Y2QxYzg1OTQ0Nik7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF9lMDkyOWNhZjg0ZTc0OTc1OTViNDViYWU3MzU4NzFkMyA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF9jODE5OGNhOWRiOTk0NDVjYWNiZjNjNDQ0NzlmMTkyNyA9ICQoJzxkaXYgaWQ9Imh0bWxfYzgxOThjYTlkYjk5NDQ1Y2FjYmYzYzQ0NDc5ZjE5MjciIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPk1hZ2dpZSBKb2FuJiMzOTtzPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF9lMDkyOWNhZjg0ZTc0OTc1OTViNDViYWU3MzU4NzFkMy5zZXRDb250ZW50KGh0bWxfYzgxOThjYTlkYjk5NDQ1Y2FjYmYzYzQ0NDc5ZjE5MjcpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIHJlZ3VsYXJfcG9seWdvbl9tYXJrZXJfNDkwMjdiZmM0NDQ3NDg5MTlmYmQ0MDhjZWRlYWNiMzcuYmluZFBvcHVwKHBvcHVwX2UwOTI5Y2FmODRlNzQ5NzU5NWI0NWJhZTczNTg3MWQzKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciByZWd1bGFyX3BvbHlnb25fbWFya2VyXzNjZDE1MmUyNTYxMTRiNDk5ZmM4ZWRjNWM1YjIwNDZhID0gbmV3IEwuUmVndWxhclBvbHlnb25NYXJrZXIoCiAgICAgICAgICAgICAgICBuZXcgTC5MYXRMbmcoMS4yODEwMzM4NTE5NDU1Njc1LDEwMy44NDU3MDc1Mzc1NDcwNyksCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgaWNvbiA6IG5ldyBMLkljb24uRGVmYXVsdCgpLAogICAgICAgICAgICAgICAgICAgIGNvbG9yOiAnYmx1ZScsCiAgICAgICAgICAgICAgICAgICAgb3BhY2l0eTogMSwKICAgICAgICAgICAgICAgICAgICB3ZWlnaHQ6IDIsCiAgICAgICAgICAgICAgICAgICAgZmlsbENvbG9yOiAnIzBmMGYwZicsCiAgICAgICAgICAgICAgICAgICAgZmlsbE9wYWNpdHk6IDAuNywKICAgICAgICAgICAgICAgICAgICBudW1iZXJPZlNpZGVzOiA0LAogICAgICAgICAgICAgICAgICAgIHJvdGF0aW9uOiAwLAogICAgICAgICAgICAgICAgICAgIHJhZGl1czogMTAKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICAuYWRkVG8obWFwX2YwMWI2NzkwMGI3YzQ5N2E4Yzc2ZTVjZDFjODU5NDQ2KTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzEzMzBhZmUzYjUxMTQyZWE5N2E4YzY5NjRkYTg2NTc2ID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sX2JiOGMxZWIwNjc0MDQ0ZTI5ZWYzMGZmMTBjNGU4ZTc3ID0gJCgnPGRpdiBpZD0iaHRtbF9iYjhjMWViMDY3NDA0NGUyOWVmMzBmZjEwYzRlOGU3NyIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+TG9sbGE8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzEzMzBhZmUzYjUxMTQyZWE5N2E4YzY5NjRkYTg2NTc2LnNldENvbnRlbnQoaHRtbF9iYjhjMWViMDY3NDA0NGUyOWVmMzBmZjEwYzRlOGU3Nyk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgcmVndWxhcl9wb2x5Z29uX21hcmtlcl8zY2QxNTJlMjU2MTE0YjQ5OWZjOGVkYzVjNWIyMDQ2YS5iaW5kUG9wdXAocG9wdXBfMTMzMGFmZTNiNTExNDJlYTk3YThjNjk2NGRhODY1NzYpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHJlZ3VsYXJfcG9seWdvbl9tYXJrZXJfMjJhNGFlZDY5Njc2NDYzZjg5MmMxNmUyMGFiODZhMmQgPSBuZXcgTC5SZWd1bGFyUG9seWdvbk1hcmtlcigKICAgICAgICAgICAgICAgIG5ldyBMLkxhdExuZygxLjI4MTgxMjMyODI5Mzk0MDQsMTAzLjg0ODkzMzc2ODkxNTM3KSwKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICBpY29uIDogbmV3IEwuSWNvbi5EZWZhdWx0KCksCiAgICAgICAgICAgICAgICAgICAgY29sb3I6ICdibHVlJywKICAgICAgICAgICAgICAgICAgICBvcGFjaXR5OiAxLAogICAgICAgICAgICAgICAgICAgIHdlaWdodDogMiwKICAgICAgICAgICAgICAgICAgICBmaWxsQ29sb3I6ICcjMGYwZjBmJywKICAgICAgICAgICAgICAgICAgICBmaWxsT3BhY2l0eTogMC43LAogICAgICAgICAgICAgICAgICAgIG51bWJlck9mU2lkZXM6IDQsCiAgICAgICAgICAgICAgICAgICAgcm90YXRpb246IDAsCiAgICAgICAgICAgICAgICAgICAgcmFkaXVzOiAxMAogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgIC5hZGRUbyhtYXBfZjAxYjY3OTAwYjdjNDk3YThjNzZlNWNkMWM4NTk0NDYpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfMDgwYzZjYTk2NDI5NGZiMDgyY2EzOWE2OTg0MzlhYTUgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfOWIzODU1ZDg4ZDY3NGIyOGI2YzIxNjIyMDljYmQ4YWMgPSAkKCc8ZGl2IGlkPSJodG1sXzliMzg1NWQ4OGQ2NzRiMjhiNmMyMTYyMjA5Y2JkOGFjIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5NYXJrZXQgU3RyZWV0IEludGVyaW0gSGF3a2VyIENlbnRyZTwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfMDgwYzZjYTk2NDI5NGZiMDgyY2EzOWE2OTg0MzlhYTUuc2V0Q29udGVudChodG1sXzliMzg1NWQ4OGQ2NzRiMjhiNmMyMTYyMjA5Y2JkOGFjKTsKICAgICAgICAgICAgCgogICAgICAgICAgICByZWd1bGFyX3BvbHlnb25fbWFya2VyXzIyYTRhZWQ2OTY3NjQ2M2Y4OTJjMTZlMjBhYjg2YTJkLmJpbmRQb3B1cChwb3B1cF8wODBjNmNhOTY0Mjk0ZmIwODJjYTM5YTY5ODQzOWFhNSk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcmVndWxhcl9wb2x5Z29uX21hcmtlcl8wY2FlNzcwOGUzMmU0M2NmOTFjMjVkNzUwNWFhOWUxMyA9IG5ldyBMLlJlZ3VsYXJQb2x5Z29uTWFya2VyKAogICAgICAgICAgICAgICAgbmV3IEwuTGF0TG5nKDEuMjc3ODAwODM5ODYyODQyNCwxMDMuODQ1MjAxNTkxNDAwMSksCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgaWNvbiA6IG5ldyBMLkljb24uRGVmYXVsdCgpLAogICAgICAgICAgICAgICAgICAgIGNvbG9yOiAnYmx1ZScsCiAgICAgICAgICAgICAgICAgICAgb3BhY2l0eTogMSwKICAgICAgICAgICAgICAgICAgICB3ZWlnaHQ6IDIsCiAgICAgICAgICAgICAgICAgICAgZmlsbENvbG9yOiAnIzBmMGYwZicsCiAgICAgICAgICAgICAgICAgICAgZmlsbE9wYWNpdHk6IDAuNywKICAgICAgICAgICAgICAgICAgICBudW1iZXJPZlNpZGVzOiA0LAogICAgICAgICAgICAgICAgICAgIHJvdGF0aW9uOiAwLAogICAgICAgICAgICAgICAgICAgIHJhZGl1czogMTAKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICAuYWRkVG8obWFwX2YwMWI2NzkwMGI3YzQ5N2E4Yzc2ZTVjZDFjODU5NDQ2KTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzMzNDYxN2RjZTRhYTQ0ZjRhMmEwN2Y2YzY5Nzg5MmM3ID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzc2NDYzZWRiZjNkNDQ3YmM5Y2Q1NzIyMzIwMzUxOGQ5ID0gJCgnPGRpdiBpZD0iaHRtbF83NjQ2M2VkYmYzZDQ0N2JjOWNkNTcyMjMyMDM1MThkOSIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+RmF0IFByaW5jZTwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfMzM0NjE3ZGNlNGFhNDRmNGEyYTA3ZjZjNjk3ODkyYzcuc2V0Q29udGVudChodG1sXzc2NDYzZWRiZjNkNDQ3YmM5Y2Q1NzIyMzIwMzUxOGQ5KTsKICAgICAgICAgICAgCgogICAgICAgICAgICByZWd1bGFyX3BvbHlnb25fbWFya2VyXzBjYWU3NzA4ZTMyZTQzY2Y5MWMyNWQ3NTA1YWE5ZTEzLmJpbmRQb3B1cChwb3B1cF8zMzQ2MTdkY2U0YWE0NGY0YTJhMDdmNmM2OTc4OTJjNyk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcmVndWxhcl9wb2x5Z29uX21hcmtlcl8xMzY1MmRhN2JhNGQ0ZWY0OTRhMmJiZjJkMjZiNTZhYSA9IG5ldyBMLlJlZ3VsYXJQb2x5Z29uTWFya2VyKAogICAgICAgICAgICAgICAgbmV3IEwuTGF0TG5nKDEuMjgxNTc2Mzk5NzA3NjgxLDEwMy44NDc3NTMxOTE4OTY0NCksCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgaWNvbiA6IG5ldyBMLkljb24uRGVmYXVsdCgpLAogICAgICAgICAgICAgICAgICAgIGNvbG9yOiAnYmx1ZScsCiAgICAgICAgICAgICAgICAgICAgb3BhY2l0eTogMSwKICAgICAgICAgICAgICAgICAgICB3ZWlnaHQ6IDIsCiAgICAgICAgICAgICAgICAgICAgZmlsbENvbG9yOiAnIzBmMGYwZicsCiAgICAgICAgICAgICAgICAgICAgZmlsbE9wYWNpdHk6IDAuNywKICAgICAgICAgICAgICAgICAgICBudW1iZXJPZlNpZGVzOiA0LAogICAgICAgICAgICAgICAgICAgIHJvdGF0aW9uOiAwLAogICAgICAgICAgICAgICAgICAgIHJhZGl1czogMTAKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICAuYWRkVG8obWFwX2YwMWI2NzkwMGI3YzQ5N2E4Yzc2ZTVjZDFjODU5NDQ2KTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzc5NDdiMDBiNTBlZDQ2NjJiOWVkMWFjYjM0ZWE3YzI5ID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sX2Y2MjVhNjY4ZGM1ZjRjZDhhY2VmODgwZTZmNmYzMmY1ID0gJCgnPGRpdiBpZD0iaHRtbF9mNjI1YTY2OGRjNWY0Y2Q4YWNlZjg4MGU2ZjZmMzJmNSIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+VGFuZG9vcmkgQ29ybmVyPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF83OTQ3YjAwYjUwZWQ0NjYyYjllZDFhY2IzNGVhN2MyOS5zZXRDb250ZW50KGh0bWxfZjYyNWE2NjhkYzVmNGNkOGFjZWY4ODBlNmY2ZjMyZjUpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIHJlZ3VsYXJfcG9seWdvbl9tYXJrZXJfMTM2NTJkYTdiYTRkNGVmNDk0YTJiYmYyZDI2YjU2YWEuYmluZFBvcHVwKHBvcHVwXzc5NDdiMDBiNTBlZDQ2NjJiOWVkMWFjYjM0ZWE3YzI5KTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciByZWd1bGFyX3BvbHlnb25fbWFya2VyX2JmMzNmNTExN2RhNzRkMmM5NzVjMzVlZDJmM2MxZTc4ID0gbmV3IEwuUmVndWxhclBvbHlnb25NYXJrZXIoCiAgICAgICAgICAgICAgICBuZXcgTC5MYXRMbmcoMS4yODI3NDI0Nzc5NzEyODEsMTAzLjg0NzA4ODk3NDQzNzk3KSwKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICBpY29uIDogbmV3IEwuSWNvbi5EZWZhdWx0KCksCiAgICAgICAgICAgICAgICAgICAgY29sb3I6ICdibHVlJywKICAgICAgICAgICAgICAgICAgICBvcGFjaXR5OiAxLAogICAgICAgICAgICAgICAgICAgIHdlaWdodDogMiwKICAgICAgICAgICAgICAgICAgICBmaWxsQ29sb3I6ICcjMGYwZjBmJywKICAgICAgICAgICAgICAgICAgICBmaWxsT3BhY2l0eTogMC43LAogICAgICAgICAgICAgICAgICAgIG51bWJlck9mU2lkZXM6IDQsCiAgICAgICAgICAgICAgICAgICAgcm90YXRpb246IDAsCiAgICAgICAgICAgICAgICAgICAgcmFkaXVzOiAxMAogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgIC5hZGRUbyhtYXBfZjAxYjY3OTAwYjdjNDk3YThjNzZlNWNkMWM4NTk0NDYpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfNTZlNzAwOTZkN2FjNGQ4YThiYzdjMmE1ZGQ5NDA5ZjggPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfNGNhOGI1YWFiYjU0NDI3Nzg0NjljYWZlZmFkMmZmYmQgPSAkKCc8ZGl2IGlkPSJodG1sXzRjYThiNWFhYmI1NDQyNzc4NDY5Y2FmZWZhZDJmZmJkIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5NZXJjaSBNYXJjZWwgQ2x1YiBTdHJlZXQ8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzU2ZTcwMDk2ZDdhYzRkOGE4YmM3YzJhNWRkOTQwOWY4LnNldENvbnRlbnQoaHRtbF80Y2E4YjVhYWJiNTQ0Mjc3ODQ2OWNhZmVmYWQyZmZiZCk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgcmVndWxhcl9wb2x5Z29uX21hcmtlcl9iZjMzZjUxMTdkYTc0ZDJjOTc1YzM1ZWQyZjNjMWU3OC5iaW5kUG9wdXAocG9wdXBfNTZlNzAwOTZkN2FjNGQ4YThiYzdjMmE1ZGQ5NDA5ZjgpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHJlZ3VsYXJfcG9seWdvbl9tYXJrZXJfYWY1OGJhNzQ0MTMzNDdjOWJhYjUxOGE3YzE2MzU1YjkgPSBuZXcgTC5SZWd1bGFyUG9seWdvbk1hcmtlcigKICAgICAgICAgICAgICAgIG5ldyBMLkxhdExuZygxLjI4MDI0NTkwODU4MDk2NjUsMTAzLjg0NDg1MDMzOTMxODExKSwKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICBpY29uIDogbmV3IEwuSWNvbi5EZWZhdWx0KCksCiAgICAgICAgICAgICAgICAgICAgY29sb3I6ICdibHVlJywKICAgICAgICAgICAgICAgICAgICBvcGFjaXR5OiAxLAogICAgICAgICAgICAgICAgICAgIHdlaWdodDogMiwKICAgICAgICAgICAgICAgICAgICBmaWxsQ29sb3I6ICcjMGYwZjBmJywKICAgICAgICAgICAgICAgICAgICBmaWxsT3BhY2l0eTogMC43LAogICAgICAgICAgICAgICAgICAgIG51bWJlck9mU2lkZXM6IDQsCiAgICAgICAgICAgICAgICAgICAgcm90YXRpb246IDAsCiAgICAgICAgICAgICAgICAgICAgcmFkaXVzOiAxMAogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgIC5hZGRUbyhtYXBfZjAxYjY3OTAwYjdjNDk3YThjNzZlNWNkMWM4NTk0NDYpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfOWJiODY4ODRmMjVlNDY1NDlmMzc5NTM4NThlODI0YzMgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfOTc2NGEyNzEzYjk0NGY5ZWI1YTRiZWRiODkxMmM3ZDEgPSAkKCc8ZGl2IGlkPSJodG1sXzk3NjRhMjcxM2I5NDRmOWViNWE0YmVkYjg5MTJjN2QxIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij4zcmQgQ3VsdHVyZSBCcmV3aW5nIENvLjwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfOWJiODY4ODRmMjVlNDY1NDlmMzc5NTM4NThlODI0YzMuc2V0Q29udGVudChodG1sXzk3NjRhMjcxM2I5NDRmOWViNWE0YmVkYjg5MTJjN2QxKTsKICAgICAgICAgICAgCgogICAgICAgICAgICByZWd1bGFyX3BvbHlnb25fbWFya2VyX2FmNThiYTc0NDEzMzQ3YzliYWI1MThhN2MxNjM1NWI5LmJpbmRQb3B1cChwb3B1cF85YmI4Njg4NGYyNWU0NjU0OWYzNzk1Mzg1OGU4MjRjMyk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcmVndWxhcl9wb2x5Z29uX21hcmtlcl9jOWYyZDBmMmU3ZmM0ZjcxOTc3YjE2MTU3Njk2YzAwOCA9IG5ldyBMLlJlZ3VsYXJQb2x5Z29uTWFya2VyKAogICAgICAgICAgICAgICAgbmV3IEwuTGF0TG5nKDEuMjgyMDQ5OTIxNjE2Njg2LDEwMy44NDc3Njk2MTQzMTA1MSksCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgaWNvbiA6IG5ldyBMLkljb24uRGVmYXVsdCgpLAogICAgICAgICAgICAgICAgICAgIGNvbG9yOiAnYmx1ZScsCiAgICAgICAgICAgICAgICAgICAgb3BhY2l0eTogMSwKICAgICAgICAgICAgICAgICAgICB3ZWlnaHQ6IDIsCiAgICAgICAgICAgICAgICAgICAgZmlsbENvbG9yOiAnIzBmMGYwZicsCiAgICAgICAgICAgICAgICAgICAgZmlsbE9wYWNpdHk6IDAuNywKICAgICAgICAgICAgICAgICAgICBudW1iZXJPZlNpZGVzOiA0LAogICAgICAgICAgICAgICAgICAgIHJvdGF0aW9uOiAwLAogICAgICAgICAgICAgICAgICAgIHJhZGl1czogMTAKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICAuYWRkVG8obWFwX2YwMWI2NzkwMGI3YzQ5N2E4Yzc2ZTVjZDFjODU5NDQ2KTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwX2FjMGI4MzgxYjIzYTRjOTg4ZjM2MWRhOTY3Y2U4ZDlhID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sX2JkMzE4MGY5MmE3NzQyYWZhZTM4MTczZjI3YzllMjI1ID0gJCgnPGRpdiBpZD0iaHRtbF9iZDMxODBmOTJhNzc0MmFmYWUzODE3M2YyN2M5ZTIyNSIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+RW1wbG95ZWVzIE9ubHkgU2luZ2Fwb3JlPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF9hYzBiODM4MWIyM2E0Yzk4OGYzNjFkYTk2N2NlOGQ5YS5zZXRDb250ZW50KGh0bWxfYmQzMTgwZjkyYTc3NDJhZmFlMzgxNzNmMjdjOWUyMjUpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIHJlZ3VsYXJfcG9seWdvbl9tYXJrZXJfYzlmMmQwZjJlN2ZjNGY3MTk3N2IxNjE1NzY5NmMwMDguYmluZFBvcHVwKHBvcHVwX2FjMGI4MzgxYjIzYTRjOTg4ZjM2MWRhOTY3Y2U4ZDlhKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciByZWd1bGFyX3BvbHlnb25fbWFya2VyXzI0MDA5ODllNGI3ZDQ1ZDk4NjU5Zjg0MDc4YmEwMTVhID0gbmV3IEwuUmVndWxhclBvbHlnb25NYXJrZXIoCiAgICAgICAgICAgICAgICBuZXcgTC5MYXRMbmcoMS4yNzYzNjMxODUwODE5MTUzLDEwMy44NDgyNTA3NDk2Njc2NiksCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgaWNvbiA6IG5ldyBMLkljb24uRGVmYXVsdCgpLAogICAgICAgICAgICAgICAgICAgIGNvbG9yOiAnYmx1ZScsCiAgICAgICAgICAgICAgICAgICAgb3BhY2l0eTogMSwKICAgICAgICAgICAgICAgICAgICB3ZWlnaHQ6IDIsCiAgICAgICAgICAgICAgICAgICAgZmlsbENvbG9yOiAnIzBmMGYwZicsCiAgICAgICAgICAgICAgICAgICAgZmlsbE9wYWNpdHk6IDAuNywKICAgICAgICAgICAgICAgICAgICBudW1iZXJPZlNpZGVzOiA0LAogICAgICAgICAgICAgICAgICAgIHJvdGF0aW9uOiAwLAogICAgICAgICAgICAgICAgICAgIHJhZGl1czogMTAKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICAuYWRkVG8obWFwX2YwMWI2NzkwMGI3YzQ5N2E4Yzc2ZTVjZDFjODU5NDQ2KTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwX2Y2M2YxYjA5MTgyYTRiMWE4MDI0ZTI1MDY4MjdkYTg5ID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sX2IyNjRmYjM2ODQwZjQ2Y2RiMzgwYzhlYTE5ZDRmNmMwID0gJCgnPGRpdiBpZD0iaHRtbF9iMjY0ZmIzNjg0MGY0NmNkYjM4MGM4ZWExOWQ0ZjZjMCIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+VmVudWUgQnkgU2ViYXN0aWFuPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF9mNjNmMWIwOTE4MmE0YjFhODAyNGUyNTA2ODI3ZGE4OS5zZXRDb250ZW50KGh0bWxfYjI2NGZiMzY4NDBmNDZjZGIzODBjOGVhMTlkNGY2YzApOwogICAgICAgICAgICAKCiAgICAgICAgICAgIHJlZ3VsYXJfcG9seWdvbl9tYXJrZXJfMjQwMDk4OWU0YjdkNDVkOTg2NTlmODQwNzhiYTAxNWEuYmluZFBvcHVwKHBvcHVwX2Y2M2YxYjA5MTgyYTRiMWE4MDI0ZTI1MDY4MjdkYTg5KTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciByZWd1bGFyX3BvbHlnb25fbWFya2VyX2VmZWVjZWRlOWZlNjRiMzc4NGM5MzdlNDRmNjY5MDk1ID0gbmV3IEwuUmVndWxhclBvbHlnb25NYXJrZXIoCiAgICAgICAgICAgICAgICBuZXcgTC5MYXRMbmcoMS4yODAxNTAwNTgxNTMzNDQ1LDEwMy44NDU4NTM4OTU0MTEyNSksCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgaWNvbiA6IG5ldyBMLkljb24uRGVmYXVsdCgpLAogICAgICAgICAgICAgICAgICAgIGNvbG9yOiAnYmx1ZScsCiAgICAgICAgICAgICAgICAgICAgb3BhY2l0eTogMSwKICAgICAgICAgICAgICAgICAgICB3ZWlnaHQ6IDIsCiAgICAgICAgICAgICAgICAgICAgZmlsbENvbG9yOiAnIzBmMGYwZicsCiAgICAgICAgICAgICAgICAgICAgZmlsbE9wYWNpdHk6IDAuNywKICAgICAgICAgICAgICAgICAgICBudW1iZXJPZlNpZGVzOiA0LAogICAgICAgICAgICAgICAgICAgIHJvdGF0aW9uOiAwLAogICAgICAgICAgICAgICAgICAgIHJhZGl1czogMTAKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICAuYWRkVG8obWFwX2YwMWI2NzkwMGI3YzQ5N2E4Yzc2ZTVjZDFjODU5NDQ2KTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzZlY2IxZmNmNzQ1NTRiZTU5N2E1Zjg3NGFiZTJmZjVhID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzU3ZmQ4NTQwMWIxYzQ0MGVhYTVjOWE5NTA4MTUwYmI4ID0gJCgnPGRpdiBpZD0iaHRtbF81N2ZkODU0MDFiMWM0NDBlYWE1YzlhOTUwODE1MGJiOCIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+VGVsb2sgQXllciBQYXJrPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF82ZWNiMWZjZjc0NTU0YmU1OTdhNWY4NzRhYmUyZmY1YS5zZXRDb250ZW50KGh0bWxfNTdmZDg1NDAxYjFjNDQwZWFhNWM5YTk1MDgxNTBiYjgpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIHJlZ3VsYXJfcG9seWdvbl9tYXJrZXJfZWZlZWNlZGU5ZmU2NGIzNzg0YzkzN2U0NGY2NjkwOTUuYmluZFBvcHVwKHBvcHVwXzZlY2IxZmNmNzQ1NTRiZTU5N2E1Zjg3NGFiZTJmZjVhKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciByZWd1bGFyX3BvbHlnb25fbWFya2VyX2Y2ODIzMjg5ZmEwYTRlZGJhNmNkMmI1YjczYzgzNWFiID0gbmV3IEwuUmVndWxhclBvbHlnb25NYXJrZXIoCiAgICAgICAgICAgICAgICBuZXcgTC5MYXRMbmcoMS4yNzY0NTE4MTQyNDA2MTksMTAzLjg0ODQ2MjY3NzcwODkpLAogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgIGljb24gOiBuZXcgTC5JY29uLkRlZmF1bHQoKSwKICAgICAgICAgICAgICAgICAgICBjb2xvcjogJ2JsdWUnLAogICAgICAgICAgICAgICAgICAgIG9wYWNpdHk6IDEsCiAgICAgICAgICAgICAgICAgICAgd2VpZ2h0OiAyLAogICAgICAgICAgICAgICAgICAgIGZpbGxDb2xvcjogJyMwZjBmMGYnLAogICAgICAgICAgICAgICAgICAgIGZpbGxPcGFjaXR5OiAwLjcsCiAgICAgICAgICAgICAgICAgICAgbnVtYmVyT2ZTaWRlczogNCwKICAgICAgICAgICAgICAgICAgICByb3RhdGlvbjogMCwKICAgICAgICAgICAgICAgICAgICByYWRpdXM6IDEwCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgLmFkZFRvKG1hcF9mMDFiNjc5MDBiN2M0OTdhOGM3NmU1Y2QxYzg1OTQ0Nik7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF9kMTI1YjdmMGQyMjM0N2JhOWRlMmMyOWQ3MjI5OGRkNSA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF9jOGU3MWU4ZGEwYmQ0N2I3YjM1ODExNTNlMDM1NzYwZCA9ICQoJzxkaXYgaWQ9Imh0bWxfYzhlNzFlOGRhMGJkNDdiN2IzNTgxMTUzZTAzNTc2MGQiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkRvd250b3duIEdhbGxlcnk8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwX2QxMjViN2YwZDIyMzQ3YmE5ZGUyYzI5ZDcyMjk4ZGQ1LnNldENvbnRlbnQoaHRtbF9jOGU3MWU4ZGEwYmQ0N2I3YjM1ODExNTNlMDM1NzYwZCk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgcmVndWxhcl9wb2x5Z29uX21hcmtlcl9mNjgyMzI4OWZhMGE0ZWRiYTZjZDJiNWI3M2M4MzVhYi5iaW5kUG9wdXAocG9wdXBfZDEyNWI3ZjBkMjIzNDdiYTlkZTJjMjlkNzIyOThkZDUpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHJlZ3VsYXJfcG9seWdvbl9tYXJrZXJfZGI4MzVkZTk4ZjI0NGUxYThjYjM5Nzk5YzQzNjg1NGUgPSBuZXcgTC5SZWd1bGFyUG9seWdvbk1hcmtlcigKICAgICAgICAgICAgICAgIG5ldyBMLkxhdExuZygxLjI4MDg2MDM4NTI3NDk5MjIsMTAzLjg0NTc4Nzk4MTM2MDY2KSwKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICBpY29uIDogbmV3IEwuSWNvbi5EZWZhdWx0KCksCiAgICAgICAgICAgICAgICAgICAgY29sb3I6ICdibHVlJywKICAgICAgICAgICAgICAgICAgICBvcGFjaXR5OiAxLAogICAgICAgICAgICAgICAgICAgIHdlaWdodDogMiwKICAgICAgICAgICAgICAgICAgICBmaWxsQ29sb3I6ICcjMGYwZjBmJywKICAgICAgICAgICAgICAgICAgICBmaWxsT3BhY2l0eTogMC43LAogICAgICAgICAgICAgICAgICAgIG51bWJlck9mU2lkZXM6IDQsCiAgICAgICAgICAgICAgICAgICAgcm90YXRpb246IDAsCiAgICAgICAgICAgICAgICAgICAgcmFkaXVzOiAxMAogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgIC5hZGRUbyhtYXBfZjAxYjY3OTAwYjdjNDk3YThjNzZlNWNkMWM4NTk0NDYpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfYTViOTA5MDk5OWQ0NGEyNWJlNDk1MTdkNThlNDc3OWIgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfZWYwNWUxNjMxYjRmNGZkYTlhZmUyODFiYjNiZjAzY2IgPSAkKCc8ZGl2IGlkPSJodG1sX2VmMDVlMTYzMWI0ZjRmZGE5YWZlMjgxYmIzYmYwM2NiIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5CbHVlIExhYmVsPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF9hNWI5MDkwOTk5ZDQ0YTI1YmU0OTUxN2Q1OGU0Nzc5Yi5zZXRDb250ZW50KGh0bWxfZWYwNWUxNjMxYjRmNGZkYTlhZmUyODFiYjNiZjAzY2IpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIHJlZ3VsYXJfcG9seWdvbl9tYXJrZXJfZGI4MzVkZTk4ZjI0NGUxYThjYjM5Nzk5YzQzNjg1NGUuYmluZFBvcHVwKHBvcHVwX2E1YjkwOTA5OTlkNDRhMjViZTQ5NTE3ZDU4ZTQ3NzliKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciByZWd1bGFyX3BvbHlnb25fbWFya2VyXzM3MzlmZjA0NjhlZTRjMzliYjlhOTEzMzQ1OTMxMDMyID0gbmV3IEwuUmVndWxhclBvbHlnb25NYXJrZXIoCiAgICAgICAgICAgICAgICBuZXcgTC5MYXRMbmcoMS4yNzcwNywxMDMuODQ1NzkpLAogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgIGljb24gOiBuZXcgTC5JY29uLkRlZmF1bHQoKSwKICAgICAgICAgICAgICAgICAgICBjb2xvcjogJ2JsdWUnLAogICAgICAgICAgICAgICAgICAgIG9wYWNpdHk6IDEsCiAgICAgICAgICAgICAgICAgICAgd2VpZ2h0OiAyLAogICAgICAgICAgICAgICAgICAgIGZpbGxDb2xvcjogJyMwZjBmMGYnLAogICAgICAgICAgICAgICAgICAgIGZpbGxPcGFjaXR5OiAwLjcsCiAgICAgICAgICAgICAgICAgICAgbnVtYmVyT2ZTaWRlczogNCwKICAgICAgICAgICAgICAgICAgICByb3RhdGlvbjogMCwKICAgICAgICAgICAgICAgICAgICByYWRpdXM6IDEwCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgLmFkZFRvKG1hcF9mMDFiNjc5MDBiN2M0OTdhOGM3NmU1Y2QxYzg1OTQ0Nik7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF9mNWY0NjI3ZmVlYmY0Y2Q0OTNjZDE4ODY3OTA2YWNkZCA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF9kMjllZGMzNTEzZDE0YjZmYmMyODczZTZjMzY0N2RkNSA9ICQoJzxkaXYgaWQ9Imh0bWxfZDI5ZWRjMzUxM2QxNGI2ZmJjMjg3M2U2YzM2NDdkZDUiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPklwcHVkbyAo5LiA6aKo5aCCKTwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfZjVmNDYyN2ZlZWJmNGNkNDkzY2QxODg2NzkwNmFjZGQuc2V0Q29udGVudChodG1sX2QyOWVkYzM1MTNkMTRiNmZiYzI4NzNlNmMzNjQ3ZGQ1KTsKICAgICAgICAgICAgCgogICAgICAgICAgICByZWd1bGFyX3BvbHlnb25fbWFya2VyXzM3MzlmZjA0NjhlZTRjMzliYjlhOTEzMzQ1OTMxMDMyLmJpbmRQb3B1cChwb3B1cF9mNWY0NjI3ZmVlYmY0Y2Q0OTNjZDE4ODY3OTA2YWNkZCk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcmVndWxhcl9wb2x5Z29uX21hcmtlcl82NTZlZTRlY2RkODg0OTU5OGFkMThkYTc2Mjc2NjZiZCA9IG5ldyBMLlJlZ3VsYXJQb2x5Z29uTWFya2VyKAogICAgICAgICAgICAgICAgbmV3IEwuTGF0TG5nKDEuMjgxNTcwNDQxMjU5ODY4NSwxMDMuODQ4MTQyMjcyNzA4NjYpLAogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgIGljb24gOiBuZXcgTC5JY29uLkRlZmF1bHQoKSwKICAgICAgICAgICAgICAgICAgICBjb2xvcjogJ2JsdWUnLAogICAgICAgICAgICAgICAgICAgIG9wYWNpdHk6IDEsCiAgICAgICAgICAgICAgICAgICAgd2VpZ2h0OiAyLAogICAgICAgICAgICAgICAgICAgIGZpbGxDb2xvcjogJyMwZjBmMGYnLAogICAgICAgICAgICAgICAgICAgIGZpbGxPcGFjaXR5OiAwLjcsCiAgICAgICAgICAgICAgICAgICAgbnVtYmVyT2ZTaWRlczogNCwKICAgICAgICAgICAgICAgICAgICByb3RhdGlvbjogMCwKICAgICAgICAgICAgICAgICAgICByYWRpdXM6IDEwCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgLmFkZFRvKG1hcF9mMDFiNjc5MDBiN2M0OTdhOGM3NmU1Y2QxYzg1OTQ0Nik7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF9jNjc5YzUxNjFhZjA0NTVmOWFjYzgzNzI0YTA4ODhhNCA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF8yMTYwMjU3YWU0OWQ0ZDliYjdhY2Q0YmUzNmIxNDIxNSA9ICQoJzxkaXYgaWQ9Imh0bWxfMjE2MDI1N2FlNDlkNGQ5YmI3YWNkNGJlMzZiMTQyMTUiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPlBsYWluIFZhbmlsbGE8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwX2M2NzljNTE2MWFmMDQ1NWY5YWNjODM3MjRhMDg4OGE0LnNldENvbnRlbnQoaHRtbF8yMTYwMjU3YWU0OWQ0ZDliYjdhY2Q0YmUzNmIxNDIxNSk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgcmVndWxhcl9wb2x5Z29uX21hcmtlcl82NTZlZTRlY2RkODg0OTU5OGFkMThkYTc2Mjc2NjZiZC5iaW5kUG9wdXAocG9wdXBfYzY3OWM1MTYxYWYwNDU1ZjlhY2M4MzcyNGEwODg4YTQpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHJlZ3VsYXJfcG9seWdvbl9tYXJrZXJfMjc0ODU5OTVjN2NlNDM3MGE4NTBmMTI3YTg2ODMzYzkgPSBuZXcgTC5SZWd1bGFyUG9seWdvbk1hcmtlcigKICAgICAgICAgICAgICAgIG5ldyBMLkxhdExuZygxLjI4MTUwNDk0MjM3MDk1ODEsMTAzLjg0NTQ5MDIyODMzMDE4KSwKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICBpY29uIDogbmV3IEwuSWNvbi5EZWZhdWx0KCksCiAgICAgICAgICAgICAgICAgICAgY29sb3I6ICdibHVlJywKICAgICAgICAgICAgICAgICAgICBvcGFjaXR5OiAxLAogICAgICAgICAgICAgICAgICAgIHdlaWdodDogMiwKICAgICAgICAgICAgICAgICAgICBmaWxsQ29sb3I6ICcjMGYwZjBmJywKICAgICAgICAgICAgICAgICAgICBmaWxsT3BhY2l0eTogMC43LAogICAgICAgICAgICAgICAgICAgIG51bWJlck9mU2lkZXM6IDQsCiAgICAgICAgICAgICAgICAgICAgcm90YXRpb246IDAsCiAgICAgICAgICAgICAgICAgICAgcmFkaXVzOiAxMAogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgIC5hZGRUbyhtYXBfZjAxYjY3OTAwYjdjNDk3YThjNzZlNWNkMWM4NTk0NDYpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfNzE4YzU4MmIxZmVmNDM3N2ExNWJlNjI4M2VlNmUxMDggPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfYTdiYzBkMTUwNmI0NGNiY2E1OTNjMDljOTk3NDZmNjAgPSAkKCc8ZGl2IGlkPSJodG1sX2E3YmMwZDE1MDZiNDRjYmNhNTkzYzA5Yzk5NzQ2ZjYwIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5Bbm4gU2lhbmcgSGlsbDwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfNzE4YzU4MmIxZmVmNDM3N2ExNWJlNjI4M2VlNmUxMDguc2V0Q29udGVudChodG1sX2E3YmMwZDE1MDZiNDRjYmNhNTkzYzA5Yzk5NzQ2ZjYwKTsKICAgICAgICAgICAgCgogICAgICAgICAgICByZWd1bGFyX3BvbHlnb25fbWFya2VyXzI3NDg1OTk1YzdjZTQzNzBhODUwZjEyN2E4NjgzM2M5LmJpbmRQb3B1cChwb3B1cF83MThjNTgyYjFmZWY0Mzc3YTE1YmU2MjgzZWU2ZTEwOCk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcmVndWxhcl9wb2x5Z29uX21hcmtlcl83OWMyNTBmNDkzMGE0YjdmOTY4NTg3NDc5NDZlMjZhOSA9IG5ldyBMLlJlZ3VsYXJQb2x5Z29uTWFya2VyKAogICAgICAgICAgICAgICAgbmV3IEwuTGF0TG5nKDEuMjgwMjc2LDEwMy44NDY3MDcpLAogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgIGljb24gOiBuZXcgTC5JY29uLkRlZmF1bHQoKSwKICAgICAgICAgICAgICAgICAgICBjb2xvcjogJ2JsdWUnLAogICAgICAgICAgICAgICAgICAgIG9wYWNpdHk6IDEsCiAgICAgICAgICAgICAgICAgICAgd2VpZ2h0OiAyLAogICAgICAgICAgICAgICAgICAgIGZpbGxDb2xvcjogJyMwZjBmMGYnLAogICAgICAgICAgICAgICAgICAgIGZpbGxPcGFjaXR5OiAwLjcsCiAgICAgICAgICAgICAgICAgICAgbnVtYmVyT2ZTaWRlczogNCwKICAgICAgICAgICAgICAgICAgICByb3RhdGlvbjogMCwKICAgICAgICAgICAgICAgICAgICByYWRpdXM6IDEwCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgLmFkZFRvKG1hcF9mMDFiNjc5MDBiN2M0OTdhOGM3NmU1Y2QxYzg1OTQ0Nik7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF84YjA4NTlkMmE0Zjk0MjE5YmM5NDVkNTUyYTk1MzAzYyA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF85ZjA2OTQ4NzhiMDk0YTU1YTVmNTE5ZDFhZjE3YjUyMiA9ICQoJzxkaXYgaWQ9Imh0bWxfOWYwNjk0ODc4YjA5NGE1NWE1ZjUxOWQxYWYxN2I1MjIiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkRhcHBlciBDb2ZmZWU8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzhiMDg1OWQyYTRmOTQyMTliYzk0NWQ1NTJhOTUzMDNjLnNldENvbnRlbnQoaHRtbF85ZjA2OTQ4NzhiMDk0YTU1YTVmNTE5ZDFhZjE3YjUyMik7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgcmVndWxhcl9wb2x5Z29uX21hcmtlcl83OWMyNTBmNDkzMGE0YjdmOTY4NTg3NDc5NDZlMjZhOS5iaW5kUG9wdXAocG9wdXBfOGIwODU5ZDJhNGY5NDIxOWJjOTQ1ZDU1MmE5NTMwM2MpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHJlZ3VsYXJfcG9seWdvbl9tYXJrZXJfOTgzZWQyYmM2OTM1NDE3Yjk5YmFiODk4ZTU1MzdmYzkgPSBuZXcgTC5SZWd1bGFyUG9seWdvbk1hcmtlcigKICAgICAgICAgICAgICAgIG5ldyBMLkxhdExuZygxLjI4MDA5LDEwMy44NDcyNTMpLAogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgIGljb24gOiBuZXcgTC5JY29uLkRlZmF1bHQoKSwKICAgICAgICAgICAgICAgICAgICBjb2xvcjogJ2JsdWUnLAogICAgICAgICAgICAgICAgICAgIG9wYWNpdHk6IDEsCiAgICAgICAgICAgICAgICAgICAgd2VpZ2h0OiAyLAogICAgICAgICAgICAgICAgICAgIGZpbGxDb2xvcjogJyMwZjBmMGYnLAogICAgICAgICAgICAgICAgICAgIGZpbGxPcGFjaXR5OiAwLjcsCiAgICAgICAgICAgICAgICAgICAgbnVtYmVyT2ZTaWRlczogNCwKICAgICAgICAgICAgICAgICAgICByb3RhdGlvbjogMCwKICAgICAgICAgICAgICAgICAgICByYWRpdXM6IDEwCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgLmFkZFRvKG1hcF9mMDFiNjc5MDBiN2M0OTdhOGM3NmU1Y2QxYzg1OTQ0Nik7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF8zYmEyYTdkYTMxYjc0ZGYxOTRhYjNjYTBkMTJmMGVhYSA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF9iZTJmNTYzYWI3NWM0YTk2YjgzNWIxMjFhNTVlYTdiNCA9ICQoJzxkaXYgaWQ9Imh0bWxfYmUyZjU2M2FiNzVjNGE5NmI4MzViMTIxYTU1ZWE3YjQiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPk15IEF3ZXNvbWUgQ2FmZSDnnJ/mo5LloIIgKE15IEF3ZXNvbWUgQ2Fmw6kpPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF8zYmEyYTdkYTMxYjc0ZGYxOTRhYjNjYTBkMTJmMGVhYS5zZXRDb250ZW50KGh0bWxfYmUyZjU2M2FiNzVjNGE5NmI4MzViMTIxYTU1ZWE3YjQpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIHJlZ3VsYXJfcG9seWdvbl9tYXJrZXJfOTgzZWQyYmM2OTM1NDE3Yjk5YmFiODk4ZTU1MzdmYzkuYmluZFBvcHVwKHBvcHVwXzNiYTJhN2RhMzFiNzRkZjE5NGFiM2NhMGQxMmYwZWFhKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciByZWd1bGFyX3BvbHlnb25fbWFya2VyXzg1NjJiZWQ3ZmZhZTRlMjY4N2I3MmExOTZjYzA0NmJiID0gbmV3IEwuUmVndWxhclBvbHlnb25NYXJrZXIoCiAgICAgICAgICAgICAgICBuZXcgTC5MYXRMbmcoMS4yODAyOTEzODE0NDQ1MDYsMTAzLjg0NDc0MTkzMDMxNjA5KSwKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICBpY29uIDogbmV3IEwuSWNvbi5EZWZhdWx0KCksCiAgICAgICAgICAgICAgICAgICAgY29sb3I6ICdibHVlJywKICAgICAgICAgICAgICAgICAgICBvcGFjaXR5OiAxLAogICAgICAgICAgICAgICAgICAgIHdlaWdodDogMiwKICAgICAgICAgICAgICAgICAgICBmaWxsQ29sb3I6ICcjMGYwZjBmJywKICAgICAgICAgICAgICAgICAgICBmaWxsT3BhY2l0eTogMC43LAogICAgICAgICAgICAgICAgICAgIG51bWJlck9mU2lkZXM6IDQsCiAgICAgICAgICAgICAgICAgICAgcm90YXRpb246IDAsCiAgICAgICAgICAgICAgICAgICAgcmFkaXVzOiAxMAogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgIC5hZGRUbyhtYXBfZjAxYjY3OTAwYjdjNDk3YThjNzZlNWNkMWM4NTk0NDYpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfNTAzODI0YzhlNTFkNGI1NDk3NTVjMDAwYjNjMDJmMWEgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfYWMxNmNkYTk0OWRlNDYwMjkyYTkyYThhNWQzODc5NWIgPSAkKCc8ZGl2IGlkPSJodG1sX2FjMTZjZGE5NDlkZTQ2MDI5MmE5MmE4YTVkMzg3OTViIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5NYXh3ZWxsIEZvb2QgQ2VudHJlPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF81MDM4MjRjOGU1MWQ0YjU0OTc1NWMwMDBiM2MwMmYxYS5zZXRDb250ZW50KGh0bWxfYWMxNmNkYTk0OWRlNDYwMjkyYTkyYThhNWQzODc5NWIpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIHJlZ3VsYXJfcG9seWdvbl9tYXJrZXJfODU2MmJlZDdmZmFlNGUyNjg3YjcyYTE5NmNjMDQ2YmIuYmluZFBvcHVwKHBvcHVwXzUwMzgyNGM4ZTUxZDRiNTQ5NzU1YzAwMGIzYzAyZjFhKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciByZWd1bGFyX3BvbHlnb25fbWFya2VyXzUzZGE5MWIxNTY5MjQ3YmFhOTFjY2M5ZjA1ZWFjOTlmID0gbmV3IEwuUmVndWxhclBvbHlnb25NYXJrZXIoCiAgICAgICAgICAgICAgICBuZXcgTC5MYXRMbmcoMS4yODIxMTU0NjIxODM4MTg0LDEwMy44NDc3MDg3MDIwODczOSksCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgaWNvbiA6IG5ldyBMLkljb24uRGVmYXVsdCgpLAogICAgICAgICAgICAgICAgICAgIGNvbG9yOiAnYmx1ZScsCiAgICAgICAgICAgICAgICAgICAgb3BhY2l0eTogMSwKICAgICAgICAgICAgICAgICAgICB3ZWlnaHQ6IDIsCiAgICAgICAgICAgICAgICAgICAgZmlsbENvbG9yOiAnIzBmMGYwZicsCiAgICAgICAgICAgICAgICAgICAgZmlsbE9wYWNpdHk6IDAuNywKICAgICAgICAgICAgICAgICAgICBudW1iZXJPZlNpZGVzOiA0LAogICAgICAgICAgICAgICAgICAgIHJvdGF0aW9uOiAwLAogICAgICAgICAgICAgICAgICAgIHJhZGl1czogMTAKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICAuYWRkVG8obWFwX2YwMWI2NzkwMGI3YzQ5N2E4Yzc2ZTVjZDFjODU5NDQ2KTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwX2U1ODE0OTE5MzcwZjQ5YTNiNjZiMThmYzdjODBkNzVlID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzQ5YTE4OGQ0YjJhMDQ1NDQ4ZmIyZjI0OWQ5YzNiYWQ0ID0gJCgnPGRpdiBpZD0iaHRtbF80OWExODhkNGIyYTA0NTQ0OGZiMmYyNDlkOWMzYmFkNCIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+Qm9jaGluY2hlPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF9lNTgxNDkxOTM3MGY0OWEzYjY2YjE4ZmM3YzgwZDc1ZS5zZXRDb250ZW50KGh0bWxfNDlhMTg4ZDRiMmEwNDU0NDhmYjJmMjQ5ZDljM2JhZDQpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIHJlZ3VsYXJfcG9seWdvbl9tYXJrZXJfNTNkYTkxYjE1NjkyNDdiYWE5MWNjYzlmMDVlYWM5OWYuYmluZFBvcHVwKHBvcHVwX2U1ODE0OTE5MzcwZjQ5YTNiNjZiMThmYzdjODBkNzVlKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciByZWd1bGFyX3BvbHlnb25fbWFya2VyX2I0YTZkZWFmNjRiZTRkNjlhZDMxMWM5MTIyZDk0MGFiID0gbmV3IEwuUmVndWxhclBvbHlnb25NYXJrZXIoCiAgICAgICAgICAgICAgICBuZXcgTC5MYXRMbmcoMS4yNzkwOTcyMDc5NDIzMjcsMTAzLjg1MDM1NDM1NjA4NTc5KSwKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICBpY29uIDogbmV3IEwuSWNvbi5EZWZhdWx0KCksCiAgICAgICAgICAgICAgICAgICAgY29sb3I6ICdibHVlJywKICAgICAgICAgICAgICAgICAgICBvcGFjaXR5OiAxLAogICAgICAgICAgICAgICAgICAgIHdlaWdodDogMiwKICAgICAgICAgICAgICAgICAgICBmaWxsQ29sb3I6ICcjMGYwZjBmJywKICAgICAgICAgICAgICAgICAgICBmaWxsT3BhY2l0eTogMC43LAogICAgICAgICAgICAgICAgICAgIG51bWJlck9mU2lkZXM6IDQsCiAgICAgICAgICAgICAgICAgICAgcm90YXRpb246IDAsCiAgICAgICAgICAgICAgICAgICAgcmFkaXVzOiAxMAogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgIC5hZGRUbyhtYXBfZjAxYjY3OTAwYjdjNDk3YThjNzZlNWNkMWM4NTk0NDYpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfZTlmNTk2OWI5MjI3NDg1NDg4MzU5NzdkNjY2MGZhMDggPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfNjAwMGM1MGZmYjlhNGQ1YWFmYWFhOTJmNDVkYWJiNzUgPSAkKCc8ZGl2IGlkPSJodG1sXzYwMDBjNTBmZmI5YTRkNWFhZmFhYTkyZjQ1ZGFiYjc1IiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5KZXdlbCBDb2ZmZWU8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwX2U5ZjU5NjliOTIyNzQ4NTQ4ODM1OTc3ZDY2NjBmYTA4LnNldENvbnRlbnQoaHRtbF82MDAwYzUwZmZiOWE0ZDVhYWZhYWE5MmY0NWRhYmI3NSk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgcmVndWxhcl9wb2x5Z29uX21hcmtlcl9iNGE2ZGVhZjY0YmU0ZDY5YWQzMTFjOTEyMmQ5NDBhYi5iaW5kUG9wdXAocG9wdXBfZTlmNTk2OWI5MjI3NDg1NDg4MzU5NzdkNjY2MGZhMDgpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHJlZ3VsYXJfcG9seWdvbl9tYXJrZXJfNGM4MDlhMmNhODVkNGUzZDk0Mjc4NjI4NTNjYTM5MGYgPSBuZXcgTC5SZWd1bGFyUG9seWdvbk1hcmtlcigKICAgICAgICAgICAgICAgIG5ldyBMLkxhdExuZygxLjI4MTMyOTM0Mjc4ODIzODIsMTAzLjg0NDYwNTMyMTMxMTE1KSwKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICBpY29uIDogbmV3IEwuSWNvbi5EZWZhdWx0KCksCiAgICAgICAgICAgICAgICAgICAgY29sb3I6ICdibHVlJywKICAgICAgICAgICAgICAgICAgICBvcGFjaXR5OiAxLAogICAgICAgICAgICAgICAgICAgIHdlaWdodDogMiwKICAgICAgICAgICAgICAgICAgICBmaWxsQ29sb3I6ICcjMGYwZjBmJywKICAgICAgICAgICAgICAgICAgICBmaWxsT3BhY2l0eTogMC43LAogICAgICAgICAgICAgICAgICAgIG51bWJlck9mU2lkZXM6IDQsCiAgICAgICAgICAgICAgICAgICAgcm90YXRpb246IDAsCiAgICAgICAgICAgICAgICAgICAgcmFkaXVzOiAxMAogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgIC5hZGRUbyhtYXBfZjAxYjY3OTAwYjdjNDk3YThjNzZlNWNkMWM4NTk0NDYpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfMWE1NmFiZGM1MjdlNGE2ZmI5YjJkYzAxYzQ4YmU5ZmYgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfZWQ2MmJkMThmN2Y0NDgzMGI1Mzc1YTIwM2E4NjE5MDUgPSAkKCc8ZGl2IGlkPSJodG1sX2VkNjJiZDE4ZjdmNDQ4MzBiNTM3NWEyMDNhODYxOTA1IiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5CdWRkaGEgVG9vdGggUmVsaWMgVGVtcGxlICZhbXA7IE11c2V1bSAo5paw5Yqg5Z2h5L2b54mZ5a+66b6Z5Y2O6ZmiKSAoQnVkZGhhIFRvb3RoIFJlbGljIFRlbXBsZSAmYW1wOyBNdXNldW0pPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF8xYTU2YWJkYzUyN2U0YTZmYjliMmRjMDFjNDhiZTlmZi5zZXRDb250ZW50KGh0bWxfZWQ2MmJkMThmN2Y0NDgzMGI1Mzc1YTIwM2E4NjE5MDUpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIHJlZ3VsYXJfcG9seWdvbl9tYXJrZXJfNGM4MDlhMmNhODVkNGUzZDk0Mjc4NjI4NTNjYTM5MGYuYmluZFBvcHVwKHBvcHVwXzFhNTZhYmRjNTI3ZTRhNmZiOWIyZGMwMWM0OGJlOWZmKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciByZWd1bGFyX3BvbHlnb25fbWFya2VyX2YxMDc0ZDY4MjU0OTQwYTA4NzdlZmY5NDZkYmZmZDA5ID0gbmV3IEwuUmVndWxhclBvbHlnb25NYXJrZXIoCiAgICAgICAgICAgICAgICBuZXcgTC5MYXRMbmcoMS4yODE5MjE4ODg2ODc5OTE3LDEwMy44NDgxNzgwODg2NjUwMSksCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgaWNvbiA6IG5ldyBMLkljb24uRGVmYXVsdCgpLAogICAgICAgICAgICAgICAgICAgIGNvbG9yOiAnYmx1ZScsCiAgICAgICAgICAgICAgICAgICAgb3BhY2l0eTogMSwKICAgICAgICAgICAgICAgICAgICB3ZWlnaHQ6IDIsCiAgICAgICAgICAgICAgICAgICAgZmlsbENvbG9yOiAnIzBmMGYwZicsCiAgICAgICAgICAgICAgICAgICAgZmlsbE9wYWNpdHk6IDAuNywKICAgICAgICAgICAgICAgICAgICBudW1iZXJPZlNpZGVzOiA0LAogICAgICAgICAgICAgICAgICAgIHJvdGF0aW9uOiAwLAogICAgICAgICAgICAgICAgICAgIHJhZGl1czogMTAKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICAuYWRkVG8obWFwX2YwMWI2NzkwMGI3YzQ5N2E4Yzc2ZTVjZDFjODU5NDQ2KTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwX2JkZGI3MTFjZDU5MzQ5ZGZiNDEyNGQyYTljYWQ1YzVmID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzJhMzFmYjg1MWIwODQxYzg4YTcwM2JmNjhlOWFmMmNkID0gJCgnPGRpdiBpZD0iaHRtbF8yYTMxZmI4NTFiMDg0MWM4OGE3MDNiZjY4ZTlhZjJjZCIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+RnJlZSB0aGUgUm9ib3Q8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwX2JkZGI3MTFjZDU5MzQ5ZGZiNDEyNGQyYTljYWQ1YzVmLnNldENvbnRlbnQoaHRtbF8yYTMxZmI4NTFiMDg0MWM4OGE3MDNiZjY4ZTlhZjJjZCk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgcmVndWxhcl9wb2x5Z29uX21hcmtlcl9mMTA3NGQ2ODI1NDk0MGEwODc3ZWZmOTQ2ZGJmZmQwOS5iaW5kUG9wdXAocG9wdXBfYmRkYjcxMWNkNTkzNDlkZmI0MTI0ZDJhOWNhZDVjNWYpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHJlZ3VsYXJfcG9seWdvbl9tYXJrZXJfMzY5NTNlNGFmNjg2NDQ2MjliMzAzMjZmYTI1ZjlhODkgPSBuZXcgTC5SZWd1bGFyUG9seWdvbk1hcmtlcigKICAgICAgICAgICAgICAgIG5ldyBMLkxhdExuZygxLjI3NzY5MzU4MTE3MjAzNjUsMTAzLjg0NDM5MDAyNjg5NTA0KSwKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICBpY29uIDogbmV3IEwuSWNvbi5EZWZhdWx0KCksCiAgICAgICAgICAgICAgICAgICAgY29sb3I6ICdibHVlJywKICAgICAgICAgICAgICAgICAgICBvcGFjaXR5OiAxLAogICAgICAgICAgICAgICAgICAgIHdlaWdodDogMiwKICAgICAgICAgICAgICAgICAgICBmaWxsQ29sb3I6ICcjMGYwZjBmJywKICAgICAgICAgICAgICAgICAgICBmaWxsT3BhY2l0eTogMC43LAogICAgICAgICAgICAgICAgICAgIG51bWJlck9mU2lkZXM6IDQsCiAgICAgICAgICAgICAgICAgICAgcm90YXRpb246IDAsCiAgICAgICAgICAgICAgICAgICAgcmFkaXVzOiAxMAogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgIC5hZGRUbyhtYXBfZjAxYjY3OTAwYjdjNDk3YThjNzZlNWNkMWM4NTk0NDYpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfN2FlN2ZlOWQ4ZTg5NDg4Mzk4NTBmNTUyOWE0MmNkNGIgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfZWFhY2VhMGM5ZGY1NGIxZWI2YWMyYzAyMDkzOWYyMTkgPSAkKCc8ZGl2IGlkPSJodG1sX2VhYWNlYTBjOWRmNTRiMWViNmFjMmMwMjA5MzlmMjE5IiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5CYXJpc3RhcnQgQ29mZmVlPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF83YWU3ZmU5ZDhlODk0ODgzOTg1MGY1NTI5YTQyY2Q0Yi5zZXRDb250ZW50KGh0bWxfZWFhY2VhMGM5ZGY1NGIxZWI2YWMyYzAyMDkzOWYyMTkpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIHJlZ3VsYXJfcG9seWdvbl9tYXJrZXJfMzY5NTNlNGFmNjg2NDQ2MjliMzAzMjZmYTI1ZjlhODkuYmluZFBvcHVwKHBvcHVwXzdhZTdmZTlkOGU4OTQ4ODM5ODUwZjU1MjlhNDJjZDRiKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciByZWd1bGFyX3BvbHlnb25fbWFya2VyX2I4NTI2YmU5OTUyZjQ5OTc5NDJhYThiNjUwY2IwZDVlID0gbmV3IEwuUmVndWxhclBvbHlnb25NYXJrZXIoCiAgICAgICAgICAgICAgICBuZXcgTC5MYXRMbmcoMS4yNzg5NTg0LDEwMy44NDQxOCksCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgaWNvbiA6IG5ldyBMLkljb24uRGVmYXVsdCgpLAogICAgICAgICAgICAgICAgICAgIGNvbG9yOiAnYmx1ZScsCiAgICAgICAgICAgICAgICAgICAgb3BhY2l0eTogMSwKICAgICAgICAgICAgICAgICAgICB3ZWlnaHQ6IDIsCiAgICAgICAgICAgICAgICAgICAgZmlsbENvbG9yOiAnIzBmMGYwZicsCiAgICAgICAgICAgICAgICAgICAgZmlsbE9wYWNpdHk6IDAuNywKICAgICAgICAgICAgICAgICAgICBudW1iZXJPZlNpZGVzOiA0LAogICAgICAgICAgICAgICAgICAgIHJvdGF0aW9uOiAwLAogICAgICAgICAgICAgICAgICAgIHJhZGl1czogMTAKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICAuYWRkVG8obWFwX2YwMWI2NzkwMGI3YzQ5N2E4Yzc2ZTVjZDFjODU5NDQ2KTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwX2FhNjc2MDU4OGI1YjQxMWI4NTkwOGNlOTcyYjcxYWY5ID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sX2VjYjg3MWIzZWJjNDQwNDNhZmRmMWM0ODQ4ZDY2MTBhID0gJCgnPGRpdiBpZD0iaHRtbF9lY2I4NzFiM2ViYzQ0MDQzYWZkZjFjNDg0OGQ2NjEwYSIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+SnVuaW9yPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF9hYTY3NjA1ODhiNWI0MTFiODU5MDhjZTk3MmI3MWFmOS5zZXRDb250ZW50KGh0bWxfZWNiODcxYjNlYmM0NDA0M2FmZGYxYzQ4NDhkNjYxMGEpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIHJlZ3VsYXJfcG9seWdvbl9tYXJrZXJfYjg1MjZiZTk5NTJmNDk5Nzk0MmFhOGI2NTBjYjBkNWUuYmluZFBvcHVwKHBvcHVwX2FhNjc2MDU4OGI1YjQxMWI4NTkwOGNlOTcyYjcxYWY5KTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciByZWd1bGFyX3BvbHlnb25fbWFya2VyXzA5NGY5NjA1YTg2ODRjNjI5OGM3ODdmYWY1ZDNmYzc4ID0gbmV3IEwuUmVndWxhclBvbHlnb25NYXJrZXIoCiAgICAgICAgICAgICAgICBuZXcgTC5MYXRMbmcoMS4yNzk1MDMsMTAzLjg0NjczNCksCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgaWNvbiA6IG5ldyBMLkljb24uRGVmYXVsdCgpLAogICAgICAgICAgICAgICAgICAgIGNvbG9yOiAnYmx1ZScsCiAgICAgICAgICAgICAgICAgICAgb3BhY2l0eTogMSwKICAgICAgICAgICAgICAgICAgICB3ZWlnaHQ6IDIsCiAgICAgICAgICAgICAgICAgICAgZmlsbENvbG9yOiAnIzBmMGYwZicsCiAgICAgICAgICAgICAgICAgICAgZmlsbE9wYWNpdHk6IDAuNywKICAgICAgICAgICAgICAgICAgICBudW1iZXJPZlNpZGVzOiA0LAogICAgICAgICAgICAgICAgICAgIHJvdGF0aW9uOiAwLAogICAgICAgICAgICAgICAgICAgIHJhZGl1czogMTAKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICAuYWRkVG8obWFwX2YwMWI2NzkwMGI3YzQ5N2E4Yzc2ZTVjZDFjODU5NDQ2KTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzRmZTM0MjQ4ODYwMjRhMGZiMWMwY2E1ZWE1NjMyYTBhID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzQxYzM0YjNlN2NhZTQ5MGQ5MTg5MTExNWQ0YmNiMTUxID0gJCgnPGRpdiBpZD0iaHRtbF80MWMzNGIzZTdjYWU0OTBkOTE4OTExMTVkNGJjYjE1MSIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+SjIgQ3Jpc3B5IEN1cnJ5IFB1ZmZzPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF80ZmUzNDI0ODg2MDI0YTBmYjFjMGNhNWVhNTYzMmEwYS5zZXRDb250ZW50KGh0bWxfNDFjMzRiM2U3Y2FlNDkwZDkxODkxMTE1ZDRiY2IxNTEpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIHJlZ3VsYXJfcG9seWdvbl9tYXJrZXJfMDk0Zjk2MDVhODY4NGM2Mjk4Yzc4N2ZhZjVkM2ZjNzguYmluZFBvcHVwKHBvcHVwXzRmZTM0MjQ4ODYwMjRhMGZiMWMwY2E1ZWE1NjMyYTBhKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciByZWd1bGFyX3BvbHlnb25fbWFya2VyXzZjYjg4ZjM1NDg3MTRjNGE4MGE1MmM5ZTFhODNhZTViID0gbmV3IEwuUmVndWxhclBvbHlnb25NYXJrZXIoCiAgICAgICAgICAgICAgICBuZXcgTC5MYXRMbmcoMS4yNzc5MzEzNjk1NjA2MjI1LDEwMy44NDYxMzQ3NTQwOTUxNiksCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgaWNvbiA6IG5ldyBMLkljb24uRGVmYXVsdCgpLAogICAgICAgICAgICAgICAgICAgIGNvbG9yOiAnYmx1ZScsCiAgICAgICAgICAgICAgICAgICAgb3BhY2l0eTogMSwKICAgICAgICAgICAgICAgICAgICB3ZWlnaHQ6IDIsCiAgICAgICAgICAgICAgICAgICAgZmlsbENvbG9yOiAnIzBmMGYwZicsCiAgICAgICAgICAgICAgICAgICAgZmlsbE9wYWNpdHk6IDAuNywKICAgICAgICAgICAgICAgICAgICBudW1iZXJPZlNpZGVzOiA0LAogICAgICAgICAgICAgICAgICAgIHJvdGF0aW9uOiAwLAogICAgICAgICAgICAgICAgICAgIHJhZGl1czogMTAKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICAuYWRkVG8obWFwX2YwMWI2NzkwMGI3YzQ5N2E4Yzc2ZTVjZDFjODU5NDQ2KTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzRhNTJjYTk5MDZiNTRlOGQ4M2MzMjcwYmM2NjI4MWM3ID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzhhMmJkNTc4NjJhNTQzNzViZGU2MzNiZmZjOGY1NjU0ID0gJCgnPGRpdiBpZD0iaHRtbF84YTJiZDU3ODYyYTU0Mzc1YmRlNjMzYmZmYzhmNTY1NCIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+T3R0byBSaXN0b3JhbnRlIEl0YWxpYW5vPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF80YTUyY2E5OTA2YjU0ZThkODNjMzI3MGJjNjYyODFjNy5zZXRDb250ZW50KGh0bWxfOGEyYmQ1Nzg2MmE1NDM3NWJkZTYzM2JmZmM4ZjU2NTQpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIHJlZ3VsYXJfcG9seWdvbl9tYXJrZXJfNmNiODhmMzU0ODcxNGM0YTgwYTUyYzllMWE4M2FlNWIuYmluZFBvcHVwKHBvcHVwXzRhNTJjYTk5MDZiNTRlOGQ4M2MzMjcwYmM2NjI4MWM3KTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciByZWd1bGFyX3BvbHlnb25fbWFya2VyXzVjMTU4YWUzNDRmZTRjYmNiNmYzMjNlMTcyNzk5YTI1ID0gbmV3IEwuUmVndWxhclBvbHlnb25NYXJrZXIoCiAgICAgICAgICAgICAgICBuZXcgTC5MYXRMbmcoMS4yODE5NjQwOTA2OTgwNjM4LDEwMy44NTAzODQ5NDI3NjIwNSksCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgaWNvbiA6IG5ldyBMLkljb24uRGVmYXVsdCgpLAogICAgICAgICAgICAgICAgICAgIGNvbG9yOiAnYmx1ZScsCiAgICAgICAgICAgICAgICAgICAgb3BhY2l0eTogMSwKICAgICAgICAgICAgICAgICAgICB3ZWlnaHQ6IDIsCiAgICAgICAgICAgICAgICAgICAgZmlsbENvbG9yOiAnIzBmMGYwZicsCiAgICAgICAgICAgICAgICAgICAgZmlsbE9wYWNpdHk6IDAuNywKICAgICAgICAgICAgICAgICAgICBudW1iZXJPZlNpZGVzOiA0LAogICAgICAgICAgICAgICAgICAgIHJvdGF0aW9uOiAwLAogICAgICAgICAgICAgICAgICAgIHJhZGl1czogMTAKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICAuYWRkVG8obWFwX2YwMWI2NzkwMGI3YzQ5N2E4Yzc2ZTVjZDFjODU5NDQ2KTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzQzYjcwNGYyNTQ2YjRhMmViZTlhYmE3Y2Y2YWNkYmVhID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzQ5NDRhODhjNTBiMDRmNTc5MGNmYzVlN2QxMTFjNTJhID0gJCgnPGRpdiBpZD0iaHRtbF80OTQ0YTg4YzUwYjA0ZjU3OTBjZmM1ZTdkMTExYzUyYSIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+QXJ0ZW1pcyBHcmlsbDwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfNDNiNzA0ZjI1NDZiNGEyZWJlOWFiYTdjZjZhY2RiZWEuc2V0Q29udGVudChodG1sXzQ5NDRhODhjNTBiMDRmNTc5MGNmYzVlN2QxMTFjNTJhKTsKICAgICAgICAgICAgCgogICAgICAgICAgICByZWd1bGFyX3BvbHlnb25fbWFya2VyXzVjMTU4YWUzNDRmZTRjYmNiNmYzMjNlMTcyNzk5YTI1LmJpbmRQb3B1cChwb3B1cF80M2I3MDRmMjU0NmI0YTJlYmU5YWJhN2NmNmFjZGJlYSk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcmVndWxhcl9wb2x5Z29uX21hcmtlcl8zYTM4YjM1NWY4OWM0MzBjYjkxNTA4MGRkNDIzZDFkOCA9IG5ldyBMLlJlZ3VsYXJQb2x5Z29uTWFya2VyKAogICAgICAgICAgICAgICAgbmV3IEwuTGF0TG5nKDEuMjc2ODMzODE4NDU2OTg5MiwxMDMuODQ1NDE0MzQxNzE2MTUpLAogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgIGljb24gOiBuZXcgTC5JY29uLkRlZmF1bHQoKSwKICAgICAgICAgICAgICAgICAgICBjb2xvcjogJ2JsdWUnLAogICAgICAgICAgICAgICAgICAgIG9wYWNpdHk6IDEsCiAgICAgICAgICAgICAgICAgICAgd2VpZ2h0OiAyLAogICAgICAgICAgICAgICAgICAgIGZpbGxDb2xvcjogJyMwZjBmMGYnLAogICAgICAgICAgICAgICAgICAgIGZpbGxPcGFjaXR5OiAwLjcsCiAgICAgICAgICAgICAgICAgICAgbnVtYmVyT2ZTaWRlczogNCwKICAgICAgICAgICAgICAgICAgICByb3RhdGlvbjogMCwKICAgICAgICAgICAgICAgICAgICByYWRpdXM6IDEwCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgLmFkZFRvKG1hcF9mMDFiNjc5MDBiN2M0OTdhOGM3NmU1Y2QxYzg1OTQ0Nik7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF8zNzkyNzZkNjM1Mzk0MGFiODAwODRlOWNiZTFhY2Y0OCA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF83YTc1NmQ3YTZjZjE0MWQ0OGRjYTkwOWNjZDdkNzUwOSA9ICQoJzxkaXYgaWQ9Imh0bWxfN2E3NTZkN2E2Y2YxNDFkNDhkY2E5MDljY2Q3ZDc1MDkiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPlNvZml0ZWwgU2luZ2Fwb3JlIENpdHkgQ2VudHJlPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF8zNzkyNzZkNjM1Mzk0MGFiODAwODRlOWNiZTFhY2Y0OC5zZXRDb250ZW50KGh0bWxfN2E3NTZkN2E2Y2YxNDFkNDhkY2E5MDljY2Q3ZDc1MDkpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIHJlZ3VsYXJfcG9seWdvbl9tYXJrZXJfM2EzOGIzNTVmODljNDMwY2I5MTUwODBkZDQyM2QxZDguYmluZFBvcHVwKHBvcHVwXzM3OTI3NmQ2MzUzOTQwYWI4MDA4NGU5Y2JlMWFjZjQ4KTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciByZWd1bGFyX3BvbHlnb25fbWFya2VyX2FkZDM0ODdiZDRkZDQ1ZDg5Mjk0ZmExM2Y4MjMxY2Y1ID0gbmV3IEwuUmVndWxhclBvbHlnb25NYXJrZXIoCiAgICAgICAgICAgICAgICBuZXcgTC5MYXRMbmcoMS4yNzY5MzczMzg0OTU2NTY2LDEwMy44NDY4MTY2ODg4NDI2NSksCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgaWNvbiA6IG5ldyBMLkljb24uRGVmYXVsdCgpLAogICAgICAgICAgICAgICAgICAgIGNvbG9yOiAnYmx1ZScsCiAgICAgICAgICAgICAgICAgICAgb3BhY2l0eTogMSwKICAgICAgICAgICAgICAgICAgICB3ZWlnaHQ6IDIsCiAgICAgICAgICAgICAgICAgICAgZmlsbENvbG9yOiAnIzBmMGYwZicsCiAgICAgICAgICAgICAgICAgICAgZmlsbE9wYWNpdHk6IDAuNywKICAgICAgICAgICAgICAgICAgICBudW1iZXJPZlNpZGVzOiA0LAogICAgICAgICAgICAgICAgICAgIHJvdGF0aW9uOiAwLAogICAgICAgICAgICAgICAgICAgIHJhZGl1czogMTAKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICAuYWRkVG8obWFwX2YwMWI2NzkwMGI3YzQ5N2E4Yzc2ZTVjZDFjODU5NDQ2KTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzEyZDBiYzQyODU2ZjRhMjI5NDJlNDc0MmJlMTE4NDNlID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sX2MzN2Q3NzI4ZjNkMDQ1MGU4MDZlZjIzNTA5NzVjNjFhID0gJCgnPGRpdiBpZD0iaHRtbF9jMzdkNzcyOGYzZDA0NTBlODA2ZWYyMzUwOTc1YzYxYSIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+UHVyYSBCcmFzYTwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfMTJkMGJjNDI4NTZmNGEyMjk0MmU0NzQyYmUxMTg0M2Uuc2V0Q29udGVudChodG1sX2MzN2Q3NzI4ZjNkMDQ1MGU4MDZlZjIzNTA5NzVjNjFhKTsKICAgICAgICAgICAgCgogICAgICAgICAgICByZWd1bGFyX3BvbHlnb25fbWFya2VyX2FkZDM0ODdiZDRkZDQ1ZDg5Mjk0ZmExM2Y4MjMxY2Y1LmJpbmRQb3B1cChwb3B1cF8xMmQwYmM0Mjg1NmY0YTIyOTQyZTQ3NDJiZTExODQzZSk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcmVndWxhcl9wb2x5Z29uX21hcmtlcl81MzM1MWYzY2JlZDM0ODc3OTM1YzhkNDBlOGNjMGYwMyA9IG5ldyBMLlJlZ3VsYXJQb2x5Z29uTWFya2VyKAogICAgICAgICAgICAgICAgbmV3IEwuTGF0TG5nKDEuMjgzMTE4MzIyNjA5Mzc5NCwxMDMuODQ4NTM4NTU5NDIyOCksCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgaWNvbiA6IG5ldyBMLkljb24uRGVmYXVsdCgpLAogICAgICAgICAgICAgICAgICAgIGNvbG9yOiAnYmx1ZScsCiAgICAgICAgICAgICAgICAgICAgb3BhY2l0eTogMSwKICAgICAgICAgICAgICAgICAgICB3ZWlnaHQ6IDIsCiAgICAgICAgICAgICAgICAgICAgZmlsbENvbG9yOiAnIzBmMGYwZicsCiAgICAgICAgICAgICAgICAgICAgZmlsbE9wYWNpdHk6IDAuNywKICAgICAgICAgICAgICAgICAgICBudW1iZXJPZlNpZGVzOiA0LAogICAgICAgICAgICAgICAgICAgIHJvdGF0aW9uOiAwLAogICAgICAgICAgICAgICAgICAgIHJhZGl1czogMTAKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICAuYWRkVG8obWFwX2YwMWI2NzkwMGI3YzQ5N2E4Yzc2ZTVjZDFjODU5NDQ2KTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwX2QyNzA3OGZjMTc1YzRlMjJhNjA3MDc5MzIyNzViNjZlID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzNlZWZhNjgyNTMxMTRjM2Y5Y2Q0ZTcyNjRkYzRlOWNhID0gJCgnPGRpdiBpZD0iaHRtbF8zZWVmYTY4MjUzMTE0YzNmOWNkNGU3MjY0ZGM0ZTljYSIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+QW1veSBIb3RlbDwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfZDI3MDc4ZmMxNzVjNGUyMmE2MDcwNzkzMjI3NWI2NmUuc2V0Q29udGVudChodG1sXzNlZWZhNjgyNTMxMTRjM2Y5Y2Q0ZTcyNjRkYzRlOWNhKTsKICAgICAgICAgICAgCgogICAgICAgICAgICByZWd1bGFyX3BvbHlnb25fbWFya2VyXzUzMzUxZjNjYmVkMzQ4Nzc5MzVjOGQ0MGU4Y2MwZjAzLmJpbmRQb3B1cChwb3B1cF9kMjcwNzhmYzE3NWM0ZTIyYTYwNzA3OTMyMjc1YjY2ZSk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcmVndWxhcl9wb2x5Z29uX21hcmtlcl9jNmRhYWNjMDRjOTA0YjJhOTE0OGRiMDZlZTMwNGNkOSA9IG5ldyBMLlJlZ3VsYXJQb2x5Z29uTWFya2VyKAogICAgICAgICAgICAgICAgbmV3IEwuTGF0TG5nKDEuMjc3NTg3MDU0NzExODA5MSwxMDMuODQ5MTQ0MDUzOTQxOTQpLAogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgIGljb24gOiBuZXcgTC5JY29uLkRlZmF1bHQoKSwKICAgICAgICAgICAgICAgICAgICBjb2xvcjogJ2JsdWUnLAogICAgICAgICAgICAgICAgICAgIG9wYWNpdHk6IDEsCiAgICAgICAgICAgICAgICAgICAgd2VpZ2h0OiAyLAogICAgICAgICAgICAgICAgICAgIGZpbGxDb2xvcjogJyMwZjBmMGYnLAogICAgICAgICAgICAgICAgICAgIGZpbGxPcGFjaXR5OiAwLjcsCiAgICAgICAgICAgICAgICAgICAgbnVtYmVyT2ZTaWRlczogNCwKICAgICAgICAgICAgICAgICAgICByb3RhdGlvbjogMCwKICAgICAgICAgICAgICAgICAgICByYWRpdXM6IDEwCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgLmFkZFRvKG1hcF9mMDFiNjc5MDBiN2M0OTdhOGM3NmU1Y2QxYzg1OTQ0Nik7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF8wNzc2NmExZTJiMmE0ZmI1YTE0MjJjMjlkYTZkYWQzMCA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF8yNjQ1MzgxYzg4MDQ0MzQ1YmI4MWMxNGZkNTVlODYzNyA9ICQoJzxkaXYgaWQ9Imh0bWxfMjY0NTM4MWM4ODA0NDM0NWJiODFjMTRmZDU1ZTg2MzciIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPlBobyBTdG9wPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF8wNzc2NmExZTJiMmE0ZmI1YTE0MjJjMjlkYTZkYWQzMC5zZXRDb250ZW50KGh0bWxfMjY0NTM4MWM4ODA0NDM0NWJiODFjMTRmZDU1ZTg2MzcpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIHJlZ3VsYXJfcG9seWdvbl9tYXJrZXJfYzZkYWFjYzA0YzkwNGIyYTkxNDhkYjA2ZWUzMDRjZDkuYmluZFBvcHVwKHBvcHVwXzA3NzY2YTFlMmIyYTRmYjVhMTQyMmMyOWRhNmRhZDMwKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciByZWd1bGFyX3BvbHlnb25fbWFya2VyXzQyZDZiNjcyNzM3ZTQyMDA4NDQyZDg1OWE0NzA3ZDViID0gbmV3IEwuUmVndWxhclBvbHlnb25NYXJrZXIoCiAgICAgICAgICAgICAgICBuZXcgTC5MYXRMbmcoMS4yNzgzOTI3NjAwODI0NDI1LDEwMy44NDQ0MjY0NTA0OTIxNiksCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgaWNvbiA6IG5ldyBMLkljb24uRGVmYXVsdCgpLAogICAgICAgICAgICAgICAgICAgIGNvbG9yOiAnYmx1ZScsCiAgICAgICAgICAgICAgICAgICAgb3BhY2l0eTogMSwKICAgICAgICAgICAgICAgICAgICB3ZWlnaHQ6IDIsCiAgICAgICAgICAgICAgICAgICAgZmlsbENvbG9yOiAnIzBmMGYwZicsCiAgICAgICAgICAgICAgICAgICAgZmlsbE9wYWNpdHk6IDAuNywKICAgICAgICAgICAgICAgICAgICBudW1iZXJPZlNpZGVzOiA0LAogICAgICAgICAgICAgICAgICAgIHJvdGF0aW9uOiAwLAogICAgICAgICAgICAgICAgICAgIHJhZGl1czogMTAKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICAuYWRkVG8obWFwX2YwMWI2NzkwMGI3YzQ5N2E4Yzc2ZTVjZDFjODU5NDQ2KTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzcyM2Q2NjA4OGEyODQwNWM5NjBhYjQ0N2QxMGE2MjU4ID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sX2IxYjU4NTE0ODUxMjQ1YzNiZGY5YmMwNzZiZDE1ZDQ3ID0gJCgnPGRpdiBpZD0iaHRtbF9iMWI1ODUxNDg1MTI0NWMzYmRmOWJjMDc2YmQxNWQ0NyIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+QmFtISBUYXBhcy1TYWtlIEJhcjwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfNzIzZDY2MDg4YTI4NDA1Yzk2MGFiNDQ3ZDEwYTYyNTguc2V0Q29udGVudChodG1sX2IxYjU4NTE0ODUxMjQ1YzNiZGY5YmMwNzZiZDE1ZDQ3KTsKICAgICAgICAgICAgCgogICAgICAgICAgICByZWd1bGFyX3BvbHlnb25fbWFya2VyXzQyZDZiNjcyNzM3ZTQyMDA4NDQyZDg1OWE0NzA3ZDViLmJpbmRQb3B1cChwb3B1cF83MjNkNjYwODhhMjg0MDVjOTYwYWI0NDdkMTBhNjI1OCk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcmVndWxhcl9wb2x5Z29uX21hcmtlcl81MTUxMjc5NWZkZmU0YjEzOGQ0MjYzNmJkMjFjNDMwNiA9IG5ldyBMLlJlZ3VsYXJQb2x5Z29uTWFya2VyKAogICAgICAgICAgICAgICAgbmV3IEwuTGF0TG5nKDEuMjgyOTAwNjQ5NzYzNTgyNCwxMDMuODQ4MTE2Mzk3ODU3NjcpLAogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgIGljb24gOiBuZXcgTC5JY29uLkRlZmF1bHQoKSwKICAgICAgICAgICAgICAgICAgICBjb2xvcjogJ2JsdWUnLAogICAgICAgICAgICAgICAgICAgIG9wYWNpdHk6IDEsCiAgICAgICAgICAgICAgICAgICAgd2VpZ2h0OiAyLAogICAgICAgICAgICAgICAgICAgIGZpbGxDb2xvcjogJyMwZjBmMGYnLAogICAgICAgICAgICAgICAgICAgIGZpbGxPcGFjaXR5OiAwLjcsCiAgICAgICAgICAgICAgICAgICAgbnVtYmVyT2ZTaWRlczogNCwKICAgICAgICAgICAgICAgICAgICByb3RhdGlvbjogMCwKICAgICAgICAgICAgICAgICAgICByYWRpdXM6IDEwCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgLmFkZFRvKG1hcF9mMDFiNjc5MDBiN2M0OTdhOGM3NmU1Y2QxYzg1OTQ0Nik7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF9iOWNlNWJhZWExMGU0YzczOTVjODNjOGNmNTdhODBiNCA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF8xZDk3NDZhMDA4NzI0ZGMyYWE0YTVjNDg0NTVjNDE3YSA9ICQoJzxkaXYgaWQ9Imh0bWxfMWQ5NzQ2YTAwODcyNGRjMmFhNGE1YzQ4NDU1YzQxN2EiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPldhbmcgRGFlIEJhayBLb3JlYW4gQkJRPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF9iOWNlNWJhZWExMGU0YzczOTVjODNjOGNmNTdhODBiNC5zZXRDb250ZW50KGh0bWxfMWQ5NzQ2YTAwODcyNGRjMmFhNGE1YzQ4NDU1YzQxN2EpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIHJlZ3VsYXJfcG9seWdvbl9tYXJrZXJfNTE1MTI3OTVmZGZlNGIxMzhkNDI2MzZiZDIxYzQzMDYuYmluZFBvcHVwKHBvcHVwX2I5Y2U1YmFlYTEwZTRjNzM5NWM4M2M4Y2Y1N2E4MGI0KTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciByZWd1bGFyX3BvbHlnb25fbWFya2VyXzQwOGVmYWI5MTc3ZjQ2NjliYmEzNzRlMTI0NWE4NzE1ID0gbmV3IEwuUmVndWxhclBvbHlnb25NYXJrZXIoCiAgICAgICAgICAgICAgICBuZXcgTC5MYXRMbmcoMS4yODI5NzcxOTExMDgzMzM5LDEwMy44NDkwNjgwNTA4OTYwNCksCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgaWNvbiA6IG5ldyBMLkljb24uRGVmYXVsdCgpLAogICAgICAgICAgICAgICAgICAgIGNvbG9yOiAnYmx1ZScsCiAgICAgICAgICAgICAgICAgICAgb3BhY2l0eTogMSwKICAgICAgICAgICAgICAgICAgICB3ZWlnaHQ6IDIsCiAgICAgICAgICAgICAgICAgICAgZmlsbENvbG9yOiAnIzBmMGYwZicsCiAgICAgICAgICAgICAgICAgICAgZmlsbE9wYWNpdHk6IDAuNywKICAgICAgICAgICAgICAgICAgICBudW1iZXJPZlNpZGVzOiA0LAogICAgICAgICAgICAgICAgICAgIHJvdGF0aW9uOiAwLAogICAgICAgICAgICAgICAgICAgIHJhZGl1czogMTAKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICAuYWRkVG8obWFwX2YwMWI2NzkwMGI3YzQ5N2E4Yzc2ZTVjZDFjODU5NDQ2KTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwX2U0Zjc2YmI3ODQxYzQ1OWE4ZTc4MzI4NjNlY2E1ODRmID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzY0MGIxNWQ5YmIyOTQyMjRiYmJkYzlkZGIxMjUxNDVlID0gJCgnPGRpdiBpZD0iaHRtbF82NDBiMTVkOWJiMjk0MjI0YmJiZGM5ZGRiMTI1MTQ1ZSIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+RmF0IFNhaWdvbiBCb3k8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwX2U0Zjc2YmI3ODQxYzQ1OWE4ZTc4MzI4NjNlY2E1ODRmLnNldENvbnRlbnQoaHRtbF82NDBiMTVkOWJiMjk0MjI0YmJiZGM5ZGRiMTI1MTQ1ZSk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgcmVndWxhcl9wb2x5Z29uX21hcmtlcl80MDhlZmFiOTE3N2Y0NjY5YmJhMzc0ZTEyNDVhODcxNS5iaW5kUG9wdXAocG9wdXBfZTRmNzZiYjc4NDFjNDU5YThlNzgzMjg2M2VjYTU4NGYpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHJlZ3VsYXJfcG9seWdvbl9tYXJrZXJfZWQ3OWM2YzI0OWJlNDQxOGJlMTU4Mzc5NmU4YTAzNWIgPSBuZXcgTC5SZWd1bGFyUG9seWdvbk1hcmtlcigKICAgICAgICAgICAgICAgIG5ldyBMLkxhdExuZygxLjI3NjYwNTMzNTM3NzU5MSwxMDMuODQ1ODIzMDg1Mzg4NTMpLAogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgIGljb24gOiBuZXcgTC5JY29uLkRlZmF1bHQoKSwKICAgICAgICAgICAgICAgICAgICBjb2xvcjogJ2JsdWUnLAogICAgICAgICAgICAgICAgICAgIG9wYWNpdHk6IDEsCiAgICAgICAgICAgICAgICAgICAgd2VpZ2h0OiAyLAogICAgICAgICAgICAgICAgICAgIGZpbGxDb2xvcjogJyMwZjBmMGYnLAogICAgICAgICAgICAgICAgICAgIGZpbGxPcGFjaXR5OiAwLjcsCiAgICAgICAgICAgICAgICAgICAgbnVtYmVyT2ZTaWRlczogNCwKICAgICAgICAgICAgICAgICAgICByb3RhdGlvbjogMCwKICAgICAgICAgICAgICAgICAgICByYWRpdXM6IDEwCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgLmFkZFRvKG1hcF9mMDFiNjc5MDBiN2M0OTdhOGM3NmU1Y2QxYzg1OTQ0Nik7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF9iNzAyMGYwYjZiNDQ0ZmRlOTBiODJmMmQ3YzRlNDVjMyA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF84YWMyNGE2NjgxYzU0ZTMxOTQzZDcxOTJmYzMzY2M0YSA9ICQoJzxkaXYgaWQ9Imh0bWxfOGFjMjRhNjY4MWM1NGUzMTk0M2Q3MTkyZmMzM2NjNGEiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkltYWthdHN1PC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF9iNzAyMGYwYjZiNDQ0ZmRlOTBiODJmMmQ3YzRlNDVjMy5zZXRDb250ZW50KGh0bWxfOGFjMjRhNjY4MWM1NGUzMTk0M2Q3MTkyZmMzM2NjNGEpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIHJlZ3VsYXJfcG9seWdvbl9tYXJrZXJfZWQ3OWM2YzI0OWJlNDQxOGJlMTU4Mzc5NmU4YTAzNWIuYmluZFBvcHVwKHBvcHVwX2I3MDIwZjBiNmI0NDRmZGU5MGI4MmYyZDdjNGU0NWMzKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciByZWd1bGFyX3BvbHlnb25fbWFya2VyXzcyZDc5OTBiMjA2NjQ0NGRhMzA0YTMwZWZjYzY3YTJjID0gbmV3IEwuUmVndWxhclBvbHlnb25NYXJrZXIoCiAgICAgICAgICAgICAgICBuZXcgTC5MYXRMbmcoMS4yODI0OTQ0MzgyOTM2NDksMTAzLjg0NzIxNjMxNDcwOTI0KSwKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICBpY29uIDogbmV3IEwuSWNvbi5EZWZhdWx0KCksCiAgICAgICAgICAgICAgICAgICAgY29sb3I6ICdibHVlJywKICAgICAgICAgICAgICAgICAgICBvcGFjaXR5OiAxLAogICAgICAgICAgICAgICAgICAgIHdlaWdodDogMiwKICAgICAgICAgICAgICAgICAgICBmaWxsQ29sb3I6ICcjMGYwZjBmJywKICAgICAgICAgICAgICAgICAgICBmaWxsT3BhY2l0eTogMC43LAogICAgICAgICAgICAgICAgICAgIG51bWJlck9mU2lkZXM6IDQsCiAgICAgICAgICAgICAgICAgICAgcm90YXRpb246IDAsCiAgICAgICAgICAgICAgICAgICAgcmFkaXVzOiAxMAogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgIC5hZGRUbyhtYXBfZjAxYjY3OTAwYjdjNDk3YThjNzZlNWNkMWM4NTk0NDYpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfMjZmZGI2ZDJiZmMwNGRkOTg1YzQzZDFiODA1MGExNmMgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfMTNmMzg2NDQwNmI5NDNkMzlmMjljYTU5MzI3MzQwNGUgPSAkKCc8ZGl2IGlkPSJodG1sXzEzZjM4NjQ0MDZiOTQzZDM5ZjI5Y2E1OTMyNzM0MDRlIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5CYXItYS10aHltPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF8yNmZkYjZkMmJmYzA0ZGQ5ODVjNDNkMWI4MDUwYTE2Yy5zZXRDb250ZW50KGh0bWxfMTNmMzg2NDQwNmI5NDNkMzlmMjljYTU5MzI3MzQwNGUpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIHJlZ3VsYXJfcG9seWdvbl9tYXJrZXJfNzJkNzk5MGIyMDY2NDQ0ZGEzMDRhMzBlZmNjNjdhMmMuYmluZFBvcHVwKHBvcHVwXzI2ZmRiNmQyYmZjMDRkZDk4NWM0M2QxYjgwNTBhMTZjKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciByZWd1bGFyX3BvbHlnb25fbWFya2VyX2ViNzg5MzYyZjFiMjRiMzViODY1YWJkMDYzMDM1MTU0ID0gbmV3IEwuUmVndWxhclBvbHlnb25NYXJrZXIoCiAgICAgICAgICAgICAgICBuZXcgTC5MYXRMbmcoMS4yNzc5Nzc4MDYzODI0MjE5LDEwMy44NDQ0Mjc1NTcxNDcyNyksCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgaWNvbiA6IG5ldyBMLkljb24uRGVmYXVsdCgpLAogICAgICAgICAgICAgICAgICAgIGNvbG9yOiAnYmx1ZScsCiAgICAgICAgICAgICAgICAgICAgb3BhY2l0eTogMSwKICAgICAgICAgICAgICAgICAgICB3ZWlnaHQ6IDIsCiAgICAgICAgICAgICAgICAgICAgZmlsbENvbG9yOiAnIzBmMGYwZicsCiAgICAgICAgICAgICAgICAgICAgZmlsbE9wYWNpdHk6IDAuNywKICAgICAgICAgICAgICAgICAgICBudW1iZXJPZlNpZGVzOiA0LAogICAgICAgICAgICAgICAgICAgIHJvdGF0aW9uOiAwLAogICAgICAgICAgICAgICAgICAgIHJhZGl1czogMTAKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICAuYWRkVG8obWFwX2YwMWI2NzkwMGI3YzQ5N2E4Yzc2ZTVjZDFjODU5NDQ2KTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwX2U3OTJlZDUyNTQ4ODQyNTFiNjVlYzcyY2FhOGYwNTZlID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sX2M2NDIxODM4YmUwYzRiYzg4Yjg5YjJmZTllMDIxZWI5ID0gJCgnPGRpdiBpZD0iaHRtbF9jNjQyMTgzOGJlMGM0YmM4OGI4OWIyZmU5ZTAyMWViOSIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+TmVzdXRvIFBhdGlzc2VyaWU8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwX2U3OTJlZDUyNTQ4ODQyNTFiNjVlYzcyY2FhOGYwNTZlLnNldENvbnRlbnQoaHRtbF9jNjQyMTgzOGJlMGM0YmM4OGI4OWIyZmU5ZTAyMWViOSk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgcmVndWxhcl9wb2x5Z29uX21hcmtlcl9lYjc4OTM2MmYxYjI0YjM1Yjg2NWFiZDA2MzAzNTE1NC5iaW5kUG9wdXAocG9wdXBfZTc5MmVkNTI1NDg4NDI1MWI2NWVjNzJjYWE4ZjA1NmUpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHJlZ3VsYXJfcG9seWdvbl9tYXJrZXJfYzdjMjM5MWZhMjhmNGY2N2EzYzcxYzI3MzRlOWQxZTYgPSBuZXcgTC5SZWd1bGFyUG9seWdvbk1hcmtlcigKICAgICAgICAgICAgICAgIG5ldyBMLkxhdExuZygxLjI4MTI0MDYzNzY2OTM4NjMsMTAzLjg0NzEwMDEyMDI3MjUpLAogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgIGljb24gOiBuZXcgTC5JY29uLkRlZmF1bHQoKSwKICAgICAgICAgICAgICAgICAgICBjb2xvcjogJ2JsdWUnLAogICAgICAgICAgICAgICAgICAgIG9wYWNpdHk6IDEsCiAgICAgICAgICAgICAgICAgICAgd2VpZ2h0OiAyLAogICAgICAgICAgICAgICAgICAgIGZpbGxDb2xvcjogJyMwZjBmMGYnLAogICAgICAgICAgICAgICAgICAgIGZpbGxPcGFjaXR5OiAwLjcsCiAgICAgICAgICAgICAgICAgICAgbnVtYmVyT2ZTaWRlczogNCwKICAgICAgICAgICAgICAgICAgICByb3RhdGlvbjogMCwKICAgICAgICAgICAgICAgICAgICByYWRpdXM6IDEwCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgLmFkZFRvKG1hcF9mMDFiNjc5MDBiN2M0OTdhOGM3NmU1Y2QxYzg1OTQ0Nik7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF9hMGIxMzUzOTcyNzA0NzEyYWRhYjdjZDExYTYxYWJhYSA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF85OGU2ZDM1YjBiYjI0Y2Q0YmRhY2Q2Mzk2ODc0NGNlYSA9ICQoJzxkaXYgaWQ9Imh0bWxfOThlNmQzNWIwYmIyNGNkNGJkYWNkNjM5Njg3NDRjZWEiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPlRoZSBGbHlpbmcgU3F1aXJyZWw8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwX2EwYjEzNTM5NzI3MDQ3MTJhZGFiN2NkMTFhNjFhYmFhLnNldENvbnRlbnQoaHRtbF85OGU2ZDM1YjBiYjI0Y2Q0YmRhY2Q2Mzk2ODc0NGNlYSk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgcmVndWxhcl9wb2x5Z29uX21hcmtlcl9jN2MyMzkxZmEyOGY0ZjY3YTNjNzFjMjczNGU5ZDFlNi5iaW5kUG9wdXAocG9wdXBfYTBiMTM1Mzk3MjcwNDcxMmFkYWI3Y2QxMWE2MWFiYWEpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHJlZ3VsYXJfcG9seWdvbl9tYXJrZXJfZDlmNWNiNGNjNzUyNDBhYWFjYzUzN2MyNzExMTA1OTcgPSBuZXcgTC5SZWd1bGFyUG9seWdvbk1hcmtlcigKICAgICAgICAgICAgICAgIG5ldyBMLkxhdExuZygxLjI3ODMzOTcwMjkxOTUzMTYsMTAzLjg1MTUxMzM1ODY4NTkpLAogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgIGljb24gOiBuZXcgTC5JY29uLkRlZmF1bHQoKSwKICAgICAgICAgICAgICAgICAgICBjb2xvcjogJ2JsdWUnLAogICAgICAgICAgICAgICAgICAgIG9wYWNpdHk6IDEsCiAgICAgICAgICAgICAgICAgICAgd2VpZ2h0OiAyLAogICAgICAgICAgICAgICAgICAgIGZpbGxDb2xvcjogJyMwZjBmMGYnLAogICAgICAgICAgICAgICAgICAgIGZpbGxPcGFjaXR5OiAwLjcsCiAgICAgICAgICAgICAgICAgICAgbnVtYmVyT2ZTaWRlczogNCwKICAgICAgICAgICAgICAgICAgICByb3RhdGlvbjogMCwKICAgICAgICAgICAgICAgICAgICByYWRpdXM6IDEwCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgLmFkZFRvKG1hcF9mMDFiNjc5MDBiN2M0OTdhOGM3NmU1Y2QxYzg1OTQ0Nik7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF83NzU4OWQ2NmRlNDA0Zjk5YWU4NmQ4ZGZhYTI1MDNiNyA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF81MDIwZjZjMzdhNmU0NjY2OTYxZmI1ZDNhMjFmZDk2NyA9ICQoJzxkaXYgaWQ9Imh0bWxfNTAyMGY2YzM3YTZlNDY2Njk2MWZiNWQzYTIxZmQ5NjciIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkFzaWEgU3F1YXJlPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF83NzU4OWQ2NmRlNDA0Zjk5YWU4NmQ4ZGZhYTI1MDNiNy5zZXRDb250ZW50KGh0bWxfNTAyMGY2YzM3YTZlNDY2Njk2MWZiNWQzYTIxZmQ5NjcpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIHJlZ3VsYXJfcG9seWdvbl9tYXJrZXJfZDlmNWNiNGNjNzUyNDBhYWFjYzUzN2MyNzExMTA1OTcuYmluZFBvcHVwKHBvcHVwXzc3NTg5ZDY2ZGU0MDRmOTlhZTg2ZDhkZmFhMjUwM2I3KTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciByZWd1bGFyX3BvbHlnb25fbWFya2VyX2VhNWZmMDYxMDNkYTQwZDhiNzAzOGNjNDZkN2IwZjNiID0gbmV3IEwuUmVndWxhclBvbHlnb25NYXJrZXIoCiAgICAgICAgICAgICAgICBuZXcgTC5MYXRMbmcoMS4yNzk0MDYyMjM1MTI4MTQsMTAzLjg1MTcyNzk0NjU2OTk3KSwKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICBpY29uIDogbmV3IEwuSWNvbi5EZWZhdWx0KCksCiAgICAgICAgICAgICAgICAgICAgY29sb3I6ICdibHVlJywKICAgICAgICAgICAgICAgICAgICBvcGFjaXR5OiAxLAogICAgICAgICAgICAgICAgICAgIHdlaWdodDogMiwKICAgICAgICAgICAgICAgICAgICBmaWxsQ29sb3I6ICcjMGYwZjBmJywKICAgICAgICAgICAgICAgICAgICBmaWxsT3BhY2l0eTogMC43LAogICAgICAgICAgICAgICAgICAgIG51bWJlck9mU2lkZXM6IDQsCiAgICAgICAgICAgICAgICAgICAgcm90YXRpb246IDAsCiAgICAgICAgICAgICAgICAgICAgcmFkaXVzOiAxMAogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgIC5hZGRUbyhtYXBfZjAxYjY3OTAwYjdjNDk3YThjNzZlNWNkMWM4NTk0NDYpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfNzkzMmI3MzQ2Y2ExNGM3MTkyNjgwYWVhZDRlMGQ0MDQgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfNThkZmVjOTRlNDg3NDQ2Mzg1YmE1YWM5M2JkNzlmNjIgPSAkKCc8ZGl2IGlkPSJodG1sXzU4ZGZlYzk0ZTQ4NzQ0NjM4NWJhNWFjOTNiZDc5ZjYyIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5JbXBlcmlhbCBUcmVhc3VyZSBTdXBlciBQZWtpbmcgRHVjayBSZXN0YXVyYW50IOW+oeWvtuiHs+WwiueDpOm0qOW6lzwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfNzkzMmI3MzQ2Y2ExNGM3MTkyNjgwYWVhZDRlMGQ0MDQuc2V0Q29udGVudChodG1sXzU4ZGZlYzk0ZTQ4NzQ0NjM4NWJhNWFjOTNiZDc5ZjYyKTsKICAgICAgICAgICAgCgogICAgICAgICAgICByZWd1bGFyX3BvbHlnb25fbWFya2VyX2VhNWZmMDYxMDNkYTQwZDhiNzAzOGNjNDZkN2IwZjNiLmJpbmRQb3B1cChwb3B1cF83OTMyYjczNDZjYTE0YzcxOTI2ODBhZWFkNGUwZDQwNCk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcmVndWxhcl9wb2x5Z29uX21hcmtlcl9iMDc2YWEyOGE3NjQ0NWJhYTMwMDhhZTdjYmMxOTEwOCA9IG5ldyBMLlJlZ3VsYXJQb2x5Z29uTWFya2VyKAogICAgICAgICAgICAgICAgbmV3IEwuTGF0TG5nKDEuMjc5MTAwMjkzNTMxNzEyOCwxMDMuODQ3MDk0MDQ1MjAxOTEpLAogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgIGljb24gOiBuZXcgTC5JY29uLkRlZmF1bHQoKSwKICAgICAgICAgICAgICAgICAgICBjb2xvcjogJ2JsdWUnLAogICAgICAgICAgICAgICAgICAgIG9wYWNpdHk6IDEsCiAgICAgICAgICAgICAgICAgICAgd2VpZ2h0OiAyLAogICAgICAgICAgICAgICAgICAgIGZpbGxDb2xvcjogJyMwZjBmMGYnLAogICAgICAgICAgICAgICAgICAgIGZpbGxPcGFjaXR5OiAwLjcsCiAgICAgICAgICAgICAgICAgICAgbnVtYmVyT2ZTaWRlczogNCwKICAgICAgICAgICAgICAgICAgICByb3RhdGlvbjogMCwKICAgICAgICAgICAgICAgICAgICByYWRpdXM6IDEwCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgLmFkZFRvKG1hcF9mMDFiNjc5MDBiN2M0OTdhOGM3NmU1Y2QxYzg1OTQ0Nik7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF80YjJjNDljYWY5Nzk0NDRkYTE2ZGQ2YWQxYmM4NzdmOCA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF8xMjJkZTA1MjViYzI0YmRhOWFlMmU0YTY2MDdlODQwNyA9ICQoJzxkaXYgaWQ9Imh0bWxfMTIyZGUwNTI1YmMyNGJkYTlhZTJlNGE2NjA3ZTg0MDciIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPlNBUCBUaGFpIEZvb2Q8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzRiMmM0OWNhZjk3OTQ0NGRhMTZkZDZhZDFiYzg3N2Y4LnNldENvbnRlbnQoaHRtbF8xMjJkZTA1MjViYzI0YmRhOWFlMmU0YTY2MDdlODQwNyk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgcmVndWxhcl9wb2x5Z29uX21hcmtlcl9iMDc2YWEyOGE3NjQ0NWJhYTMwMDhhZTdjYmMxOTEwOC5iaW5kUG9wdXAocG9wdXBfNGIyYzQ5Y2FmOTc5NDQ0ZGExNmRkNmFkMWJjODc3ZjgpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHJlZ3VsYXJfcG9seWdvbl9tYXJrZXJfZTIxZWVmZDNhYjJlNDIwNjliZjQwYTVkY2JmYjJjNjAgPSBuZXcgTC5SZWd1bGFyUG9seWdvbk1hcmtlcigKICAgICAgICAgICAgICAgIG5ldyBMLkxhdExuZygxLjI4Mjk2NzM5ODIwMjA1MTcsMTAzLjg0ODA2MjE3MjUzMDk3KSwKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICBpY29uIDogbmV3IEwuSWNvbi5EZWZhdWx0KCksCiAgICAgICAgICAgICAgICAgICAgY29sb3I6ICdibHVlJywKICAgICAgICAgICAgICAgICAgICBvcGFjaXR5OiAxLAogICAgICAgICAgICAgICAgICAgIHdlaWdodDogMiwKICAgICAgICAgICAgICAgICAgICBmaWxsQ29sb3I6ICcjMGYwZjBmJywKICAgICAgICAgICAgICAgICAgICBmaWxsT3BhY2l0eTogMC43LAogICAgICAgICAgICAgICAgICAgIG51bWJlck9mU2lkZXM6IDQsCiAgICAgICAgICAgICAgICAgICAgcm90YXRpb246IDAsCiAgICAgICAgICAgICAgICAgICAgcmFkaXVzOiAxMAogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgIC5hZGRUbyhtYXBfZjAxYjY3OTAwYjdjNDk3YThjNzZlNWNkMWM4NTk0NDYpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfMWEwZWMxMmFmMTc0NGM2MWFhNWE2NjJhZmM2MDg4ZGEgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfNTI3ZmQ4N2QzZWU1NDczMzg2MGJiMDk5OTM4OWVkMDcgPSAkKCc8ZGl2IGlkPSJodG1sXzUyN2ZkODdkM2VlNTQ3MzM4NjBiYjA5OTkzODllZDA3IiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5Fdm9sdmVNTUEgRmFyIEVhc3QgU3F1YXJlPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF8xYTBlYzEyYWYxNzQ0YzYxYWE1YTY2MmFmYzYwODhkYS5zZXRDb250ZW50KGh0bWxfNTI3ZmQ4N2QzZWU1NDczMzg2MGJiMDk5OTM4OWVkMDcpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIHJlZ3VsYXJfcG9seWdvbl9tYXJrZXJfZTIxZWVmZDNhYjJlNDIwNjliZjQwYTVkY2JmYjJjNjAuYmluZFBvcHVwKHBvcHVwXzFhMGVjMTJhZjE3NDRjNjFhYTVhNjYyYWZjNjA4OGRhKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciByZWd1bGFyX3BvbHlnb25fbWFya2VyX2Y0NjI4NzgxMjg4NTRhM2E5NGU0M2Y0OWVjNWNjZDg2ID0gbmV3IEwuUmVndWxhclBvbHlnb25NYXJrZXIoCiAgICAgICAgICAgICAgICBuZXcgTC5MYXRMbmcoMS4yNzk1Mjc2ODUyNDIyOTk0LDEwMy44NDUyMDU4NDc5MzE4NSksCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgaWNvbiA6IG5ldyBMLkljb24uRGVmYXVsdCgpLAogICAgICAgICAgICAgICAgICAgIGNvbG9yOiAnYmx1ZScsCiAgICAgICAgICAgICAgICAgICAgb3BhY2l0eTogMSwKICAgICAgICAgICAgICAgICAgICB3ZWlnaHQ6IDIsCiAgICAgICAgICAgICAgICAgICAgZmlsbENvbG9yOiAnIzBmMGYwZicsCiAgICAgICAgICAgICAgICAgICAgZmlsbE9wYWNpdHk6IDAuNywKICAgICAgICAgICAgICAgICAgICBudW1iZXJPZlNpZGVzOiA0LAogICAgICAgICAgICAgICAgICAgIHJvdGF0aW9uOiAwLAogICAgICAgICAgICAgICAgICAgIHJhZGl1czogMTAKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICAuYWRkVG8obWFwX2YwMWI2NzkwMGI3YzQ5N2E4Yzc2ZTVjZDFjODU5NDQ2KTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzYyZDNiNzdjYTM1ODQyMjk5MGNmYzU4MDA5ZGZiMTAzID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzI2ZDdjMTE1YmRhODRlNzZhOWRmMTAzN2I4NzIyOTc1ID0gJCgnPGRpdiBpZD0iaHRtbF8yNmQ3YzExNWJkYTg0ZTc2YTlkZjEwMzdiODcyMjk3NSIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+U2luZ2Fwb3JlIENpdHkgR2FsbGVyeTwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfNjJkM2I3N2NhMzU4NDIyOTkwY2ZjNTgwMDlkZmIxMDMuc2V0Q29udGVudChodG1sXzI2ZDdjMTE1YmRhODRlNzZhOWRmMTAzN2I4NzIyOTc1KTsKICAgICAgICAgICAgCgogICAgICAgICAgICByZWd1bGFyX3BvbHlnb25fbWFya2VyX2Y0NjI4NzgxMjg4NTRhM2E5NGU0M2Y0OWVjNWNjZDg2LmJpbmRQb3B1cChwb3B1cF82MmQzYjc3Y2EzNTg0MjI5OTBjZmM1ODAwOWRmYjEwMyk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcmVndWxhcl9wb2x5Z29uX21hcmtlcl8yNmU3NmE1MGFhZTY0YWI2ODQ4ZTNlY2U1YzA3YTJkNCA9IG5ldyBMLlJlZ3VsYXJQb2x5Z29uTWFya2VyKAogICAgICAgICAgICAgICAgbmV3IEwuTGF0TG5nKDEuMjc4MTgxMDIzNTA5MDc3LDEwMy44NDg0NjU4Mjk0OTM3NSksCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgaWNvbiA6IG5ldyBMLkljb24uRGVmYXVsdCgpLAogICAgICAgICAgICAgICAgICAgIGNvbG9yOiAnYmx1ZScsCiAgICAgICAgICAgICAgICAgICAgb3BhY2l0eTogMSwKICAgICAgICAgICAgICAgICAgICB3ZWlnaHQ6IDIsCiAgICAgICAgICAgICAgICAgICAgZmlsbENvbG9yOiAnIzBmMGYwZicsCiAgICAgICAgICAgICAgICAgICAgZmlsbE9wYWNpdHk6IDAuNywKICAgICAgICAgICAgICAgICAgICBudW1iZXJPZlNpZGVzOiA0LAogICAgICAgICAgICAgICAgICAgIHJvdGF0aW9uOiAwLAogICAgICAgICAgICAgICAgICAgIHJhZGl1czogMTAKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICAuYWRkVG8obWFwX2YwMWI2NzkwMGI3YzQ5N2E4Yzc2ZTVjZDFjODU5NDQ2KTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzQ2YmJjYTYxMmQ0YjQ4Y2Y5MmZkNDQwOWZkZmNiMDQwID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzk2M2ZmNWJlMzZiYjQyNDRiMDJiYzVkMTE2MTY0ZWNkID0gJCgnPGRpdiBpZD0iaHRtbF85NjNmZjViZTM2YmI0MjQ0YjAyYmM1ZDExNjE2NGVjZCIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+UGxhaW4gVmFuaWxsYTwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfNDZiYmNhNjEyZDRiNDhjZjkyZmQ0NDA5ZmRmY2IwNDAuc2V0Q29udGVudChodG1sXzk2M2ZmNWJlMzZiYjQyNDRiMDJiYzVkMTE2MTY0ZWNkKTsKICAgICAgICAgICAgCgogICAgICAgICAgICByZWd1bGFyX3BvbHlnb25fbWFya2VyXzI2ZTc2YTUwYWFlNjRhYjY4NDhlM2VjZTVjMDdhMmQ0LmJpbmRQb3B1cChwb3B1cF80NmJiY2E2MTJkNGI0OGNmOTJmZDQ0MDlmZGZjYjA0MCk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcmVndWxhcl9wb2x5Z29uX21hcmtlcl8wN2RjZjg2ZTUxMWI0NjgxYjNkMzc1OWU4Y2ZhOTljOSA9IG5ldyBMLlJlZ3VsYXJQb2x5Z29uTWFya2VyKAogICAgICAgICAgICAgICAgbmV3IEwuTGF0TG5nKDEuMjc2OTg2ODc2MjYxMjQ2NiwxMDMuODQ1MzUxNDc0MjE5MDYpLAogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgIGljb24gOiBuZXcgTC5JY29uLkRlZmF1bHQoKSwKICAgICAgICAgICAgICAgICAgICBjb2xvcjogJ2JsdWUnLAogICAgICAgICAgICAgICAgICAgIG9wYWNpdHk6IDEsCiAgICAgICAgICAgICAgICAgICAgd2VpZ2h0OiAyLAogICAgICAgICAgICAgICAgICAgIGZpbGxDb2xvcjogJyMwZjBmMGYnLAogICAgICAgICAgICAgICAgICAgIGZpbGxPcGFjaXR5OiAwLjcsCiAgICAgICAgICAgICAgICAgICAgbnVtYmVyT2ZTaWRlczogNCwKICAgICAgICAgICAgICAgICAgICByb3RhdGlvbjogMCwKICAgICAgICAgICAgICAgICAgICByYWRpdXM6IDEwCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgLmFkZFRvKG1hcF9mMDFiNjc5MDBiN2M0OTdhOGM3NmU1Y2QxYzg1OTQ0Nik7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF8zODlkNGU2YTQ5Yzc0ZDNiYTUwODlkYWFiMzBiNDlkMiA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF9hOTUxYjRiMDVlMzU0NzZiOWRjNjFkMGE2ZDA3ZThkMiA9ICQoJzxkaXYgaWQ9Imh0bWxfYTk1MWI0YjA1ZTM1NDc2YjlkYzYxZDBhNmQwN2U4ZDIiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkhlbnJpIENoYXJwZW50aWVyPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF8zODlkNGU2YTQ5Yzc0ZDNiYTUwODlkYWFiMzBiNDlkMi5zZXRDb250ZW50KGh0bWxfYTk1MWI0YjA1ZTM1NDc2YjlkYzYxZDBhNmQwN2U4ZDIpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIHJlZ3VsYXJfcG9seWdvbl9tYXJrZXJfMDdkY2Y4NmU1MTFiNDY4MWIzZDM3NTllOGNmYTk5YzkuYmluZFBvcHVwKHBvcHVwXzM4OWQ0ZTZhNDljNzRkM2JhNTA4OWRhYWIzMGI0OWQyKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciByZWd1bGFyX3BvbHlnb25fbWFya2VyX2E0YWRlN2IzNGE2ZjRhYzQ5Y2QxYzA3MjI2ZDcyZTExID0gbmV3IEwuUmVndWxhclBvbHlnb25NYXJrZXIoCiAgICAgICAgICAgICAgICBuZXcgTC5MYXRMbmcoMS4yODA0ODU4MDMzNDM4OTQ2LDEwMy44NTA2OTU0Nzk5NTM3NCksCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgaWNvbiA6IG5ldyBMLkljb24uRGVmYXVsdCgpLAogICAgICAgICAgICAgICAgICAgIGNvbG9yOiAnYmx1ZScsCiAgICAgICAgICAgICAgICAgICAgb3BhY2l0eTogMSwKICAgICAgICAgICAgICAgICAgICB3ZWlnaHQ6IDIsCiAgICAgICAgICAgICAgICAgICAgZmlsbENvbG9yOiAnIzBmMGYwZicsCiAgICAgICAgICAgICAgICAgICAgZmlsbE9wYWNpdHk6IDAuNywKICAgICAgICAgICAgICAgICAgICBudW1iZXJPZlNpZGVzOiA0LAogICAgICAgICAgICAgICAgICAgIHJvdGF0aW9uOiAwLAogICAgICAgICAgICAgICAgICAgIHJhZGl1czogMTAKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICAuYWRkVG8obWFwX2YwMWI2NzkwMGI3YzQ5N2E4Yzc2ZTVjZDFjODU5NDQ2KTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzA0NDMzMDk3ZDA3ZTQ3N2I5ZjMwMTVjN2JiMWMxODMwID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sX2FlNmE3MmJjMTA3ODQ5NzU4ZGQ1MDAyMWRmODJkMzE2ID0gJCgnPGRpdiBpZD0iaHRtbF9hZTZhNzJiYzEwNzg0OTc1OGRkNTAwMjFkZjgyZDMxNiIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+VGh1bmRlciBUZWEgUmljZTwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfMDQ0MzMwOTdkMDdlNDc3YjlmMzAxNWM3YmIxYzE4MzAuc2V0Q29udGVudChodG1sX2FlNmE3MmJjMTA3ODQ5NzU4ZGQ1MDAyMWRmODJkMzE2KTsKICAgICAgICAgICAgCgogICAgICAgICAgICByZWd1bGFyX3BvbHlnb25fbWFya2VyX2E0YWRlN2IzNGE2ZjRhYzQ5Y2QxYzA3MjI2ZDcyZTExLmJpbmRQb3B1cChwb3B1cF8wNDQzMzA5N2QwN2U0NzdiOWYzMDE1YzdiYjFjMTgzMCk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcmVndWxhcl9wb2x5Z29uX21hcmtlcl81MWZjNWEyN2YyNTY0YWRhOTZiNGU4ODk3OWI2YmMwNSA9IG5ldyBMLlJlZ3VsYXJQb2x5Z29uTWFya2VyKAogICAgICAgICAgICAgICAgbmV3IEwuTGF0TG5nKDEuMjgxMTk2MTQ2MzQ2MDgwNiwxMDMuODUwNTAyMzkwNjg1NTMpLAogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgIGljb24gOiBuZXcgTC5JY29uLkRlZmF1bHQoKSwKICAgICAgICAgICAgICAgICAgICBjb2xvcjogJ2JsdWUnLAogICAgICAgICAgICAgICAgICAgIG9wYWNpdHk6IDEsCiAgICAgICAgICAgICAgICAgICAgd2VpZ2h0OiAyLAogICAgICAgICAgICAgICAgICAgIGZpbGxDb2xvcjogJyMwZjBmMGYnLAogICAgICAgICAgICAgICAgICAgIGZpbGxPcGFjaXR5OiAwLjcsCiAgICAgICAgICAgICAgICAgICAgbnVtYmVyT2ZTaWRlczogNCwKICAgICAgICAgICAgICAgICAgICByb3RhdGlvbjogMCwKICAgICAgICAgICAgICAgICAgICByYWRpdXM6IDEwCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgLmFkZFRvKG1hcF9mMDFiNjc5MDBiN2M0OTdhOGM3NmU1Y2QxYzg1OTQ0Nik7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF84MDEwZTg0NDg2OWY0ZWI0YjZhODA1MDA4ZTZjMjhlMCA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF9kYTBmYTczMmZmYzk0YmYwOGQzOTk1MjMwYzEzOWRiMiA9ICQoJzxkaXYgaWQ9Imh0bWxfZGEwZmE3MzJmZmM5NGJmMDhkMzk5NTIzMGMxMzlkYjIiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkFsY2hlbWlzdDwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfODAxMGU4NDQ4NjlmNGViNGI2YTgwNTAwOGU2YzI4ZTAuc2V0Q29udGVudChodG1sX2RhMGZhNzMyZmZjOTRiZjA4ZDM5OTUyMzBjMTM5ZGIyKTsKICAgICAgICAgICAgCgogICAgICAgICAgICByZWd1bGFyX3BvbHlnb25fbWFya2VyXzUxZmM1YTI3ZjI1NjRhZGE5NmI0ZTg4OTc5YjZiYzA1LmJpbmRQb3B1cChwb3B1cF84MDEwZTg0NDg2OWY0ZWI0YjZhODA1MDA4ZTZjMjhlMCk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcmVndWxhcl9wb2x5Z29uX21hcmtlcl9lNmZiMDBlMmJhNzM0NmUwODVmMzAxZTk2OGIzZTg3MiA9IG5ldyBMLlJlZ3VsYXJQb2x5Z29uTWFya2VyKAogICAgICAgICAgICAgICAgbmV3IEwuTGF0TG5nKDEuMjc3NzQ1NDAzODc0OTc0MywxMDMuODUwOTkzMTIwMTA5MDIpLAogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgIGljb24gOiBuZXcgTC5JY29uLkRlZmF1bHQoKSwKICAgICAgICAgICAgICAgICAgICBjb2xvcjogJ2JsdWUnLAogICAgICAgICAgICAgICAgICAgIG9wYWNpdHk6IDEsCiAgICAgICAgICAgICAgICAgICAgd2VpZ2h0OiAyLAogICAgICAgICAgICAgICAgICAgIGZpbGxDb2xvcjogJyMwZjBmMGYnLAogICAgICAgICAgICAgICAgICAgIGZpbGxPcGFjaXR5OiAwLjcsCiAgICAgICAgICAgICAgICAgICAgbnVtYmVyT2ZTaWRlczogNCwKICAgICAgICAgICAgICAgICAgICByb3RhdGlvbjogMCwKICAgICAgICAgICAgICAgICAgICByYWRpdXM6IDEwCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgLmFkZFRvKG1hcF9mMDFiNjc5MDBiN2M0OTdhOGM3NmU1Y2QxYzg1OTQ0Nik7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF8zODViZDI2ZGVjODI0NmY4YTNmNjUwNDY5MzA4YWM2MyA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF81ZjMzMWY5YjBjYWU0YWEyODBmNWVkMmE2M2UxMWIzMCA9ICQoJzxkaXYgaWQ9Imh0bWxfNWYzMzFmOWIwY2FlNGFhMjgwZjVlZDJhNjNlMTFiMzAiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPlB1cmUgWW9nYTwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfMzg1YmQyNmRlYzgyNDZmOGEzZjY1MDQ2OTMwOGFjNjMuc2V0Q29udGVudChodG1sXzVmMzMxZjliMGNhZTRhYTI4MGY1ZWQyYTYzZTExYjMwKTsKICAgICAgICAgICAgCgogICAgICAgICAgICByZWd1bGFyX3BvbHlnb25fbWFya2VyX2U2ZmIwMGUyYmE3MzQ2ZTA4NWYzMDFlOTY4YjNlODcyLmJpbmRQb3B1cChwb3B1cF8zODViZDI2ZGVjODI0NmY4YTNmNjUwNDY5MzA4YWM2Myk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcmVndWxhcl9wb2x5Z29uX21hcmtlcl8yZDViY2FkZjM4MDk0YzZmYThlYjBlMTQyYmU1MzA2ZCA9IG5ldyBMLlJlZ3VsYXJQb2x5Z29uTWFya2VyKAogICAgICAgICAgICAgICAgbmV3IEwuTGF0TG5nKDEuMjc3ODQxNTI3NTA4NDM0NSwxMDMuODUxMTAyNjcyMDU2OTcpLAogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgIGljb24gOiBuZXcgTC5JY29uLkRlZmF1bHQoKSwKICAgICAgICAgICAgICAgICAgICBjb2xvcjogJ2JsdWUnLAogICAgICAgICAgICAgICAgICAgIG9wYWNpdHk6IDEsCiAgICAgICAgICAgICAgICAgICAgd2VpZ2h0OiAyLAogICAgICAgICAgICAgICAgICAgIGZpbGxDb2xvcjogJyMwZjBmMGYnLAogICAgICAgICAgICAgICAgICAgIGZpbGxPcGFjaXR5OiAwLjcsCiAgICAgICAgICAgICAgICAgICAgbnVtYmVyT2ZTaWRlczogNCwKICAgICAgICAgICAgICAgICAgICByb3RhdGlvbjogMCwKICAgICAgICAgICAgICAgICAgICByYWRpdXM6IDEwCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgLmFkZFRvKG1hcF9mMDFiNjc5MDBiN2M0OTdhOGM3NmU1Y2QxYzg1OTQ0Nik7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF9iNmE3NjhhZjBmMTQ0YTcwOGUzM2UyNzU3MDgzY2RmNSA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF84NTJiYjhmMTljN2M0NTg2OGZiOWU5N2RmNjg0YTRlOSA9ICQoJzxkaXYgaWQ9Imh0bWxfODUyYmI4ZjE5YzdjNDU4NjhmYjllOTdkZjY4NGE0ZTkiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkNvb2sgJmFtcDsgQnJldzwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfYjZhNzY4YWYwZjE0NGE3MDhlMzNlMjc1NzA4M2NkZjUuc2V0Q29udGVudChodG1sXzg1MmJiOGYxOWM3YzQ1ODY4ZmI5ZTk3ZGY2ODRhNGU5KTsKICAgICAgICAgICAgCgogICAgICAgICAgICByZWd1bGFyX3BvbHlnb25fbWFya2VyXzJkNWJjYWRmMzgwOTRjNmZhOGViMGUxNDJiZTUzMDZkLmJpbmRQb3B1cChwb3B1cF9iNmE3NjhhZjBmMTQ0YTcwOGUzM2UyNzU3MDgzY2RmNSk7CgogICAgICAgICAgICAKICAgICAgICAKPC9zY3JpcHQ+ onload="this.contentDocument.open();this.contentDocument.write(atob(this.getAttribute('data-html')));this.contentDocument.close();" allowfullscreen webkitallowfullscreen mozallowfullscreen></iframe></div></div>




```python

```
